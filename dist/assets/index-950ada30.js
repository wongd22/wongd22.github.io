(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function E0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function k0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rp={exports:{}},ha={},Dp={exports:{}},U={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ko=Symbol.for("react.element"),C0=Symbol.for("react.portal"),S0=Symbol.for("react.fragment"),T0=Symbol.for("react.strict_mode"),N0=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),P0=Symbol.for("react.context"),R0=Symbol.for("react.forward_ref"),D0=Symbol.for("react.suspense"),O0=Symbol.for("react.memo"),L0=Symbol.for("react.lazy"),ch=Symbol.iterator;function A0(e){return e===null||typeof e!="object"?null:(e=ch&&e[ch]||e["@@iterator"],typeof e=="function"?e:null)}var Op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lp=Object.assign,Ap={};function ri(e,t,n){this.props=e,this.context=t,this.refs=Ap,this.updater=n||Op}ri.prototype.isReactComponent={};ri.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ri.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mp(){}Mp.prototype=ri.prototype;function gc(e,t,n){this.props=e,this.context=t,this.refs=Ap,this.updater=n||Op}var vc=gc.prototype=new Mp;vc.constructor=gc;Lp(vc,ri.prototype);vc.isPureReactComponent=!0;var dh=Array.isArray,Fp=Object.prototype.hasOwnProperty,yc={current:null},jp={key:!0,ref:!0,__self:!0,__source:!0};function Up(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Fp.call(t,r)&&!jp.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ko,type:e,key:o,ref:s,props:i,_owner:yc.current}}function M0(e,t){return{$$typeof:ko,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _c(e){return typeof e=="object"&&e!==null&&e.$$typeof===ko}function F0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hh=/\/+/g;function Ja(e,t){return typeof e=="object"&&e!==null&&e.key!=null?F0(""+e.key):t.toString(36)}function as(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ko:case C0:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ja(s,0):r,dh(i)?(n="",e!=null&&(n=e.replace(hh,"$&/")+"/"),as(i,t,n,"",function(u){return u})):i!=null&&(_c(i)&&(i=M0(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(hh,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",dh(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Ja(o,a);s+=as(o,t,n,l,i)}else if(l=A0(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Ja(o,a++),s+=as(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function jo(e,t,n){if(e==null)return e;var r=[],i=0;return as(e,r,"","",function(o){return t.call(n,o,i++)}),r}function j0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Me={current:null},ls={transition:null},U0={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:ls,ReactCurrentOwner:yc};function zp(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:jo,forEach:function(e,t,n){jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jo(e,function(){t++}),t},toArray:function(e){return jo(e,function(t){return t})||[]},only:function(e){if(!_c(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=ri;U.Fragment=S0;U.Profiler=N0;U.PureComponent=gc;U.StrictMode=T0;U.Suspense=D0;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U0;U.act=zp;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Lp({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=yc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Fp.call(t,l)&&!jp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ko,type:e.type,key:i,ref:o,props:r,_owner:s}};U.createContext=function(e){return e={$$typeof:P0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I0,_context:e},e.Consumer=e};U.createElement=Up;U.createFactory=function(e){var t=Up.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:R0,render:e}};U.isValidElement=_c;U.lazy=function(e){return{$$typeof:L0,_payload:{_status:-1,_result:e},_init:j0}};U.memo=function(e,t){return{$$typeof:O0,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=ls.transition;ls.transition={};try{e()}finally{ls.transition=t}};U.unstable_act=zp;U.useCallback=function(e,t){return Me.current.useCallback(e,t)};U.useContext=function(e){return Me.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return Me.current.useDeferredValue(e)};U.useEffect=function(e,t){return Me.current.useEffect(e,t)};U.useId=function(){return Me.current.useId()};U.useImperativeHandle=function(e,t,n){return Me.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return Me.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return Me.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return Me.current.useMemo(e,t)};U.useReducer=function(e,t,n){return Me.current.useReducer(e,t,n)};U.useRef=function(e){return Me.current.useRef(e)};U.useState=function(e){return Me.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return Me.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return Me.current.useTransition()};U.version="18.3.1";Dp.exports=U;var b=Dp.exports;const A=k0(b),Br=E0({__proto__:null,default:A},[b]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var z0=b,B0=Symbol.for("react.element"),W0=Symbol.for("react.fragment"),H0=Object.prototype.hasOwnProperty,q0=z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V0={key:!0,ref:!0,__self:!0,__source:!0};function Bp(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)H0.call(t,r)&&!V0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:B0,type:e,key:o,ref:s,props:i,_owner:q0.current}}ha.Fragment=W0;ha.jsx=Bp;ha.jsxs=Bp;Rp.exports=ha;var y=Rp.exports,ql={},Wp={exports:{}},et={},Hp={exports:{}},qp={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(N,O){var L=N.length;N.push(O);e:for(;0<L;){var V=L-1>>>1,$=N[V];if(0<i($,O))N[V]=O,N[L]=$,L=V;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var O=N[0],L=N.pop();if(L!==O){N[0]=L;e:for(var V=0,$=N.length,rn=$>>>1;V<rn;){var me=2*(V+1)-1,fi=N[me],Ft=me+1,pr=N[Ft];if(0>i(fi,L))Ft<$&&0>i(pr,fi)?(N[V]=pr,N[Ft]=L,V=Ft):(N[V]=fi,N[me]=L,V=me);else if(Ft<$&&0>i(pr,L))N[V]=pr,N[Ft]=L,V=Ft;else break e}}return O}function i(N,O){var L=N.sortIndex-O.sortIndex;return L!==0?L:N.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,c=null,h=3,f=!1,p=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=N)r(u),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(u)}}function x(N){if(_=!1,v(N),!p)if(n(l)!==null)p=!0,Mt(E);else{var O=n(u);O!==null&&pt(x,O.startTime-N)}}function E(N,O){p=!1,_&&(_=!1,g(I),I=-1),f=!0;var L=h;try{for(v(O),c=n(l);c!==null&&(!(c.expirationTime>O)||N&&!he());){var V=c.callback;if(typeof V=="function"){c.callback=null,h=c.priorityLevel;var $=V(c.expirationTime<=O);O=e.unstable_now(),typeof $=="function"?c.callback=$:c===n(l)&&r(l),v(O)}else r(l);c=n(l)}if(c!==null)var rn=!0;else{var me=n(u);me!==null&&pt(x,me.startTime-O),rn=!1}return rn}finally{c=null,h=L,f=!1}}var k=!1,C=null,I=-1,z=5,D=-1;function he(){return!(e.unstable_now()-D<z)}function je(){if(C!==null){var N=e.unstable_now();D=N;var O=!0;try{O=C(!0,N)}finally{O?Ke():(k=!1,C=null)}}else k=!1}var Ke;if(typeof m=="function")Ke=function(){m(je)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,ft=Nt.port2;Nt.port1.onmessage=je,Ke=function(){ft.postMessage(null)}}else Ke=function(){w(je,0)};function Mt(N){C=N,k||(k=!0,Ke())}function pt(N,O){I=w(function(){N(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,Mt(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var L=h;h=O;try{return N()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,O){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=h;h=N;try{return O()}finally{h=L}},e.unstable_scheduleCallback=function(N,O,L){var V=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?V+L:V):L=V,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=L+$,N={id:d++,callback:O,priorityLevel:N,startTime:L,expirationTime:$,sortIndex:-1},L>V?(N.sortIndex=L,t(u,N),n(l)===null&&N===n(u)&&(_?(g(I),I=-1):_=!0,pt(x,L-V))):(N.sortIndex=$,t(l,N),p||f||(p=!0,Mt(E))),N},e.unstable_shouldYield=he,e.unstable_wrapCallback=function(N){var O=h;return function(){var L=h;h=O;try{return N.apply(this,arguments)}finally{h=L}}}})(qp);Hp.exports=qp;var $0=Hp.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var K0=b,Ze=$0;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vp=new Set,Gi={};function ur(e,t){Wr(e,t),Wr(e+"Capture",t)}function Wr(e,t){for(Gi[e]=t,e=0;e<t.length;e++)Vp.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=Object.prototype.hasOwnProperty,Q0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fh={},ph={};function Y0(e){return Vl.call(ph,e)?!0:Vl.call(fh,e)?!1:Q0.test(e)?ph[e]=!0:(fh[e]=!0,!1)}function G0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X0(e,t,n,r){if(t===null||typeof t>"u"||G0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var bc=/[\-:]([a-z])/g;function wc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bc,wc);Ce[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bc,wc);Ce[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bc,wc);Ce[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function xc(e,t,n,r){var i=Ce.hasOwnProperty(t)?Ce[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X0(t,n,i,r)&&(n=null),r||i===null?Y0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var en=K0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uo=Symbol.for("react.element"),vr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),Ec=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),$p=Symbol.for("react.provider"),Kp=Symbol.for("react.context"),kc=Symbol.for("react.forward_ref"),Kl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),Cc=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),Qp=Symbol.for("react.offscreen"),mh=Symbol.iterator;function pi(e){return e===null||typeof e!="object"?null:(e=mh&&e[mh]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,Za;function Ii(e){if(Za===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Za=t&&t[1]||""}return`
`+Za+e}var el=!1;function tl(e,t){if(!e||el)return"";el=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{el=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ii(e):""}function J0(e){switch(e.tag){case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 2:case 15:return e=tl(e.type,!1),e;case 11:return e=tl(e.type.render,!1),e;case 1:return e=tl(e.type,!0),e;default:return""}}function Yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yr:return"Fragment";case vr:return"Portal";case $l:return"Profiler";case Ec:return"StrictMode";case Kl:return"Suspense";case Ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kp:return(e.displayName||"Context")+".Consumer";case $p:return(e._context.displayName||"Context")+".Provider";case kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cc:return t=e.displayName||null,t!==null?t:Yl(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return Yl(e(t))}catch{}}return null}function Z0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yl(t);case 8:return t===Ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e_(e){var t=Yp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zo(e){e._valueTracker||(e._valueTracker=e_(e))}function Gp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gl(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xp(e,t){t=t.checked,t!=null&&xc(e,"checked",t,!1)}function Xl(e,t){Xp(e,t);var n=Rn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jl(e,t.type,Rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jl(e,t,n){(t!=="number"||ws(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pi=Array.isArray;function Pr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(S(92));if(Pi(n)){if(1<n.length)throw Error(S(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rn(n)}}function Jp(e,t){var n=Rn(t.value),r=Rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _h(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bo,em=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bo=Bo||document.createElement("div"),Bo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t_=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(e){t_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ai[t]=Ai[e]})});function tm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ai.hasOwnProperty(e)&&Ai[e]?(""+t).trim():t+"px"}function nm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var n_=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tu(e,t){if(t){if(n_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function nu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=null;function Sc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var iu=null,Rr=null,Dr=null;function bh(e){if(e=To(e)){if(typeof iu!="function")throw Error(S(280));var t=e.stateNode;t&&(t=va(t),iu(e.stateNode,e.type,t))}}function rm(e){Rr?Dr?Dr.push(e):Dr=[e]:Rr=e}function im(){if(Rr){var e=Rr,t=Dr;if(Dr=Rr=null,bh(e),t)for(e=0;e<t.length;e++)bh(t[e])}}function om(e,t){return e(t)}function sm(){}var nl=!1;function am(e,t,n){if(nl)return e(t,n);nl=!0;try{return om(e,t,n)}finally{nl=!1,(Rr!==null||Dr!==null)&&(sm(),im())}}function Ji(e,t){var n=e.stateNode;if(n===null)return null;var r=va(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var ou=!1;if(Qt)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){ou=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{ou=!1}function r_(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Mi=!1,xs=null,Es=!1,su=null,i_={onError:function(e){Mi=!0,xs=e}};function o_(e,t,n,r,i,o,s,a,l){Mi=!1,xs=null,r_.apply(i_,arguments)}function s_(e,t,n,r,i,o,s,a,l){if(o_.apply(this,arguments),Mi){if(Mi){var u=xs;Mi=!1,xs=null}else throw Error(S(198));Es||(Es=!0,su=u)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wh(e){if(cr(e)!==e)throw Error(S(188))}function a_(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return wh(i),e;if(o===r)return wh(i),t;o=o.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function um(e){return e=a_(e),e!==null?cm(e):null}function cm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cm(e);if(t!==null)return t;e=e.sibling}return null}var dm=Ze.unstable_scheduleCallback,xh=Ze.unstable_cancelCallback,l_=Ze.unstable_shouldYield,u_=Ze.unstable_requestPaint,ce=Ze.unstable_now,c_=Ze.unstable_getCurrentPriorityLevel,Tc=Ze.unstable_ImmediatePriority,hm=Ze.unstable_UserBlockingPriority,ks=Ze.unstable_NormalPriority,d_=Ze.unstable_LowPriority,fm=Ze.unstable_IdlePriority,fa=null,Ot=null;function h_(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(fa,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:m_,f_=Math.log,p_=Math.LN2;function m_(e){return e>>>=0,e===0?32:31-(f_(e)/p_|0)|0}var Wo=64,Ho=4194304;function Ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ri(a):(o&=s,o!==0&&(r=Ri(o)))}else s=n&~i,s!==0?r=Ri(s):o!==0&&(r=Ri(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),i=1<<n,r|=e[n],t&=~i;return r}function g_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-wt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=g_(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function au(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pm(){var e=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),e}function rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Co(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function y_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Nc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var H=0;function mm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gm,Ic,vm,ym,_m,lu=!1,qo=[],yn=null,_n=null,bn=null,Zi=new Map,eo=new Map,un=[],__="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eh(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(t.pointerId)}}function gi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=To(t),t!==null&&Ic(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function b_(e,t,n,r,i){switch(t){case"focusin":return yn=gi(yn,e,t,n,r,i),!0;case"dragenter":return _n=gi(_n,e,t,n,r,i),!0;case"mouseover":return bn=gi(bn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Zi.set(o,gi(Zi.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,eo.set(o,gi(eo.get(o)||null,e,t,n,r,i)),!0}return!1}function bm(e){var t=Hn(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=lm(n),t!==null){e.blockedOn=t,_m(e.priority,function(){vm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ru=r,n.target.dispatchEvent(r),ru=null}else return t=To(n),t!==null&&Ic(t),e.blockedOn=n,!1;t.shift()}return!0}function kh(e,t,n){us(e)&&n.delete(t)}function w_(){lu=!1,yn!==null&&us(yn)&&(yn=null),_n!==null&&us(_n)&&(_n=null),bn!==null&&us(bn)&&(bn=null),Zi.forEach(kh),eo.forEach(kh)}function vi(e,t){e.blockedOn===t&&(e.blockedOn=null,lu||(lu=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,w_)))}function to(e){function t(i){return vi(i,e)}if(0<qo.length){vi(qo[0],e);for(var n=1;n<qo.length;n++){var r=qo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yn!==null&&vi(yn,e),_n!==null&&vi(_n,e),bn!==null&&vi(bn,e),Zi.forEach(t),eo.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)bm(n),n.blockedOn===null&&un.shift()}var Or=en.ReactCurrentBatchConfig,Ss=!0;function x_(e,t,n,r){var i=H,o=Or.transition;Or.transition=null;try{H=1,Pc(e,t,n,r)}finally{H=i,Or.transition=o}}function E_(e,t,n,r){var i=H,o=Or.transition;Or.transition=null;try{H=4,Pc(e,t,n,r)}finally{H=i,Or.transition=o}}function Pc(e,t,n,r){if(Ss){var i=uu(e,t,n,r);if(i===null)fl(e,t,r,Ts,n),Eh(e,r);else if(b_(i,e,t,n,r))r.stopPropagation();else if(Eh(e,r),t&4&&-1<__.indexOf(e)){for(;i!==null;){var o=To(i);if(o!==null&&gm(o),o=uu(e,t,n,r),o===null&&fl(e,t,r,Ts,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fl(e,t,r,null,n)}}var Ts=null;function uu(e,t,n,r){if(Ts=null,e=Sc(r),e=Hn(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ts=e,null}function wm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c_()){case Tc:return 1;case hm:return 4;case ks:case d_:return 16;case fm:return 536870912;default:return 16}default:return 16}}var fn=null,Rc=null,cs=null;function xm(){if(cs)return cs;var e,t=Rc,n=t.length,r,i="value"in fn?fn.value:fn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return cs=i.slice(e,1<r?1-r:void 0)}function ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vo(){return!0}function Ch(){return!1}function tt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vo:Ch,this.isPropagationStopped=Ch,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),t}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=tt(ii),So=re({},ii,{view:0,detail:0}),k_=tt(So),il,ol,yi,pa=re({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(il=e.screenX-yi.screenX,ol=e.screenY-yi.screenY):ol=il=0,yi=e),il)},movementY:function(e){return"movementY"in e?e.movementY:ol}}),Sh=tt(pa),C_=re({},pa,{dataTransfer:0}),S_=tt(C_),T_=re({},So,{relatedTarget:0}),sl=tt(T_),N_=re({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),I_=tt(N_),P_=re({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R_=tt(P_),D_=re({},ii,{data:0}),Th=tt(D_),O_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A_[e])?!!t[e]:!1}function Oc(){return M_}var F_=re({},So,{key:function(e){if(e.key){var t=O_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j_=tt(F_),U_=re({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=tt(U_),z_=re({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),B_=tt(z_),W_=re({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),H_=tt(W_),q_=re({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),V_=tt(q_),$_=[9,13,27,32],Lc=Qt&&"CompositionEvent"in window,Fi=null;Qt&&"documentMode"in document&&(Fi=document.documentMode);var K_=Qt&&"TextEvent"in window&&!Fi,Em=Qt&&(!Lc||Fi&&8<Fi&&11>=Fi),Ih=String.fromCharCode(32),Ph=!1;function km(e,t){switch(e){case"keyup":return $_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function Q_(e,t){switch(e){case"compositionend":return Cm(t);case"keypress":return t.which!==32?null:(Ph=!0,Ih);case"textInput":return e=t.data,e===Ih&&Ph?null:e;default:return null}}function Y_(e,t){if(_r)return e==="compositionend"||!Lc&&km(e,t)?(e=xm(),cs=Rc=fn=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Em&&t.locale!=="ko"?null:t.data;default:return null}}var G_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G_[e.type]:t==="textarea"}function Sm(e,t,n,r){rm(r),t=Ns(t,"onChange"),0<t.length&&(n=new Dc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ji=null,no=null;function X_(e){Fm(e,0)}function ma(e){var t=xr(e);if(Gp(t))return e}function J_(e,t){if(e==="change")return t}var Tm=!1;if(Qt){var al;if(Qt){var ll="oninput"in document;if(!ll){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),ll=typeof Dh.oninput=="function"}al=ll}else al=!1;Tm=al&&(!document.documentMode||9<document.documentMode)}function Oh(){ji&&(ji.detachEvent("onpropertychange",Nm),no=ji=null)}function Nm(e){if(e.propertyName==="value"&&ma(no)){var t=[];Sm(t,no,e,Sc(e)),am(X_,t)}}function Z_(e,t,n){e==="focusin"?(Oh(),ji=t,no=n,ji.attachEvent("onpropertychange",Nm)):e==="focusout"&&Oh()}function eb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ma(no)}function tb(e,t){if(e==="click")return ma(t)}function nb(e,t){if(e==="input"||e==="change")return ma(t)}function rb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:rb;function ro(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vl.call(t,i)||!kt(e[i],t[i]))return!1}return!0}function Lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ah(e,t){var n=Lh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lh(n)}}function Im(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Im(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pm(){for(var e=window,t=ws();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ws(e.document)}return t}function Ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ib(e){var t=Pm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Im(n.ownerDocument.documentElement,n)){if(r!==null&&Ac(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ah(n,o);var s=Ah(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ob=Qt&&"documentMode"in document&&11>=document.documentMode,br=null,cu=null,Ui=null,du=!1;function Mh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;du||br==null||br!==ws(r)||(r=br,"selectionStart"in r&&Ac(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ui&&ro(Ui,r)||(Ui=r,r=Ns(cu,"onSelect"),0<r.length&&(t=new Dc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function $o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionend:$o("Transition","TransitionEnd")},ul={},Rm={};Qt&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function ga(e){if(ul[e])return ul[e];if(!wr[e])return e;var t=wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rm)return ul[e]=t[n];return e}var Dm=ga("animationend"),Om=ga("animationiteration"),Lm=ga("animationstart"),Am=ga("transitionend"),Mm=new Map,Fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){Mm.set(e,t),ur(t,[e])}for(var cl=0;cl<Fh.length;cl++){var dl=Fh[cl],sb=dl.toLowerCase(),ab=dl[0].toUpperCase()+dl.slice(1);An(sb,"on"+ab)}An(Dm,"onAnimationEnd");An(Om,"onAnimationIteration");An(Lm,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(Am,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function jh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,s_(r,t,void 0,e),e.currentTarget=null}function Fm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jh(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jh(i,a,u),o=l}}}if(Es)throw e=su,Es=!1,su=null,e}function X(e,t){var n=t[gu];n===void 0&&(n=t[gu]=new Set);var r=e+"__bubble";n.has(r)||(jm(t,e,2,!1),n.add(r))}function hl(e,t,n){var r=0;t&&(r|=4),jm(n,e,r,t)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[Ko]){e[Ko]=!0,Vp.forEach(function(n){n!=="selectionchange"&&(lb.has(n)||hl(n,!1,e),hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ko]||(t[Ko]=!0,hl("selectionchange",!1,t))}}function jm(e,t,n,r){switch(wm(t)){case 1:var i=x_;break;case 4:i=E_;break;default:i=Pc}n=i.bind(null,t,n,e),i=void 0,!ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Hn(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}am(function(){var u=o,d=Sc(n),c=[];e:{var h=Mm.get(e);if(h!==void 0){var f=Dc,p=e;switch(e){case"keypress":if(ds(n)===0)break e;case"keydown":case"keyup":f=j_;break;case"focusin":p="focus",f=sl;break;case"focusout":p="blur",f=sl;break;case"beforeblur":case"afterblur":f=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=S_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=B_;break;case Dm:case Om:case Lm:f=I_;break;case Am:f=H_;break;case"scroll":f=k_;break;case"wheel":f=V_;break;case"copy":case"cut":case"paste":f=R_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Nh}var _=(t&4)!==0,w=!_&&e==="scroll",g=_?h!==null?h+"Capture":null:h;_=[];for(var m=u,v;m!==null;){v=m;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,g!==null&&(x=Ji(m,g),x!=null&&_.push(oo(m,x,v)))),w)break;m=m.return}0<_.length&&(h=new f(h,p,null,n,d),c.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==ru&&(p=n.relatedTarget||n.fromElement)&&(Hn(p)||p[Yt]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Hn(p):null,p!==null&&(w=cr(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(_=Sh,x="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(_=Nh,x="onPointerLeave",g="onPointerEnter",m="pointer"),w=f==null?h:xr(f),v=p==null?h:xr(p),h=new _(x,m+"leave",f,n,d),h.target=w,h.relatedTarget=v,x=null,Hn(d)===u&&(_=new _(g,m+"enter",p,n,d),_.target=v,_.relatedTarget=w,x=_),w=x,f&&p)t:{for(_=f,g=p,m=0,v=_;v;v=mr(v))m++;for(v=0,x=g;x;x=mr(x))v++;for(;0<m-v;)_=mr(_),m--;for(;0<v-m;)g=mr(g),v--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=mr(_),g=mr(g)}_=null}else _=null;f!==null&&Uh(c,h,f,_,!1),p!==null&&w!==null&&Uh(c,w,p,_,!0)}}e:{if(h=u?xr(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=J_;else if(Rh(h))if(Tm)E=nb;else{E=eb;var k=Z_}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=tb);if(E&&(E=E(e,u))){Sm(c,E,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Jl(h,"number",h.value)}switch(k=u?xr(u):window,e){case"focusin":(Rh(k)||k.contentEditable==="true")&&(br=k,cu=u,Ui=null);break;case"focusout":Ui=cu=br=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,Mh(c,n,d);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Mh(c,n,d)}var C;if(Lc)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else _r?km(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Em&&n.locale!=="ko"&&(_r||I!=="onCompositionStart"?I==="onCompositionEnd"&&_r&&(C=xm()):(fn=d,Rc="value"in fn?fn.value:fn.textContent,_r=!0)),k=Ns(u,I),0<k.length&&(I=new Th(I,e,null,n,d),c.push({event:I,listeners:k}),C?I.data=C:(C=Cm(n),C!==null&&(I.data=C)))),(C=K_?Q_(e,n):Y_(e,n))&&(u=Ns(u,"onBeforeInput"),0<u.length&&(d=new Th("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=C))}Fm(c,t)})}function oo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ns(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ji(e,n),o!=null&&r.unshift(oo(e,o,i)),o=Ji(e,t),o!=null&&r.push(oo(e,o,i))),e=e.return}return r}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uh(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ji(n,o),l!=null&&s.unshift(oo(n,l,a))):i||(l=Ji(n,o),l!=null&&s.push(oo(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var ub=/\r\n?/g,cb=/\u0000|\uFFFD/g;function zh(e){return(typeof e=="string"?e:""+e).replace(ub,`
`).replace(cb,"")}function Qo(e,t,n){if(t=zh(t),zh(e)!==t&&n)throw Error(S(425))}function Is(){}var hu=null,fu=null;function pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mu=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,hb=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(e){return Bh.resolve(null).then(e).catch(fb)}:mu;function fb(e){setTimeout(function(){throw e})}function pl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),to(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);to(t)}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var oi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+oi,so="__reactProps$"+oi,Yt="__reactContainer$"+oi,gu="__reactEvents$"+oi,pb="__reactListeners$"+oi,mb="__reactHandles$"+oi;function Hn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wh(e);e!==null;){if(n=e[Rt])return n;e=Wh(e)}return t}e=n,n=e.parentNode}return null}function To(e){return e=e[Rt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function va(e){return e[so]||null}var vu=[],Er=-1;function Mn(e){return{current:e}}function J(e){0>Er||(e.current=vu[Er],vu[Er]=null,Er--)}function G(e,t){Er++,vu[Er]=e.current,e.current=t}var Dn={},Re=Mn(Dn),He=Mn(!1),Zn=Dn;function Hr(e,t){var n=e.type.contextTypes;if(!n)return Dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qe(e){return e=e.childContextTypes,e!=null}function Ps(){J(He),J(Re)}function Hh(e,t,n){if(Re.current!==Dn)throw Error(S(168));G(Re,t),G(He,n)}function Um(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(S(108,Z0(e)||"Unknown",i));return re({},n,r)}function Rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,Zn=Re.current,G(Re,e),G(He,He.current),!0}function qh(e,t,n){var r=e.stateNode;if(!r)throw Error(S(169));n?(e=Um(e,t,Zn),r.__reactInternalMemoizedMergedChildContext=e,J(He),J(Re),G(Re,e)):J(He),G(He,n)}var zt=null,ya=!1,ml=!1;function zm(e){zt===null?zt=[e]:zt.push(e)}function gb(e){ya=!0,zm(e)}function Fn(){if(!ml&&zt!==null){ml=!0;var e=0,t=H;try{var n=zt;for(H=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,ya=!1}catch(i){throw zt!==null&&(zt=zt.slice(e+1)),dm(Tc,Fn),i}finally{H=t,ml=!1}}return null}var kr=[],Cr=0,Ds=null,Os=0,it=[],ot=0,er=null,Bt=1,Wt="";function jn(e,t){kr[Cr++]=Os,kr[Cr++]=Ds,Ds=e,Os=t}function Bm(e,t,n){it[ot++]=Bt,it[ot++]=Wt,it[ot++]=er,er=e;var r=Bt;e=Wt;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var o=32-wt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Bt=1<<32-wt(t)+i|n<<i|r,Wt=o+e}else Bt=1<<o|n<<i|r,Wt=e}function Mc(e){e.return!==null&&(jn(e,1),Bm(e,1,0))}function Fc(e){for(;e===Ds;)Ds=kr[--Cr],kr[Cr]=null,Os=kr[--Cr],kr[Cr]=null;for(;e===er;)er=it[--ot],it[ot]=null,Wt=it[--ot],it[ot]=null,Bt=it[--ot],it[ot]=null}var Je=null,Ge=null,Z=!1,yt=null;function Wm(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ge=wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ge=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=er!==null?{id:Bt,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ge=null,!0):!1;default:return!1}}function yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _u(e){if(Z){var t=Ge;if(t){var n=t;if(!Vh(e,t)){if(yu(e))throw Error(S(418));t=wn(n.nextSibling);var r=Je;t&&Vh(e,t)?Wm(r,n):(e.flags=e.flags&-4097|2,Z=!1,Je=e)}}else{if(yu(e))throw Error(S(418));e.flags=e.flags&-4097|2,Z=!1,Je=e}}}function $h(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Yo(e){if(e!==Je)return!1;if(!Z)return $h(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pu(e.type,e.memoizedProps)),t&&(t=Ge)){if(yu(e))throw Hm(),Error(S(418));for(;t;)Wm(e,t),t=wn(t.nextSibling)}if($h(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ge=wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ge=null}}else Ge=Je?wn(e.stateNode.nextSibling):null;return!0}function Hm(){for(var e=Ge;e;)e=wn(e.nextSibling)}function qr(){Ge=Je=null,Z=!1}function jc(e){yt===null?yt=[e]:yt.push(e)}var vb=en.ReactCurrentBatchConfig;function _i(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kh(e){var t=e._init;return t(e._payload)}function qm(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Cn(g,m),g.index=0,g.sibling=null,g}function o(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,x){return m===null||m.tag!==6?(m=xl(v,g.mode,x),m.return=g,m):(m=i(m,v),m.return=g,m)}function l(g,m,v,x){var E=v.type;return E===yr?d(g,m,v.props.children,x,v.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===an&&Kh(E)===m.type)?(x=i(m,v.props),x.ref=_i(g,m,v),x.return=g,x):(x=ys(v.type,v.key,v.props,null,g.mode,x),x.ref=_i(g,m,v),x.return=g,x)}function u(g,m,v,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=El(v,g.mode,x),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function d(g,m,v,x,E){return m===null||m.tag!==7?(m=Yn(v,g.mode,x,E),m.return=g,m):(m=i(m,v),m.return=g,m)}function c(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xl(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Uo:return v=ys(m.type,m.key,m.props,null,g.mode,v),v.ref=_i(g,null,m),v.return=g,v;case vr:return m=El(m,g.mode,v),m.return=g,m;case an:var x=m._init;return c(g,x(m._payload),v)}if(Pi(m)||pi(m))return m=Yn(m,g.mode,v,null),m.return=g,m;Go(g,m)}return null}function h(g,m,v,x){var E=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(g,m,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Uo:return v.key===E?l(g,m,v,x):null;case vr:return v.key===E?u(g,m,v,x):null;case an:return E=v._init,h(g,m,E(v._payload),x)}if(Pi(v)||pi(v))return E!==null?null:d(g,m,v,x,null);Go(g,v)}return null}function f(g,m,v,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(v)||null,a(m,g,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uo:return g=g.get(x.key===null?v:x.key)||null,l(m,g,x,E);case vr:return g=g.get(x.key===null?v:x.key)||null,u(m,g,x,E);case an:var k=x._init;return f(g,m,v,k(x._payload),E)}if(Pi(x)||pi(x))return g=g.get(v)||null,d(m,g,x,E,null);Go(m,x)}return null}function p(g,m,v,x){for(var E=null,k=null,C=m,I=m=0,z=null;C!==null&&I<v.length;I++){C.index>I?(z=C,C=null):z=C.sibling;var D=h(g,C,v[I],x);if(D===null){C===null&&(C=z);break}e&&C&&D.alternate===null&&t(g,C),m=o(D,m,I),k===null?E=D:k.sibling=D,k=D,C=z}if(I===v.length)return n(g,C),Z&&jn(g,I),E;if(C===null){for(;I<v.length;I++)C=c(g,v[I],x),C!==null&&(m=o(C,m,I),k===null?E=C:k.sibling=C,k=C);return Z&&jn(g,I),E}for(C=r(g,C);I<v.length;I++)z=f(C,g,I,v[I],x),z!==null&&(e&&z.alternate!==null&&C.delete(z.key===null?I:z.key),m=o(z,m,I),k===null?E=z:k.sibling=z,k=z);return e&&C.forEach(function(he){return t(g,he)}),Z&&jn(g,I),E}function _(g,m,v,x){var E=pi(v);if(typeof E!="function")throw Error(S(150));if(v=E.call(v),v==null)throw Error(S(151));for(var k=E=null,C=m,I=m=0,z=null,D=v.next();C!==null&&!D.done;I++,D=v.next()){C.index>I?(z=C,C=null):z=C.sibling;var he=h(g,C,D.value,x);if(he===null){C===null&&(C=z);break}e&&C&&he.alternate===null&&t(g,C),m=o(he,m,I),k===null?E=he:k.sibling=he,k=he,C=z}if(D.done)return n(g,C),Z&&jn(g,I),E;if(C===null){for(;!D.done;I++,D=v.next())D=c(g,D.value,x),D!==null&&(m=o(D,m,I),k===null?E=D:k.sibling=D,k=D);return Z&&jn(g,I),E}for(C=r(g,C);!D.done;I++,D=v.next())D=f(C,g,I,D.value,x),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?I:D.key),m=o(D,m,I),k===null?E=D:k.sibling=D,k=D);return e&&C.forEach(function(je){return t(g,je)}),Z&&jn(g,I),E}function w(g,m,v,x){if(typeof v=="object"&&v!==null&&v.type===yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Uo:e:{for(var E=v.key,k=m;k!==null;){if(k.key===E){if(E=v.type,E===yr){if(k.tag===7){n(g,k.sibling),m=i(k,v.props.children),m.return=g,g=m;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===an&&Kh(E)===k.type){n(g,k.sibling),m=i(k,v.props),m.ref=_i(g,k,v),m.return=g,g=m;break e}n(g,k);break}else t(g,k);k=k.sibling}v.type===yr?(m=Yn(v.props.children,g.mode,x,v.key),m.return=g,g=m):(x=ys(v.type,v.key,v.props,null,g.mode,x),x.ref=_i(g,m,v),x.return=g,g=x)}return s(g);case vr:e:{for(k=v.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=El(v,g.mode,x),m.return=g,g=m}return s(g);case an:return k=v._init,w(g,m,k(v._payload),x)}if(Pi(v))return p(g,m,v,x);if(pi(v))return _(g,m,v,x);Go(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,v),m.return=g,g=m):(n(g,m),m=xl(v,g.mode,x),m.return=g,g=m),s(g)):n(g,m)}return w}var Vr=qm(!0),Vm=qm(!1),Ls=Mn(null),As=null,Sr=null,Uc=null;function zc(){Uc=Sr=As=null}function Bc(e){var t=Ls.current;J(Ls),e._currentValue=t}function bu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lr(e,t){As=e,Uc=Sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Uc!==e)if(e={context:e,memoizedValue:t,next:null},Sr===null){if(As===null)throw Error(S(308));Sr=e,As.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var qn=null;function Wc(e){qn===null?qn=[e]:qn.push(e)}function $m(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wc(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function Hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Km(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gt(e,n)}return i=r.interleaved,i===null?(t.next=t,Wc(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gt(e,n)}function hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}function Qh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;ln=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;s=0,d=u=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,_=a;switch(h=t,f=n,_.tag){case 1:if(p=_.payload,typeof p=="function"){c=p.call(f,c,h);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,h=typeof p=="function"?p.call(f,c,h):p,h==null)break e;c=re({},c,h);break e;case 2:ln=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=f,l=c):d=d.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);nr|=s,e.lanes=s,e.memoizedState=c}}function Yh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var No={},Lt=Mn(No),ao=Mn(No),lo=Mn(No);function Vn(e){if(e===No)throw Error(S(174));return e}function qc(e,t){switch(G(lo,t),G(ao,e),G(Lt,No),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eu(t,e)}J(Lt),G(Lt,t)}function $r(){J(Lt),J(ao),J(lo)}function Qm(e){Vn(lo.current);var t=Vn(Lt.current),n=eu(t,e.type);t!==n&&(G(ao,e),G(Lt,n))}function Vc(e){ao.current===e&&(J(Lt),J(ao))}var te=Mn(0);function Fs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gl=[];function $c(){for(var e=0;e<gl.length;e++)gl[e]._workInProgressVersionPrimary=null;gl.length=0}var fs=en.ReactCurrentDispatcher,vl=en.ReactCurrentBatchConfig,tr=0,ne=null,fe=null,ve=null,js=!1,zi=!1,uo=0,yb=0;function Te(){throw Error(S(321))}function Kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Qc(e,t,n,r,i,o){if(tr=o,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=e===null||e.memoizedState===null?xb:Eb,e=n(r,i),zi){o=0;do{if(zi=!1,uo=0,25<=o)throw Error(S(301));o+=1,ve=fe=null,t.updateQueue=null,fs.current=kb,e=n(r,i)}while(zi)}if(fs.current=Us,t=fe!==null&&fe.next!==null,tr=0,ve=fe=ne=null,js=!1,t)throw Error(S(300));return e}function Yc(){var e=uo!==0;return uo=0,e}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ne.memoizedState=ve=e:ve=ve.next=e,ve}function ct(){if(fe===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ve===null?ne.memoizedState:ve.next;if(t!==null)ve=t,fe=e;else{if(e===null)throw Error(S(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ve===null?ne.memoizedState=ve=e:ve=ve.next=e}return ve}function co(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=ct(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=fe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((tr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=r):l=l.next=c,ne.lanes|=d,nr|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,kt(r,t.memoizedState)||(ze=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ne.lanes|=o,nr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _l(e){var t=ct(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);kt(o,t.memoizedState)||(ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ym(){}function Gm(e,t){var n=ne,r=ct(),i=t(),o=!kt(r.memoizedState,i);if(o&&(r.memoizedState=i,ze=!0),r=r.queue,Gc(Zm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,ho(9,Jm.bind(null,n,r,i,t),void 0,null),we===null)throw Error(S(349));tr&30||Xm(n,t,i)}return i}function Xm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jm(e,t,n,r){t.value=n,t.getSnapshot=r,eg(t)&&tg(e)}function Zm(e,t,n){return n(function(){eg(t)&&tg(e)})}function eg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function tg(e){var t=Gt(e,1);t!==null&&xt(t,e,1,-1)}function Gh(e){var t=Pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},t.queue=e,e=e.dispatch=wb.bind(null,ne,e),[t.memoizedState,e]}function ho(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ng(){return ct().memoizedState}function ps(e,t,n,r){var i=Pt();ne.flags|=e,i.memoizedState=ho(1|t,n,void 0,r===void 0?null:r)}function _a(e,t,n,r){var i=ct();r=r===void 0?null:r;var o=void 0;if(fe!==null){var s=fe.memoizedState;if(o=s.destroy,r!==null&&Kc(r,s.deps)){i.memoizedState=ho(t,n,o,r);return}}ne.flags|=e,i.memoizedState=ho(1|t,n,o,r)}function Xh(e,t){return ps(8390656,8,e,t)}function Gc(e,t){return _a(2048,8,e,t)}function rg(e,t){return _a(4,2,e,t)}function ig(e,t){return _a(4,4,e,t)}function og(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sg(e,t,n){return n=n!=null?n.concat([e]):null,_a(4,4,og.bind(null,t,e),n)}function Xc(){}function ag(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lg(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ug(e,t,n){return tr&21?(kt(n,t)||(n=pm(),ne.lanes|=n,nr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=n)}function _b(e,t){var n=H;H=n!==0&&4>n?n:4,e(!0);var r=vl.transition;vl.transition={};try{e(!1),t()}finally{H=n,vl.transition=r}}function cg(){return ct().memoizedState}function bb(e,t,n){var r=kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dg(e))hg(t,n);else if(n=$m(e,t,n,r),n!==null){var i=Le();xt(n,e,r,i),fg(n,t,r)}}function wb(e,t,n){var r=kn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dg(e))hg(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,kt(a,s)){var l=t.interleaved;l===null?(i.next=i,Wc(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=$m(e,t,i,r),n!==null&&(i=Le(),xt(n,e,r,i),fg(n,t,r))}}function dg(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function hg(e,t){zi=js=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}var Us={readContext:ut,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},xb={readContext:ut,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Xh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ps(4194308,4,og.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return ps(4,2,e,t)},useMemo:function(e,t){var n=Pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bb.bind(null,ne,e),[r.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:Gh,useDebugValue:Xc,useDeferredValue:function(e){return Pt().memoizedState=e},useTransition:function(){var e=Gh(!1),t=e[0];return e=_b.bind(null,e[1]),Pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ne,i=Pt();if(Z){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),we===null)throw Error(S(349));tr&30||Xm(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Xh(Zm.bind(null,r,o,e),[e]),r.flags|=2048,ho(9,Jm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Pt(),t=we.identifierPrefix;if(Z){var n=Wt,r=Bt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Eb={readContext:ut,useCallback:ag,useContext:ut,useEffect:Gc,useImperativeHandle:sg,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:lg,useReducer:yl,useRef:ng,useState:function(){return yl(co)},useDebugValue:Xc,useDeferredValue:function(e){var t=ct();return ug(t,fe.memoizedState,e)},useTransition:function(){var e=yl(co)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Ym,useSyncExternalStore:Gm,useId:cg,unstable_isNewReconciler:!1},kb={readContext:ut,useCallback:ag,useContext:ut,useEffect:Gc,useImperativeHandle:sg,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:lg,useReducer:_l,useRef:ng,useState:function(){return _l(co)},useDebugValue:Xc,useDeferredValue:function(e){var t=ct();return fe===null?t.memoizedState=e:ug(t,fe.memoizedState,e)},useTransition:function(){var e=_l(co)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Ym,useSyncExternalStore:Gm,useId:cg,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Le(),i=kn(e),o=qt(r,i);o.payload=t,n!=null&&(o.callback=n),t=xn(e,o,i),t!==null&&(xt(t,e,i,r),hs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Le(),i=kn(e),o=qt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=xn(e,o,i),t!==null&&(xt(t,e,i,r),hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Le(),r=kn(e),i=qt(n,r);i.tag=2,t!=null&&(i.callback=t),t=xn(e,i,r),t!==null&&(xt(t,e,r,n),hs(t,e,r))}};function Jh(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ro(n,r)||!ro(i,o):!0}function pg(e,t,n){var r=!1,i=Dn,o=t.contextType;return typeof o=="object"&&o!==null?o=ut(o):(i=qe(t)?Zn:Re.current,r=t.contextTypes,o=(r=r!=null)?Hr(e,i):Dn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Zh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function xu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ut(o):(o=qe(t)?Zn:Re.current,i.context=Hr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(wu(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ba.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kr(e,t){try{var n="",r=t;do n+=J0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Eu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cb=typeof WeakMap=="function"?WeakMap:Map;function mg(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,Du=r),Eu(e,t)},n}function gg(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Eu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Eu(e,t),typeof r!="function"&&(En===null?En=new Set([this]):En.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ef(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cb;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ub.bind(null,e,t,n),t.then(e,e))}function tf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var Sb=en.ReactCurrentOwner,ze=!1;function Oe(e,t,n,r){t.child=e===null?Vm(t,null,n,r):Vr(t,e.child,n,r)}function rf(e,t,n,r,i){n=n.render;var o=t.ref;return Lr(t,i),r=Qc(e,t,n,r,o,i),n=Yc(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xt(e,t,i)):(Z&&n&&Mc(t),t.flags|=1,Oe(e,t,r,i),t.child)}function of(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!od(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,vg(e,t,o,r,i)):(e=ys(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(s,r)&&e.ref===t.ref)return Xt(e,t,i)}return t.flags|=1,e=Cn(o,r),e.ref=t.ref,e.return=t,t.child=e}function vg(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ro(o,r)&&e.ref===t.ref)if(ze=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,Xt(e,t,i)}return ku(e,t,n,r,i)}function yg(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Nr,Qe),Qe|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Nr,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,G(Nr,Qe),Qe|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,G(Nr,Qe),Qe|=r;return Oe(e,t,i,n),t.child}function _g(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ku(e,t,n,r,i){var o=qe(n)?Zn:Re.current;return o=Hr(t,o),Lr(t,i),n=Qc(e,t,n,r,o,i),r=Yc(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xt(e,t,i)):(Z&&r&&Mc(t),t.flags|=1,Oe(e,t,n,i),t.child)}function sf(e,t,n,r,i){if(qe(n)){var o=!0;Rs(t)}else o=!1;if(Lr(t,i),t.stateNode===null)ms(e,t),pg(t,n,r),xu(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=qe(n)?Zn:Re.current,u=Hr(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Zh(t,s,r,u),ln=!1;var h=t.memoizedState;s.state=h,Ms(t,r,s,i),l=t.memoizedState,a!==r||h!==l||He.current||ln?(typeof d=="function"&&(wu(t,n,d,r),l=t.memoizedState),(a=ln||Jh(t,n,a,r,h,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Km(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gt(t.type,a),s.props=u,c=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ut(l):(l=qe(n)?Zn:Re.current,l=Hr(t,l));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||h!==l)&&Zh(t,s,r,l),ln=!1,h=t.memoizedState,s.state=h,Ms(t,r,s,i);var p=t.memoizedState;a!==c||h!==p||He.current||ln?(typeof f=="function"&&(wu(t,n,f,r),p=t.memoizedState),(u=ln||Jh(t,n,u,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,o,i)}function Cu(e,t,n,r,i,o){_g(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&qh(t,n,!1),Xt(e,t,o);r=t.stateNode,Sb.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Vr(t,e.child,null,o),t.child=Vr(t,null,a,o)):Oe(e,t,a,o),t.memoizedState=r.state,i&&qh(t,n,!0),t.child}function bg(e){var t=e.stateNode;t.pendingContext?Hh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hh(e,t.context,!1),qc(e,t.containerInfo)}function af(e,t,n,r,i){return qr(),jc(i),t.flags|=256,Oe(e,t,n,r),t.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function Tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function wg(e,t,n){var r=t.pendingProps,i=te.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),G(te,i&1),e===null)return _u(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ea(s,r,0,null),e=Yn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Tu(n),t.memoizedState=Su,e):Jc(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Tb(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Cn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Cn(a,o):(o=Yn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Tu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Su,r}return o=e.child,e=o.sibling,r=Cn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jc(e,t){return t=Ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xo(e,t,n,r){return r!==null&&jc(r),Vr(t,e.child,null,n),e=Jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tb(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=bl(Error(S(422))),Xo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ea({mode:"visible",children:r.children},i,0,null),o=Yn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Vr(t,e.child,null,s),t.child.memoizedState=Tu(s),t.memoizedState=Su,o);if(!(t.mode&1))return Xo(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(S(419)),r=bl(o,r,void 0),Xo(e,t,s,r)}if(a=(s&e.childLanes)!==0,ze||a){if(r=we,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gt(e,i),xt(r,e,i,-1))}return id(),r=bl(Error(S(421))),Xo(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zb.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ge=wn(i.nextSibling),Je=t,Z=!0,yt=null,e!==null&&(it[ot++]=Bt,it[ot++]=Wt,it[ot++]=er,Bt=e.id,Wt=e.overflow,er=t),t=Jc(t,r.children),t.flags|=4096,t)}function lf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bu(e.return,t,n)}function wl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function xg(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Oe(e,t,r.children,n),r=te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lf(e,n,t);else if(e.tag===19)lf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(G(te,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Fs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Fs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}wl(t,!0,n,null,o);break;case"together":wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ms(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nb(e,t,n){switch(t.tag){case 3:bg(t),qr();break;case 5:Qm(t);break;case 1:qe(t.type)&&Rs(t);break;case 4:qc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;G(Ls,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(G(te,te.current&1),t.flags|=128,null):n&t.child.childLanes?wg(e,t,n):(G(te,te.current&1),e=Xt(e,t,n),e!==null?e.sibling:null);G(te,te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(te,te.current),r)break;return null;case 22:case 23:return t.lanes=0,yg(e,t,n)}return Xt(e,t,n)}var Eg,Nu,kg,Cg;Eg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nu=function(){};kg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vn(Lt.current);var o=null;switch(n){case"input":i=Gl(e,i),r=Gl(e,r),o=[];break;case"select":i=re({},i,{value:void 0}),r=re({},r,{value:void 0}),o=[];break;case"textarea":i=Zl(e,i),r=Zl(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Is)}tu(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&X("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Cg=function(e,t,n,r){n!==r&&(t.flags|=4)};function bi(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ib(e,t,n){var r=t.pendingProps;switch(Fc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return qe(t.type)&&Ps(),Ne(t),null;case 3:return r=t.stateNode,$r(),J(He),J(Re),$c(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(Au(yt),yt=null))),Nu(e,t),Ne(t),null;case 5:Vc(t);var i=Vn(lo.current);if(n=t.type,e!==null&&t.stateNode!=null)kg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(S(166));return Ne(t),null}if(e=Vn(Lt.current),Yo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Rt]=t,r[so]=o,e=(t.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(i=0;i<Di.length;i++)X(Di[i],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":gh(r,o),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},X("invalid",r);break;case"textarea":yh(r,o),X("invalid",r)}tu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Qo(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Qo(r.textContent,a,e),i=["children",""+a]):Gi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&X("scroll",r)}switch(n){case"input":zo(r),vh(r,o,!0);break;case"textarea":zo(r),_h(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Is)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Rt]=t,e[so]=r,Eg(e,t,!1,!1),t.stateNode=e;e:{switch(s=nu(n,r),n){case"dialog":X("cancel",e),X("close",e),i=r;break;case"iframe":case"object":case"embed":X("load",e),i=r;break;case"video":case"audio":for(i=0;i<Di.length;i++)X(Di[i],e);i=r;break;case"source":X("error",e),i=r;break;case"img":case"image":case"link":X("error",e),X("load",e),i=r;break;case"details":X("toggle",e),i=r;break;case"input":gh(e,r),i=Gl(e,r),X("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=re({},r,{value:void 0}),X("invalid",e);break;case"textarea":yh(e,r),i=Zl(e,r),X("invalid",e);break;default:i=r}tu(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?nm(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&em(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xi(e,l):typeof l=="number"&&Xi(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&X("scroll",e):l!=null&&xc(e,o,l,s))}switch(n){case"input":zo(e),vh(e,r,!1);break;case"textarea":zo(e),_h(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Pr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Pr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Is)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Cg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(S(166));if(n=Vn(lo.current),Vn(Lt.current),Yo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(o=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Qo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Ne(t),null;case 13:if(J(te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&Ge!==null&&t.mode&1&&!(t.flags&128))Hm(),qr(),t.flags|=98560,o=!1;else if(o=Yo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(S(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(S(317));o[Rt]=t}else qr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),o=!1}else yt!==null&&(Au(yt),yt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?pe===0&&(pe=3):id())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return $r(),Nu(e,t),e===null&&io(t.stateNode.containerInfo),Ne(t),null;case 10:return Bc(t.type._context),Ne(t),null;case 17:return qe(t.type)&&Ps(),Ne(t),null;case 19:if(J(te),o=t.memoizedState,o===null)return Ne(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)bi(o,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Fs(e),s!==null){for(t.flags|=128,bi(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return G(te,te.current&1|2),t.child}e=e.sibling}o.tail!==null&&ce()>Qr&&(t.flags|=128,r=!0,bi(o,!1),t.lanes=4194304)}else{if(!r)if(e=Fs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Z)return Ne(t),null}else 2*ce()-o.renderingStartTime>Qr&&n!==1073741824&&(t.flags|=128,r=!0,bi(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ce(),t.sibling=null,n=te.current,G(te,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return rd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function Pb(e,t){switch(Fc(t),t.tag){case 1:return qe(t.type)&&Ps(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $r(),J(He),J(Re),$c(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vc(t),null;case 13:if(J(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(te),null;case 4:return $r(),null;case 10:return Bc(t.type._context),null;case 22:case 23:return rd(),null;case 24:return null;default:return null}}var Jo=!1,Ie=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,P=null;function Tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function Sg(e,t,n){try{n()}catch(r){oe(e,t,r)}}var uf=!1;function Db(e,t){if(hu=Ss,e=Pm(),Ac(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,c=e,h=null;t:for(;;){for(var f;c!==n||i!==0&&c.nodeType!==3||(a=s+i),c!==o||r!==0&&c.nodeType!==3||(l=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(f=c.firstChild)!==null;)h=c,c=f;for(;;){if(c===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++d===r&&(l=s),(f=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},Ss=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,w=p.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:gt(t.type,_),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(x){oe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return p=uf,uf=!1,p}function Bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Sg(t,n,o)}i=i.next}while(i!==r)}}function wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Iu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Tg(e){var t=e.alternate;t!==null&&(e.alternate=null,Tg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[so],delete t[gu],delete t[pb],delete t[mb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ng(e){return e.tag===5||e.tag===3||e.tag===4}function cf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ng(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Is));else if(r!==4&&(e=e.child,e!==null))for(Pu(e,t,n),e=e.sibling;e!==null;)Pu(e,t,n),e=e.sibling}function Ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ru(e,t,n),e=e.sibling;e!==null;)Ru(e,t,n),e=e.sibling}var xe=null,vt=!1;function on(e,t,n){for(n=n.child;n!==null;)Ig(e,t,n),n=n.sibling}function Ig(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(fa,n)}catch{}switch(n.tag){case 5:Ie||Tr(n,t);case 6:var r=xe,i=vt;xe=null,on(e,t,n),xe=r,vt=i,xe!==null&&(vt?(e=xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(vt?(e=xe,n=n.stateNode,e.nodeType===8?pl(e.parentNode,n):e.nodeType===1&&pl(e,n),to(e)):pl(xe,n.stateNode));break;case 4:r=xe,i=vt,xe=n.stateNode.containerInfo,vt=!0,on(e,t,n),xe=r,vt=i;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Sg(n,t,s),i=i.next}while(i!==r)}on(e,t,n);break;case 1:if(!Ie&&(Tr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){oe(n,t,a)}on(e,t,n);break;case 21:on(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,on(e,t,n),Ie=r):on(e,t,n);break;default:on(e,t,n)}}function df(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rb),t.forEach(function(r){var i=Bb.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,vt=!1;break e;case 3:xe=a.stateNode.containerInfo,vt=!0;break e;case 4:xe=a.stateNode.containerInfo,vt=!0;break e}a=a.return}if(xe===null)throw Error(S(160));Ig(o,s,i),xe=null,vt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){oe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pg(t,e),t=t.sibling}function Pg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),It(e),r&4){try{Bi(3,e,e.return),wa(3,e)}catch(_){oe(e,e.return,_)}try{Bi(5,e,e.return)}catch(_){oe(e,e.return,_)}}break;case 1:mt(t,e),It(e),r&512&&n!==null&&Tr(n,n.return);break;case 5:if(mt(t,e),It(e),r&512&&n!==null&&Tr(n,n.return),e.flags&32){var i=e.stateNode;try{Xi(i,"")}catch(_){oe(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Xp(i,o),nu(a,s);var u=nu(a,o);for(s=0;s<l.length;s+=2){var d=l[s],c=l[s+1];d==="style"?nm(i,c):d==="dangerouslySetInnerHTML"?em(i,c):d==="children"?Xi(i,c):xc(i,d,c,u)}switch(a){case"input":Xl(i,o);break;case"textarea":Jp(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Pr(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?Pr(i,!!o.multiple,o.defaultValue,!0):Pr(i,!!o.multiple,o.multiple?[]:"",!1))}i[so]=o}catch(_){oe(e,e.return,_)}}break;case 6:if(mt(t,e),It(e),r&4){if(e.stateNode===null)throw Error(S(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){oe(e,e.return,_)}}break;case 3:if(mt(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{to(t.containerInfo)}catch(_){oe(e,e.return,_)}break;case 4:mt(t,e),It(e);break;case 13:mt(t,e),It(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(td=ce())),r&4&&df(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||d,mt(t,e),Ie=u):mt(t,e),It(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(c=P=d;P!==null;){switch(h=P,f=h.child,h.tag){case 0:case 11:case 14:case 15:Bi(4,h,h.return);break;case 1:Tr(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(_){oe(r,n,_)}}break;case 5:Tr(h,h.return);break;case 22:if(h.memoizedState!==null){ff(c);continue}}f!==null?(f.return=h,P=f):ff(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tm("display",s))}catch(_){oe(e,e.return,_)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){oe(e,e.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:mt(t,e),It(e),r&4&&df(e);break;case 21:break;default:mt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ng(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xi(i,""),r.flags&=-33);var o=cf(e);Ru(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=cf(e);Pu(e,a,s);break;default:throw Error(S(161))}}catch(l){oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ob(e,t,n){P=e,Rg(e)}function Rg(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var i=P,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Jo;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=Jo;var u=Ie;if(Jo=s,(Ie=l)&&!u)for(P=i;P!==null;)s=P,l=s.child,s.tag===22&&s.memoizedState!==null?pf(i):l!==null?(l.return=s,P=l):pf(i);for(;o!==null;)P=o,Rg(o),o=o.sibling;P=i,Jo=a,Ie=u}hf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,P=o):hf(e)}}function hf(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Yh(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yh(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&to(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}Ie||t.flags&512&&Iu(t)}catch(h){oe(t,t.return,h)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function ff(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function pf(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wa(4,t)}catch(l){oe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){oe(t,i,l)}}var o=t.return;try{Iu(t)}catch(l){oe(t,o,l)}break;case 5:var s=t.return;try{Iu(t)}catch(l){oe(t,s,l)}}}catch(l){oe(t,t.return,l)}if(t===e){P=null;break}var a=t.sibling;if(a!==null){a.return=t.return,P=a;break}P=t.return}}var Lb=Math.ceil,zs=en.ReactCurrentDispatcher,Zc=en.ReactCurrentOwner,lt=en.ReactCurrentBatchConfig,B=0,we=null,de=null,ke=0,Qe=0,Nr=Mn(0),pe=0,fo=null,nr=0,xa=0,ed=0,Wi=null,Ue=null,td=0,Qr=1/0,Ut=null,Bs=!1,Du=null,En=null,Zo=!1,pn=null,Ws=0,Hi=0,Ou=null,gs=-1,vs=0;function Le(){return B&6?ce():gs!==-1?gs:gs=ce()}function kn(e){return e.mode&1?B&2&&ke!==0?ke&-ke:vb.transition!==null?(vs===0&&(vs=pm()),vs):(e=H,e!==0||(e=window.event,e=e===void 0?16:wm(e.type)),e):1}function xt(e,t,n,r){if(50<Hi)throw Hi=0,Ou=null,Error(S(185));Co(e,n,r),(!(B&2)||e!==we)&&(e===we&&(!(B&2)&&(xa|=n),pe===4&&cn(e,ke)),Ve(e,r),n===1&&B===0&&!(t.mode&1)&&(Qr=ce()+500,ya&&Fn()))}function Ve(e,t){var n=e.callbackNode;v_(e,t);var r=Cs(e,e===we?ke:0);if(r===0)n!==null&&xh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xh(n),t===1)e.tag===0?gb(mf.bind(null,e)):zm(mf.bind(null,e)),hb(function(){!(B&6)&&Fn()}),n=null;else{switch(mm(r)){case 1:n=Tc;break;case 4:n=hm;break;case 16:n=ks;break;case 536870912:n=fm;break;default:n=ks}n=Ug(n,Dg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dg(e,t){if(gs=-1,vs=0,B&6)throw Error(S(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=Cs(e,e===we?ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hs(e,r);else{t=r;var i=B;B|=2;var o=Lg();(we!==e||ke!==t)&&(Ut=null,Qr=ce()+500,Qn(e,t));do try{Fb();break}catch(a){Og(e,a)}while(1);zc(),zs.current=o,B=i,de!==null?t=0:(we=null,ke=0,t=pe)}if(t!==0){if(t===2&&(i=au(e),i!==0&&(r=i,t=Lu(e,i))),t===1)throw n=fo,Qn(e,0),cn(e,r),Ve(e,ce()),n;if(t===6)cn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Ab(i)&&(t=Hs(e,r),t===2&&(o=au(e),o!==0&&(r=o,t=Lu(e,o))),t===1))throw n=fo,Qn(e,0),cn(e,r),Ve(e,ce()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(S(345));case 2:Un(e,Ue,Ut);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=td+500-ce(),10<t)){if(Cs(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Le(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mu(Un.bind(null,e,Ue,Ut),t);break}Un(e,Ue,Ut);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-wt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lb(r/1960))-r,10<r){e.timeoutHandle=mu(Un.bind(null,e,Ue,Ut),r);break}Un(e,Ue,Ut);break;case 5:Un(e,Ue,Ut);break;default:throw Error(S(329))}}}return Ve(e,ce()),e.callbackNode===n?Dg.bind(null,e):null}function Lu(e,t){var n=Wi;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=Hs(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Au(t)),e}function Au(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Ab(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!kt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~ed,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function mf(e){if(B&6)throw Error(S(327));Ar();var t=Cs(e,0);if(!(t&1))return Ve(e,ce()),null;var n=Hs(e,t);if(e.tag!==0&&n===2){var r=au(e);r!==0&&(t=r,n=Lu(e,r))}if(n===1)throw n=fo,Qn(e,0),cn(e,t),Ve(e,ce()),n;if(n===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Un(e,Ue,Ut),Ve(e,ce()),null}function nd(e,t){var n=B;B|=1;try{return e(t)}finally{B=n,B===0&&(Qr=ce()+500,ya&&Fn())}}function rr(e){pn!==null&&pn.tag===0&&!(B&6)&&Ar();var t=B;B|=1;var n=lt.transition,r=H;try{if(lt.transition=null,H=1,e)return e()}finally{H=r,lt.transition=n,B=t,!(B&6)&&Fn()}}function rd(){Qe=Nr.current,J(Nr)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,db(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Fc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ps();break;case 3:$r(),J(He),J(Re),$c();break;case 5:Vc(r);break;case 4:$r();break;case 13:J(te);break;case 19:J(te);break;case 10:Bc(r.type._context);break;case 22:case 23:rd()}n=n.return}if(we=e,de=e=Cn(e.current,null),ke=Qe=t,pe=0,fo=null,ed=xa=nr=0,Ue=Wi=null,qn!==null){for(t=0;t<qn.length;t++)if(n=qn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}qn=null}return e}function Og(e,t){do{var n=de;try{if(zc(),fs.current=Us,js){for(var r=ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}js=!1}if(tr=0,ve=fe=ne=null,zi=!1,uo=0,Zc.current=null,n===null||n.return===null){pe=1,fo=t,de=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=tf(s);if(f!==null){f.flags&=-257,nf(f,s,a,o,t),f.mode&1&&ef(o,u,t),t=f,l=u;var p=t.updateQueue;if(p===null){var _=new Set;_.add(l),t.updateQueue=_}else p.add(l);break e}else{if(!(t&1)){ef(o,u,t),id();break e}l=Error(S(426))}}else if(Z&&a.mode&1){var w=tf(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),nf(w,s,a,o,t),jc(Kr(l,a));break e}}o=l=Kr(l,a),pe!==4&&(pe=2),Wi===null?Wi=[o]:Wi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=mg(o,l,t);Qh(o,g);break e;case 1:a=l;var m=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(En===null||!En.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=gg(o,a,t);Qh(o,x);break e}}o=o.return}while(o!==null)}Mg(n)}catch(E){t=E,de===n&&n!==null&&(de=n=n.return);continue}break}while(1)}function Lg(){var e=zs.current;return zs.current=Us,e===null?Us:e}function id(){(pe===0||pe===3||pe===2)&&(pe=4),we===null||!(nr&268435455)&&!(xa&268435455)||cn(we,ke)}function Hs(e,t){var n=B;B|=2;var r=Lg();(we!==e||ke!==t)&&(Ut=null,Qn(e,t));do try{Mb();break}catch(i){Og(e,i)}while(1);if(zc(),B=n,zs.current=r,de!==null)throw Error(S(261));return we=null,ke=0,pe}function Mb(){for(;de!==null;)Ag(de)}function Fb(){for(;de!==null&&!l_();)Ag(de)}function Ag(e){var t=jg(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?Mg(e):de=t,Zc.current=null}function Mg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pb(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,de=null;return}}else if(n=Ib(n,t,Qe),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);pe===0&&(pe=5)}function Un(e,t,n){var r=H,i=lt.transition;try{lt.transition=null,H=1,jb(e,t,n,r)}finally{lt.transition=i,H=r}return null}function jb(e,t,n,r){do Ar();while(pn!==null);if(B&6)throw Error(S(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(y_(e,o),e===we&&(de=we=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zo||(Zo=!0,Ug(ks,function(){return Ar(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lt.transition,lt.transition=null;var s=H;H=1;var a=B;B|=4,Zc.current=null,Db(e,n),Pg(n,e),ib(fu),Ss=!!hu,fu=hu=null,e.current=n,Ob(n),u_(),B=a,H=s,lt.transition=o}else e.current=n;if(Zo&&(Zo=!1,pn=e,Ws=i),o=e.pendingLanes,o===0&&(En=null),h_(n.stateNode),Ve(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bs)throw Bs=!1,e=Du,Du=null,e;return Ws&1&&e.tag!==0&&Ar(),o=e.pendingLanes,o&1?e===Ou?Hi++:(Hi=0,Ou=e):Hi=0,Fn(),null}function Ar(){if(pn!==null){var e=mm(Ws),t=lt.transition,n=H;try{if(lt.transition=null,H=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,Ws=0,B&6)throw Error(S(331));var i=B;for(B|=4,P=e.current;P!==null;){var o=P,s=o.child;if(P.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Bi(8,d,o)}var c=d.child;if(c!==null)c.return=d,P=c;else for(;P!==null;){d=P;var h=d.sibling,f=d.return;if(Tg(d),d===u){P=null;break}if(h!==null){h.return=f,P=h;break}P=f}}}var p=o.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}P=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,P=s;else e:for(;P!==null;){if(o=P,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bi(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,P=g;break e}P=o.return}}var m=e.current;for(P=m;P!==null;){s=P;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,P=v;else e:for(s=m;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wa(9,a)}}catch(E){oe(a,a.return,E)}if(a===s){P=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,P=x;break e}P=a.return}}if(B=i,Fn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(fa,e)}catch{}r=!0}return r}finally{H=n,lt.transition=t}}return!1}function gf(e,t,n){t=Kr(n,t),t=mg(e,t,1),e=xn(e,t,1),t=Le(),e!==null&&(Co(e,1,t),Ve(e,t))}function oe(e,t,n){if(e.tag===3)gf(e,e,n);else for(;t!==null;){if(t.tag===3){gf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(En===null||!En.has(r))){e=Kr(n,e),e=gg(t,e,1),t=xn(t,e,1),e=Le(),t!==null&&(Co(t,1,e),Ve(t,e));break}}t=t.return}}function Ub(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&n,we===e&&(ke&n)===n&&(pe===4||pe===3&&(ke&130023424)===ke&&500>ce()-td?Qn(e,0):ed|=n),Ve(e,t)}function Fg(e,t){t===0&&(e.mode&1?(t=Ho,Ho<<=1,!(Ho&130023424)&&(Ho=4194304)):t=1);var n=Le();e=Gt(e,t),e!==null&&(Co(e,t,n),Ve(e,n))}function zb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fg(e,n)}function Bb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(t),Fg(e,n)}var jg;jg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ze=!1,Nb(e,t,n);ze=!!(e.flags&131072)}else ze=!1,Z&&t.flags&1048576&&Bm(t,Os,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ms(e,t),e=t.pendingProps;var i=Hr(t,Re.current);Lr(t,n),i=Qc(null,t,r,e,i,n);var o=Yc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(o=!0,Rs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hc(t),i.updater=ba,t.stateNode=i,i._reactInternals=t,xu(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,Z&&o&&Mc(t),Oe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ms(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Hb(r),e=gt(r,e),i){case 0:t=ku(null,t,r,e,n);break e;case 1:t=sf(null,t,r,e,n);break e;case 11:t=rf(null,t,r,e,n);break e;case 14:t=of(null,t,r,gt(r.type,e),n);break e}throw Error(S(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gt(r,i),ku(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gt(r,i),sf(e,t,r,i,n);case 3:e:{if(bg(t),e===null)throw Error(S(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Km(e,t),Ms(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Kr(Error(S(423)),t),t=af(e,t,r,n,i);break e}else if(r!==i){i=Kr(Error(S(424)),t),t=af(e,t,r,n,i);break e}else for(Ge=wn(t.stateNode.containerInfo.firstChild),Je=t,Z=!0,yt=null,n=Vm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qr(),r===i){t=Xt(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Qm(t),e===null&&_u(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,pu(r,i)?s=null:o!==null&&pu(r,o)&&(t.flags|=32),_g(e,t),Oe(e,t,s,n),t.child;case 6:return e===null&&_u(t),null;case 13:return wg(e,t,n);case 4:return qc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gt(r,i),rf(e,t,r,i,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,G(Ls,r._currentValue),r._currentValue=s,o!==null)if(kt(o.value,s)){if(o.children===i.children&&!He.current){t=Xt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=qt(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),bu(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(S(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),bu(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Oe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Lr(t,n),i=ut(i),r=r(i),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,i=gt(r,t.pendingProps),i=gt(r.type,i),of(e,t,r,i,n);case 15:return vg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gt(r,i),ms(e,t),t.tag=1,qe(r)?(e=!0,Rs(t)):e=!1,Lr(t,n),pg(t,r,i),xu(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return xg(e,t,n);case 22:return yg(e,t,n)}throw Error(S(156,t.tag))};function Ug(e,t){return dm(e,t)}function Wb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new Wb(e,t,n,r)}function od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hb(e){if(typeof e=="function")return od(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kc)return 11;if(e===Cc)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ys(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")od(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case yr:return Yn(n.children,i,o,t);case Ec:s=8,i|=8;break;case $l:return e=st(12,n,t,i|2),e.elementType=$l,e.lanes=o,e;case Kl:return e=st(13,n,t,i),e.elementType=Kl,e.lanes=o,e;case Ql:return e=st(19,n,t,i),e.elementType=Ql,e.lanes=o,e;case Qp:return Ea(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $p:s=10;break e;case Kp:s=9;break e;case kc:s=11;break e;case Cc:s=14;break e;case an:s=16,r=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=st(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Yn(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function Ea(e,t,n,r){return e=st(22,e,r,t),e.elementType=Qp,e.lanes=n,e.stateNode={isHidden:!1},e}function xl(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function El(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qb(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sd(e,t,n,r,i,o,s,a,l){return e=new qb(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=st(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hc(o),e}function Vb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zg(e){if(!e)return Dn;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var n=e.type;if(qe(n))return Um(e,n,t)}return t}function Bg(e,t,n,r,i,o,s,a,l){return e=sd(n,r,!0,e,i,o,s,a,l),e.context=zg(null),n=e.current,r=Le(),i=kn(n),o=qt(r,i),o.callback=t??null,xn(n,o,i),e.current.lanes=i,Co(e,i,r),Ve(e,r),e}function ka(e,t,n,r){var i=t.current,o=Le(),s=kn(i);return n=zg(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(i,t,s),e!==null&&(xt(e,i,s,o),hs(e,i,s)),s}function qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ad(e,t){vf(e,t),(e=e.alternate)&&vf(e,t)}function $b(){return null}var Wg=typeof reportError=="function"?reportError:function(e){console.error(e)};function ld(e){this._internalRoot=e}Ca.prototype.render=ld.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));ka(e,t,null,null)};Ca.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rr(function(){ka(null,e,null,null)}),t[Yt]=null}};function Ca(e){this._internalRoot=e}Ca.prototype.unstable_scheduleHydration=function(e){if(e){var t=ym();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&bm(e)}};function ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yf(){}function Kb(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=qs(s);o.call(u)}}var s=Bg(t,r,e,0,null,!1,!1,"",yf);return e._reactRootContainer=s,e[Yt]=s.current,io(e.nodeType===8?e.parentNode:e),rr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=qs(l);a.call(u)}}var l=sd(e,0,!1,null,null,!1,!1,"",yf);return e._reactRootContainer=l,e[Yt]=l.current,io(e.nodeType===8?e.parentNode:e),rr(function(){ka(t,l,n,r)}),l}function Ta(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=qs(s);a.call(l)}}ka(t,s,e,i)}else s=Kb(n,t,e,i,r);return qs(s)}gm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ri(t.pendingLanes);n!==0&&(Nc(t,n|1),Ve(t,ce()),!(B&6)&&(Qr=ce()+500,Fn()))}break;case 13:rr(function(){var r=Gt(e,1);if(r!==null){var i=Le();xt(r,e,1,i)}}),ad(e,1)}};Ic=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Le();xt(t,e,134217728,n)}ad(e,134217728)}};vm=function(e){if(e.tag===13){var t=kn(e),n=Gt(e,t);if(n!==null){var r=Le();xt(n,e,t,r)}ad(e,t)}};ym=function(){return H};_m=function(e,t){var n=H;try{return H=e,t()}finally{H=n}};iu=function(e,t,n){switch(t){case"input":if(Xl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=va(r);if(!i)throw Error(S(90));Gp(r),Xl(r,i)}}}break;case"textarea":Jp(e,n);break;case"select":t=n.value,t!=null&&Pr(e,!!n.multiple,t,!1)}};om=nd;sm=rr;var Qb={usingClientEntryPoint:!1,Events:[To,xr,va,rm,im,nd]},wi={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yb={bundleType:wi.bundleType,version:wi.version,rendererPackageName:wi.rendererPackageName,rendererConfig:wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=um(e),e===null?null:e.stateNode},findFiberByHostInstance:wi.findFiberByHostInstance||$b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{fa=es.inject(Yb),Ot=es}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qb;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ud(t))throw Error(S(200));return Vb(e,t,null,n)};et.createRoot=function(e,t){if(!ud(e))throw Error(S(299));var n=!1,r="",i=Wg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sd(e,1,!1,null,null,n,!1,r,i),e[Yt]=t.current,io(e.nodeType===8?e.parentNode:e),new ld(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=um(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return rr(e)};et.hydrate=function(e,t,n){if(!Sa(t))throw Error(S(200));return Ta(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!ud(e))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Wg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Bg(t,null,e,1,n??null,i,!1,o,s),e[Yt]=t.current,io(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ca(t)};et.render=function(e,t,n){if(!Sa(t))throw Error(S(200));return Ta(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!Sa(e))throw Error(S(40));return e._reactRootContainer?(rr(function(){Ta(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};et.unstable_batchedUpdates=nd;et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sa(n))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Ta(e,t,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function Hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hg)}catch(e){console.error(e)}}Hg(),Wp.exports=et;var qg=Wp.exports,_f=qg;ql.createRoot=_f.createRoot,ql.hydrateRoot=_f.hydrateRoot;/**
* @remix-run/router v1.23.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs.apply(this,arguments)}var mn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mn||(mn={}));const bf="popstate";function Gb(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return Mu("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$g(i)}return Jb(t,n,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xb(){return Math.random().toString(36).substr(2,8)}function wf(e,t){return{usr:e.state,key:e.key,idx:t}}function Mu(e,t,n,r){return n===void 0&&(n=null),Vs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Na(t):t,{state:n,key:t&&t.key||r||Xb()})}function $g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Na(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Jb(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=mn.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Vs({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function c(){a=mn.Pop;let w=d(),g=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:g})}function h(w,g){a=mn.Push;let m=Mu(_.location,w,g);n&&n(m,w),u=d()+1;let v=wf(m,u),x=_.createHref(m);try{s.pushState(v,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(x)}o&&l&&l({action:a,location:_.location,delta:1})}function f(w,g){a=mn.Replace;let m=Mu(_.location,w,g);n&&n(m,w),u=d();let v=wf(m,u),x=_.createHref(m);s.replaceState(v,"",x),o&&l&&l({action:a,location:_.location,delta:0})}function p(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:$g(w);return m=m.replace(/ $/,"%20"),$e(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let _={get action(){return a},get location(){return e(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bf,c),l=w,()=>{i.removeEventListener(bf,c),l=null}},createHref(w){return t(i,w)},createURL:p,encodeLocation(w){let g=p(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(w){return s.go(w)}};return _}var xf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xf||(xf={}));function Zb(e,t,n){return n===void 0&&(n="/"),e1(e,t,n,!1)}function e1(e,t,n,r){let i=typeof t=="string"?Na(t):t,o=Yg(i.pathname||"/",n);if(o==null)return null;let s=Kg(e);t1(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=h1(o);a=c1(s[l],u,r)}return a}function Kg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Mr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&($e(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Kg(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:l1(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Qg(o.path))i(o,s,l)}),t}function Qg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Qg(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function t1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:u1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n1=/^:[\w-]+$/,r1=3,i1=2,o1=1,s1=10,a1=-2,Ef=e=>e==="*";function l1(e,t){let n=e.split("/"),r=n.length;return n.some(Ef)&&(r+=a1),t&&(r+=i1),n.filter(i=>!Ef(i)).reduce((i,o)=>i+(n1.test(o)?r1:o===""?o1:s1),r)}function u1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function c1(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",c=kf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=kf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:Mr([o,c.pathname]),pathnameBase:f1(Mr([o,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(o=Mr([o,c.pathnameBase]))}return s}function kf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=d1(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:c,isOptional:h}=u;if(c==="*"){let p=a[d]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const f=a[d];return h&&!f?l[c]=void 0:l[c]=(f||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:e}}function d1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Vg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,a)=>(r.push({paramName:s,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function h1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Mr=e=>e.join("/").replace(/\/\/+/g,"/"),f1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function p1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gg=["post","put","patch","delete"];new Set(Gg);const m1=["get",...Gg];new Set(m1);/**
* React Router v6.30.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}const g1=b.createContext(null),v1=b.createContext(null),Xg=b.createContext(null),Ia=b.createContext(null),Pa=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Jg=b.createContext(null);function cd(){return b.useContext(Ia)!=null}function y1(){return cd()||$e(!1),b.useContext(Ia).location}function _1(e,t){return b1(e,t)}function b1(e,t,n,r){cd()||$e(!1);let{navigator:i,static:o}=b.useContext(Xg),{matches:s}=b.useContext(Pa),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=y1(),c;if(t){var h;let g=typeof t=="string"?Na(t):t;u==="/"||(h=g.pathname)!=null&&h.startsWith(u)||$e(!1),c=g}else c=d;let f=c.pathname||"/",p=f;if(u!=="/"){let g=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let _=!o&&n&&n.matches&&n.matches.length>0?n.matches:Zb(e,{pathname:p}),w=C1(_&&_.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Mr([u,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Mr([u,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r);return t&&w?b.createElement(Ia.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:mn.Pop}},w):w}function w1(){let e=I1(),t=p1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:r},n):null,i)}const x1=b.createElement(w1,null);class E1 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Pa.Provider,{value:this.props.routeContext},b.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k1(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(g1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Pa.Provider,{value:t},r)}function C1(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);d>=0||$e(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let c=s[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:h,errors:f}=n,p=c.route.loader&&h[c.route.id]===void 0&&(!f||f[c.route.id]===void 0);if(c.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,c,h)=>{let f,p=!1,_=null,w=null;n&&(f=a&&c.route.id?a[c.route.id]:void 0,_=c.route.errorElement||x1,l&&(u<0&&h===0?(P1("route-fallback",!1),p=!0,w=null):u===h&&(p=!0,w=c.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,h+1)),m=()=>{let v;return f?v=_:p?v=w:c.route.Component?v=b.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=d,b.createElement(k1,{match:c,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?b.createElement(E1,{location:n.location,revalidation:n.revalidation,component:_,error:f,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Fu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fu||{});function S1(e){let t=b.useContext(v1);return t||$e(!1),t}function T1(e){let t=b.useContext(Pa);return t||$e(!1),t}function N1(e){let t=T1(),n=t.matches[t.matches.length-1];return n.route.id||$e(!1),n.route.id}function I1(){var e;let t=b.useContext(Jg),n=S1(Fu.UseRouteError),r=N1(Fu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}const Cf={};function P1(e,t,n){!t&&!Cf[e]&&(Cf[e]=!0)}function R1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Oi(e){$e(!1)}function D1(e){let{basename:t="/",children:n=null,location:r,navigationType:i=mn.Pop,navigator:o,static:s=!1,future:a}=e;cd()&&$e(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:o,static:s,future:$s({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Na(r));let{pathname:d="/",search:c="",hash:h="",state:f=null,key:p="default"}=r,_=b.useMemo(()=>{let w=Yg(d,l);return w==null?null:{location:{pathname:w,search:c,hash:h,state:f,key:p},navigationType:i}},[l,d,c,h,f,p,i]);return _==null?null:b.createElement(Xg.Provider,{value:u},b.createElement(Ia.Provider,{children:n,value:_}))}function O1(e){let{children:t,location:n}=e;return _1(ju(t),n)}new Promise(()=>{});function ju(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let o=[...t,i];if(r.type===b.Fragment){n.push.apply(n,ju(r.props.children,o));return}r.type!==Oi&&$e(!1),!r.props.index||!r.props.children||$e(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ju(r.props.children,o)),n.push(s)}),n}/**
* React Router DOM v6.30.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/const L1="6";try{window.__reactRouterVersion=L1}catch{}const A1="startTransition",Sf=Br[A1];function M1(e){let{basename:t,children:n,future:r,window:i}=e,o=b.useRef();o.current==null&&(o.current=Gb({window:i,v5Compat:!0}));let s=o.current,[a,l]=b.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=b.useCallback(c=>{u&&Sf?Sf(()=>l(c)):l(c)},[l,u]);return b.useLayoutEffect(()=>s.listen(d),[s,d]),b.useEffect(()=>R1(r),[r]),b.createElement(D1,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Tf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Tf||(Tf={}));var Nf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nf||(Nf={}));var Zg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},If=A.createContext&&A.createContext(Zg),Sn=globalThis&&globalThis.__assign||function(){return Sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Sn.apply(this,arguments)},F1=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ev(e){return e&&e.map(function(t,n){return A.createElement(t.tag,Sn({key:n},t.attr),ev(t.child))})}function dd(e){return function(t){return A.createElement(j1,Sn({attr:Sn({},e.attr)},t),ev(e.child))}}function j1(e){var t=function(n){var r=e.attr,i=e.size,o=e.title,s=F1(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),A.createElement("svg",Sn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Sn(Sn({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&A.createElement("title",null,o),e.children)};return If!==void 0?A.createElement(If.Consumer,null,function(n){return t(n)}):t(Zg)}function U1(e){return dd({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function z1(e){return dd({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function B1(e){return dd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}var W1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const H1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tn=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},u)=>b.createElement("svg",{ref:u,...W1,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${H1(e)}`,...l},[...t.map(([d,c])=>b.createElement(d,c)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n},q1=tn("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),V1=tn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Pf=tn("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),$1=tn("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),K1=tn("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Q1=tn("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),tv=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Y1=tn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),hd=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),G1=()=>{const[e,t]=b.useState(["A","B","C","D"]),[n,r]=b.useState([]),[i,o]=b.useState({A:"",B:"",C:"",D:""}),s=()=>{const f="ABCDEFGHIJKLMNOPQRSTUVWXYZ",p=new Set(e),_=Array.from(f).find(w=>!p.has(w));_&&(t([...e,_]),o(w=>({...w,[_]:""})))},a=f=>{if(e.length<=2){alert("Minimum 2 players required");return}t(e.filter(p=>p!==f)),o(p=>{const _={...p};return delete _[f],_})},l=f=>{const p={};return e.forEach(_=>{let w=0;e.forEach(g=>{_!==g&&(w+=(f[_]-f[g])*-1)}),p[_]=w}),p},u=()=>{const f=e.reduce((p,_)=>(p[_]=0,p),{});return n.forEach(p=>{Object.keys(p.differences).forEach(_=>{f.hasOwnProperty(_)&&(f[_]+=p.differences[_])})}),f},d=(f,p)=>{o(_=>({..._,[f]:p}))},c=()=>{if(Object.entries(i).filter(([w])=>e.includes(w)).some(([w,g])=>g===""||isNaN(g))){alert("Please enter valid numbers for all players");return}const f=Object.entries(i).filter(([w])=>e.includes(w)).reduce((w,[g,m])=>(w[g]=Number(m),w),{}),p=l(f);r(w=>[...w,{roundNumber:w.length+1,scores:f,differences:p}]);const _=e.reduce((w,g)=>(w[g]="",w),{});o(_)},h=u();return y.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:y.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[y.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-12",children:"Place Calculator"}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:"Input Round Scores"}),y.jsx("button",{onClick:s,className:"p-2 text-emerald-400 hover:text-emerald-300 transition-colors",title:"Add Player",children:y.jsx(Q1,{size:24})})]}),y.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map(f=>y.jsxs("div",{className:"relative",children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Player ",f]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"number",value:i[f],onChange:p=>d(f,p.target.value),className:"block w-full bg-gray-700 border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),y.jsx("button",{onClick:()=>a(f),className:"text-red-400 hover:text-red-300 transition-colors",title:"Remove Player",children:y.jsx($1,{size:24})})]})]},f))}),y.jsx("button",{onClick:c,className:"mt-6 w-full bg-blue-600 hover:bg-blue-500 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:"Submit Round"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Cumulative Results"}),y.jsx("div",{className:"space-y-3",children:Object.entries(h).map(([f,p])=>y.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-700 rounded-lg",children:[y.jsxs("span",{className:"font-medium text-gray-200",children:["Player ",f]}),y.jsxs("span",{className:`font-bold ${p>0?"text-emerald-400":p<0?"text-red-400":"text-gray-400"}`,children:[p>0?"+":"",p]})]},f))})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700 overflow-x-auto",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Rounds History"}),y.jsxs("table",{className:"w-full",children:[y.jsxs("thead",{children:[y.jsxs("tr",{className:"border-b border-gray-700",children:[y.jsx("th",{className:"px-4 py-3 text-left text-gray-300",children:"Round"}),y.jsx("th",{className:"px-4 py-3 text-left text-gray-300",colSpan:e.length,children:"Scores"}),y.jsx("th",{className:"px-4 py-3 text-left text-gray-300",colSpan:e.length,children:"Round +/-"})]}),y.jsxs("tr",{className:"border-b border-gray-700",children:[y.jsx("th",{className:"px-4 py-3 text-gray-300"}),e.map(f=>y.jsxs("th",{className:"px-4 py-3 text-gray-300",children:["Player ",f]},`score-${f}`)),e.map(f=>y.jsxs("th",{className:"px-4 py-3 text-gray-300",children:["Player ",f]},`diff-${f}`))]})]}),y.jsx("tbody",{children:n.map(f=>y.jsxs("tr",{className:"border-b border-gray-700",children:[y.jsx("td",{className:"px-4 py-3 text-gray-300",children:f.roundNumber}),e.map(p=>y.jsx("td",{className:"px-4 py-3 text-gray-300",children:f.scores[p]??"-"},`score-${p}`)),e.map(p=>y.jsx("td",{className:`px-4 py-3 ${f.differences[p]>0?"text-emerald-400":f.differences[p]<0?"text-red-400":"text-gray-300"}`,children:f.differences[p]!=null?y.jsxs(y.Fragment,{children:[f.differences[p]>0?"+":"",f.differences[p]]}):"-"},`diff-${p}`))]},f.roundNumber))})]})]})]})})};function nv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=nv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qi(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=nv(e))&&(r&&(r+=" "),r+=t);return r}const X1=({items:e,onItemClick:t,onDeleteItem:n,onToggleBought:r})=>y.jsx("div",{className:"backdrop-blur-lg bg-white/5 rounded-xl p-6 shadow-lg border border-white/10 transition-all duration-300",children:y.jsx("div",{className:"space-y-4",children:e.length===0?y.jsx("div",{className:"text-center p-8 text-gray-400 italic",children:"No items found. Add some items to your shopping list!"}):e.map(i=>y.jsxs("div",{className:qi("flex items-center justify-between p-4 backdrop-blur-sm bg-gradient-to-r rounded-xl transition-all duration-300 border border-white/5 shadow-md",i.isBought?"from-gray-800/40 to-gray-800/40 opacity-60":"from-gray-800/60 to-gray-700/60 hover:from-gray-700/60 hover:to-gray-600/60"),children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>r(i),className:qi("w-6 h-6 rounded-full flex items-center justify-center transition-all duration-300",i.isBought?"bg-gradient-to-r from-emerald-400 to-emerald-500 shadow-md":"border-2 border-white/20 hover:border-white/40"),children:i.isBought&&y.jsx(q1,{className:"w-4 h-4 text-white"})}),y.jsxs("div",{className:"flex items-center gap-3",children:[i.imageUrl&&y.jsx("div",{className:"relative h-12 w-12 rounded-md overflow-hidden shrink-0",children:y.jsx("img",{src:i.imageUrl,alt:i.name,className:"h-full w-full object-cover"})}),y.jsxs("div",{children:[y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{className:qi("text-lg font-medium",i.isBought?"line-through text-gray-400":"text-white"),children:i.name})}),i.location&&y.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i.location}),i.tags&&i.tags.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.tags.map(o=>y.jsx("span",{className:"px-2 py-1 bg-white/5 text-gray-300 rounded-md text-xs border border-white/10",children:o},o))})]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>t(i),className:"p-2 text-gray-400 hover:text-blue-300 transition-colors",children:y.jsx(K1,{className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>n(i.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",children:y.jsx(Y1,{className:"w-5 h-5"})})]})]},i.id))})}),J1=({showBoughtItems:e,setShowBoughtItems:t,allTags:n,selectedFilterTags:r,toggleFilterTag:i})=>y.jsx("div",{className:"backdrop-blur-lg bg-white/5 rounded-xl p-6 shadow-lg border border-white/10 transition-all duration-300",children:y.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(V1,{className:"w-5 h-5 text-blue-300"}),y.jsx("button",{onClick:()=>t(!e),className:qi("px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300",e?"bg-gradient-to-r from-emerald-400/20 to-blue-400/20 text-emerald-300 border border-emerald-400/30":"bg-white/5 text-gray-300 hover:bg-white/10 border border-white/10"),children:e?"Show All":"To Buy"})]}),n.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(o=>y.jsx("button",{onClick:()=>i(o),className:qi("px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300",r.includes(o)?"bg-gradient-to-r from-blue-400/20 to-purple-400/20 text-blue-300 border border-blue-400/30":"bg-white/5 text-gray-300 hover:bg-white/10 border border-white/10"),children:o},o))})]})}),Z1=({onAddItem:e})=>{const[t,n]=b.useState(""),r=i=>{i.preventDefault(),t.trim()&&(e(t),n(""))};return y.jsx("div",{className:"backdrop-blur-lg bg-white/5 rounded-xl p-6 shadow-lg border border-white/10 transition-all duration-300",children:y.jsxs("form",{onSubmit:r,className:"flex gap-3",children:[y.jsx("input",{type:"text",value:t,onChange:i=>n(i.target.value),placeholder:"Add new item...",className:"flex-1 bg-gray-800/50 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300"}),y.jsx("button",{type:"submit",className:"shrink-0 bg-gradient-to-r from-emerald-400 to-blue-500 text-white px-4 py-3 rounded-lg hover:opacity-90 transition-all duration-300 shadow-lg",children:y.jsx(tv,{className:"w-5 h-5"})})]})})};var ew=Object.defineProperty,tw=(e,t,n)=>t in e?ew(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kl=(e,t,n)=>(tw(e,typeof t!="symbol"?t+"":t,n),n);let nw=class{constructor(){kl(this,"current",this.detect()),kl(this,"handoffState","pending"),kl(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Vt=new nw,dt=(e,t)=>{Vt.isServer?b.useEffect(e,t):b.useLayoutEffect(e,t)};function $t(e){let t=b.useRef(e);return dt(()=>{t.current=e},[e]),t}let ee=function(e){let t=$t(e);return A.useCallback((...n)=>t.current(...n),[t])};function Ra(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function dr(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ra(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=dr();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function fd(){let[e]=b.useState(dr);return b.useEffect(()=>()=>e.dispose(),[e]),e}function rw(){let e=typeof document>"u";return"useSyncExternalStore"in Br?(t=>t.useSyncExternalStore)(Br)(()=>()=>{},()=>!1,()=>!e):!1}function si(){let e=rw(),[t,n]=b.useState(Vt.isHandoffComplete);return t&&Vt.isHandoffComplete===!1&&n(!1),b.useEffect(()=>{t!==!0&&n(!0)},[t]),b.useEffect(()=>Vt.handoff(),[]),e?!1:t}var Rf;let ai=(Rf=A.useId)!=null?Rf:function(){let e=si(),[t,n]=A.useState(e?()=>Vt.nextId():null);return dt(()=>{t===null&&n(Vt.nextId())},[t]),t!=null?""+t:void 0};function Pe(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Pe),r}function rv(e){return Vt.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Uu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Wn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Wn||{}),iv=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(iv||{}),iw=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(iw||{});function ow(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Uu)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ov=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ov||{});function sw(e,t=0){var n;return e===((n=rv(e))==null?void 0:n.body)?!1:Pe(t,{0(){return e.matches(Uu)},1(){let r=e;for(;r!==null;){if(r.matches(Uu))return!0;r=r.parentElement}return!1}})}var aw=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(aw||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Gn(e){e==null||e.focus({preventScroll:!0})}let lw=["textarea","input"].join(",");function uw(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,lw))!=null?n:!1}function cw(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function _s(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?cw(e):e:ow(e);i.length>0&&s.length>1&&(s=s.filter(f=>!i.includes(f))),r=r??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,c=s.length,h;do{if(d>=c||d+c<=0)return 0;let f=l+d;if(t&16)f=(f+c)%c;else{if(f<0)return 3;if(f>=c)return 1}h=s[f],h==null||h.focus(u),d+=a}while(h!==o.activeElement);return t&6&&uw(h)&&h.select(),2}function sv(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function dw(){return/Android/gi.test(window.navigator.userAgent)}function hw(){return sv()||dw()}function ts(e,t,n){let r=$t(t);b.useEffect(()=>{function i(o){r.current(o)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function av(e,t,n){let r=$t(t);b.useEffect(()=>{function i(o){r.current(o)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function fw(e,t,n=!0){let r=b.useRef(!1);b.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(s,a){if(!r.current||s.defaultPrevented)return;let l=a(s);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function d(c){return typeof c=="function"?d(c()):Array.isArray(c)||c instanceof Set?c:[c]}(e);for(let d of u){if(d===null)continue;let c=d instanceof HTMLElement?d:d.current;if(c!=null&&c.contains(l)||s.composed&&s.composedPath().includes(c))return}return!sw(l,ov.Loose)&&l.tabIndex!==-1&&s.preventDefault(),t(s,l)}let o=b.useRef(null);ts("pointerdown",s=>{var a,l;r.current&&(o.current=((l=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:l[0])||s.target)},!0),ts("mousedown",s=>{var a,l;r.current&&(o.current=((l=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:l[0])||s.target)},!0),ts("click",s=>{hw()||o.current&&(i(s,()=>o.current),o.current=null)},!0),ts("touchend",s=>i(s,()=>s.target instanceof HTMLElement?s.target:null),!0),av("blur",s=>i(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Io(...e){return b.useMemo(()=>rv(...e),[...e])}let lv=Symbol();function pw(e,t=!0){return Object.assign(e,{[lv]:t})}function St(...e){let t=b.useRef(e);b.useEffect(()=>{t.current=e},[e]);let n=ee(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[lv]))?void 0:n}function pd(e,t){let n=b.useRef([]),r=ee(e);b.useEffect(()=>{let i=[...n.current];for(let[o,s]of t.entries())if(n.current[o]!==s){let a=r(t,i);return n.current=t,a}},[r,...t])}function Ks(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Qs=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Qs||{}),gn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(gn||{});function ht({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??mw;let l=uv(t,e);if(o)return ns(l,n,r,s,a);let u=i??0;if(u&2){let{static:d=!1,...c}=l;if(d)return ns(c,n,r,s,a)}if(u&1){let{unmount:d=!0,...c}=l;return Pe(d?0:1,{0(){return null},1(){return ns({...c,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return ns(l,n,r,s,a)}function ns(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=Cl(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},d=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t));let c={};if(t){let h=!1,f=[];for(let[p,_]of Object.entries(t))typeof _=="boolean"&&(h=!0),_===!0&&f.push(p);h&&(c["data-headlessui-state"]=f.join(" "))}if(o===b.Fragment&&Object.keys(Df(l)).length>0){if(!b.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let h=d.props,f=typeof(h==null?void 0:h.className)=="function"?(..._)=>Ks(h==null?void 0:h.className(..._),l.className):Ks(h==null?void 0:h.className,l.className),p=f?{className:f}:{};return b.cloneElement(d,Object.assign({},uv(d.props,Df(Cl(l,["ref"]))),c,u,{ref:i(d.ref,u.ref)},p))}return b.createElement(o,Object.assign({},Cl(l,["ref"]),o!==b.Fragment&&u,o!==b.Fragment&&c),d)}function mw(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function uv(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function nt(e){var t;return Object.assign(b.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Df(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Cl(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let gw="div";var Ys=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ys||{});function vw(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ht({ourProps:o,theirProps:i,slot:{},defaultTag:gw,name:"Hidden"})}let zu=nt(vw),md=b.createContext(null);md.displayName="OpenClosedContext";var Ye=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ye||{});function gd(){return b.useContext(md)}function yw({value:e,children:t}){return A.createElement(md.Provider,{value:e},t)}function _w(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let dn=[];_w(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&dn[0]!==t.target&&(dn.unshift(t.target),dn=dn.filter(n=>n!=null&&n.isConnected),dn.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function bw(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&ww(n)?!1:r}function ww(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var cv=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(cv||{});function dv(e,t,n,r){let i=$t(n);b.useEffect(()=>{e=e??window;function o(s){i.current(s)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function Po(){let e=b.useRef(!1);return dt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function hv(e){let t=ee(e),n=b.useRef(!1);b.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ra(()=>{n.current&&t()})}),[t])}var Li=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Li||{});function xw(){let e=b.useRef(0);return av("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function fv(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Ew="div";var pv=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(pv||{});function kw(e,t){let n=b.useRef(null),r=St(n,t),{initialFocus:i,containers:o,features:s=30,...a}=e;si()||(s=1);let l=Io(n);Tw({ownerDocument:l},!!(s&16));let u=Nw({ownerDocument:l,container:n,initialFocus:i},!!(s&2));Iw({ownerDocument:l,container:n,containers:o,previousActiveElement:u},!!(s&8));let d=xw(),c=ee(_=>{let w=n.current;w&&(g=>g())(()=>{Pe(d.current,{[Li.Forwards]:()=>{_s(w,Wn.First,{skipElements:[_.relatedTarget]})},[Li.Backwards]:()=>{_s(w,Wn.Last,{skipElements:[_.relatedTarget]})}})})}),h=fd(),f=b.useRef(!1),p={ref:r,onKeyDown(_){_.key=="Tab"&&(f.current=!0,h.requestAnimationFrame(()=>{f.current=!1}))},onBlur(_){let w=fv(o);n.current instanceof HTMLElement&&w.add(n.current);let g=_.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(mv(w,g)||(f.current?_s(n.current,Pe(d.current,{[Li.Forwards]:()=>Wn.Next,[Li.Backwards]:()=>Wn.Previous})|Wn.WrapAround,{relativeTo:_.target}):_.target instanceof HTMLElement&&Gn(_.target)))}};return A.createElement(A.Fragment,null,!!(s&4)&&A.createElement(zu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Ys.Focusable}),ht({ourProps:p,theirProps:a,defaultTag:Ew,name:"FocusTrap"}),!!(s&4)&&A.createElement(zu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Ys.Focusable}))}let Cw=nt(kw),xi=Object.assign(Cw,{features:pv});function Sw(e=!0){let t=b.useRef(dn.slice());return pd(([n],[r])=>{r===!0&&n===!1&&Ra(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=dn.slice())},[e,dn,t]),ee(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Tw({ownerDocument:e},t){let n=Sw(t);pd(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Gn(n())},[t]),hv(()=>{t&&Gn(n())})}function Nw({ownerDocument:e,container:t,initialFocus:n},r){let i=b.useRef(null),o=Po();return pd(()=>{if(!r)return;let s=t.current;s&&Ra(()=>{if(!o.current)return;let a=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(s.contains(a)){i.current=a;return}n!=null&&n.current?Gn(n.current):_s(s,Wn.First)===iv.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e==null?void 0:e.activeElement})},[r]),i}function Iw({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){let o=Po();dv(e==null?void 0:e.defaultView,"focus",s=>{if(!i||!o.current)return;let a=fv(n);t.current instanceof HTMLElement&&a.add(t.current);let l=r.current;if(!l)return;let u=s.target;u&&u instanceof HTMLElement?mv(a,u)?(r.current=u,Gn(u)):(s.preventDefault(),s.stopPropagation(),Gn(l)):Gn(r.current)},!0)}function mv(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let gv=b.createContext(!1);function Pw(){return b.useContext(gv)}function Bu(e){return A.createElement(gv.Provider,{value:e.force},e.children)}function Rw(e){let t=Pw(),n=b.useContext(vv),r=Io(e),[i,o]=b.useState(()=>{if(!t&&n!==null||Vt.isServer)return null;let s=r==null?void 0:r.getElementById("headlessui-portal-root");if(s)return s;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return b.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),b.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let Dw=b.Fragment;function Ow(e,t){let n=e,r=b.useRef(null),i=St(pw(d=>{r.current=d}),t),o=Io(r),s=Rw(r),[a]=b.useState(()=>{var d;return Vt.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),l=b.useContext(Wu),u=si();return dt(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),dt(()=>{if(a&&l)return l.register(a)},[l,a]),hv(()=>{var d;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((d=s.parentElement)==null||d.removeChild(s)))}),u?!s||!a?null:qg.createPortal(ht({ourProps:{ref:i},theirProps:n,defaultTag:Dw,name:"Portal"}),a):null}let Lw=b.Fragment,vv=b.createContext(null);function Aw(e,t){let{target:n,...r}=e,i={ref:St(t)};return A.createElement(vv.Provider,{value:n},ht({ourProps:i,theirProps:r,defaultTag:Lw,name:"Popover.Group"}))}let Wu=b.createContext(null);function Mw(){let e=b.useContext(Wu),t=b.useRef([]),n=ee(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=ee(o=>{let s=t.current.indexOf(o);s!==-1&&t.current.splice(s,1),e&&e.unregister(o)}),i=b.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,b.useMemo(()=>function({children:o}){return A.createElement(Wu.Provider,{value:i},o)},[i])]}let Fw=nt(Ow),jw=nt(Aw),Hu=Object.assign(Fw,{Group:jw});function Uw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const zw=typeof Object.is=="function"?Object.is:Uw,{useState:Bw,useEffect:Ww,useLayoutEffect:Hw,useDebugValue:qw}=Br;function Vw(e,t,n){const r=t(),[{inst:i},o]=Bw({inst:{value:r,getSnapshot:t}});return Hw(()=>{i.value=r,i.getSnapshot=t,Sl(i)&&o({inst:i})},[e,r,t]),Ww(()=>(Sl(i)&&o({inst:i}),e(()=>{Sl(i)&&o({inst:i})})),[e]),qw(r),r}function Sl(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!zw(n,r)}catch{return!0}}function $w(e,t,n){return t()}const Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qw=!Kw,Yw=Qw?$w:Vw,Gw="useSyncExternalStore"in Br?(e=>e.useSyncExternalStore)(Br):Yw;function Xw(e){return Gw(e.subscribe,e.getSnapshot,e.getSnapshot)}function Jw(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=t[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function Zw(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,i=r.clientWidth-r.offsetWidth,o=e-i;n.style(r,"paddingRight",`${o}px`)}}}function ex(){return sv()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=dr();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=e.querySelector(u);d&&!r(d)&&(s=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function tx(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function nx(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let $n=Jw(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:dr(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:nx(n)},i=[ex(),Zw(),tx()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});$n.subscribe(()=>{let e=$n.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&$n.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&$n.dispatch("TEARDOWN",n)}});function rx(e,t,n){let r=Xw($n),i=e?r.get(e):void 0,o=i?i.count>0:!1;return dt(()=>{if(!(!e||!t))return $n.dispatch("PUSH",e,n),()=>$n.dispatch("POP",e,n)},[t,e]),o}let Tl=new Map,Ei=new Map;function Of(e,t=!0){dt(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function i(){var s;if(!r)return;let a=(s=Ei.get(r))!=null?s:1;if(a===1?Ei.delete(r):Ei.set(r,a-1),a!==1)return;let l=Tl.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,Tl.delete(r))}let o=(n=Ei.get(r))!=null?n:0;return Ei.set(r,o+1),o!==0||(Tl.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[e,t])}function ix({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let i=b.useRef((r=n==null?void 0:n.current)!=null?r:null),o=Io(i),s=ee(()=>{var a,l,u;let d=[];for(let c of e)c!==null&&(c instanceof HTMLElement?d.push(c):"current"in c&&c.current instanceof HTMLElement&&d.push(c.current));if(t!=null&&t.current)for(let c of t.current)d.push(c);for(let c of(a=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(c.contains(i.current)||c.contains((u=(l=i.current)==null?void 0:l.getRootNode())==null?void 0:u.host)||d.some(h=>c.contains(h))||d.push(c));return d});return{resolveContainers:s,contains:ee(a=>s().some(l=>l.contains(a))),mainTreeNodeRef:i,MainTreeNode:b.useMemo(()=>function(){return n!=null?null:A.createElement(zu,{features:Ys.Hidden,ref:i})},[i,n])}}let vd=b.createContext(()=>{});vd.displayName="StackContext";var qu=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(qu||{});function ox(){return b.useContext(vd)}function sx({children:e,onUpdate:t,type:n,element:r,enabled:i}){let o=ox(),s=ee((...a)=>{t==null||t(...a),o(...a)});return dt(()=>{let a=i===void 0||i===!0;return a&&s(0,n,r),()=>{a&&s(1,n,r)}},[s,n,r,i]),A.createElement(vd.Provider,{value:s},e)}let yv=b.createContext(null);function _v(){let e=b.useContext(yv);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,_v),t}return e}function ax(){let[e,t]=b.useState([]);return[e.length>0?e.join(" "):void 0,b.useMemo(()=>function(n){let r=ee(o=>(t(s=>[...s,o]),()=>t(s=>{let a=s.slice(),l=a.indexOf(o);return l!==-1&&a.splice(l,1),a}))),i=b.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return A.createElement(yv.Provider,{value:i},n.children)},[t])]}let lx="p";function ux(e,t){let n=ai(),{id:r=`headlessui-description-${n}`,...i}=e,o=_v(),s=St(t);dt(()=>o.register(r),[r,o.register]);let a={ref:s,...o.props,id:r};return ht({ourProps:a,theirProps:i,slot:o.slot||{},defaultTag:lx,name:o.name||"Description"})}let cx=nt(ux),dx=Object.assign(cx,{});var hx=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hx||{}),fx=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(fx||{});let px={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Gs=b.createContext(null);Gs.displayName="DialogContext";function Ro(e){let t=b.useContext(Gs);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ro),n}return t}function mx(e,t,n=()=>[document.body]){rx(e,t,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function gx(e,t){return Pe(t.type,px,e,t)}let vx="div",yx=Qs.RenderStrategy|Qs.Static;function _x(e,t){let n=ai(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:s,role:a="dialog",__demoMode:l=!1,...u}=e,[d,c]=b.useState(0),h=b.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=gd();i===void 0&&f!==null&&(i=(f&Ye.Open)===Ye.Open);let p=b.useRef(null),_=St(p,t),w=Io(p),g=e.hasOwnProperty("open")||f!==null,m=e.hasOwnProperty("onClose");if(!g&&!m)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!m)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let v=i?0:1,[x,E]=b.useReducer(gx,{titleId:null,descriptionId:null,panelRef:b.createRef()}),k=ee(()=>o(!1)),C=ee(ie=>E({type:0,id:ie})),I=si()?l?!1:v===0:!1,z=d>1,D=b.useContext(Gs)!==null,[he,je]=Mw(),Ke={get current(){var ie;return(ie=x.panelRef.current)!=null?ie:p.current}},{resolveContainers:Nt,mainTreeNodeRef:ft,MainTreeNode:Mt}=ix({portals:he,defaultContainers:[Ke]}),pt=z?"parent":"leaf",N=f!==null?(f&Ye.Closing)===Ye.Closing:!1,O=(()=>D||N?!1:I)(),L=b.useCallback(()=>{var ie,jt;return(jt=Array.from((ie=w==null?void 0:w.querySelectorAll("body > *"))!=null?ie:[]).find(rt=>rt.id==="headlessui-portal-root"?!1:rt.contains(ft.current)&&rt instanceof HTMLElement))!=null?jt:null},[ft]);Of(L,O);let V=(()=>z?!0:I)(),$=b.useCallback(()=>{var ie,jt;return(jt=Array.from((ie=w==null?void 0:w.querySelectorAll("[data-headlessui-portal]"))!=null?ie:[]).find(rt=>rt.contains(ft.current)&&rt instanceof HTMLElement))!=null?jt:null},[ft]);Of($,V);let rn=(()=>!(!I||z))();fw(Nt,ie=>{ie.preventDefault(),k()},rn);let me=(()=>!(z||v!==0))();dv(w==null?void 0:w.defaultView,"keydown",ie=>{me&&(ie.defaultPrevented||ie.key===cv.Escape&&(ie.preventDefault(),ie.stopPropagation(),k()))});let fi=(()=>!(N||v!==0||D))();mx(w,fi,Nt),b.useEffect(()=>{if(v!==0||!p.current)return;let ie=new ResizeObserver(jt=>{for(let rt of jt){let Fo=rt.target.getBoundingClientRect();Fo.x===0&&Fo.y===0&&Fo.width===0&&Fo.height===0&&k()}});return ie.observe(p.current),()=>ie.disconnect()},[v,p,k]);let[Ft,pr]=ax(),w0=b.useMemo(()=>[{dialogState:v,close:k,setTitleId:C},x],[v,x,k,C]),uh=b.useMemo(()=>({open:v===0}),[v]),x0={ref:_,id:r,role:a,"aria-modal":v===0?!0:void 0,"aria-labelledby":x.titleId,"aria-describedby":Ft};return A.createElement(sx,{type:"Dialog",enabled:v===0,element:p,onUpdate:ee((ie,jt)=>{jt==="Dialog"&&Pe(ie,{[qu.Add]:()=>c(rt=>rt+1),[qu.Remove]:()=>c(rt=>rt-1)})})},A.createElement(Bu,{force:!0},A.createElement(Hu,null,A.createElement(Gs.Provider,{value:w0},A.createElement(Hu.Group,{target:p},A.createElement(Bu,{force:!1},A.createElement(pr,{slot:uh,name:"Dialog.Description"},A.createElement(xi,{initialFocus:s,containers:Nt,features:I?Pe(pt,{parent:xi.features.RestoreFocus,leaf:xi.features.All&~xi.features.FocusLock}):xi.features.None},A.createElement(je,null,ht({ourProps:x0,theirProps:u,slot:uh,defaultTag:vx,features:yx,visible:v===0,name:"Dialog"}))))))))),A.createElement(Mt,null))}let bx="div";function wx(e,t){let n=ai(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:o,close:s}]=Ro("Dialog.Overlay"),a=St(t),l=ee(d=>{if(d.target===d.currentTarget){if(bw(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),s()}}),u=b.useMemo(()=>({open:o===0}),[o]);return ht({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:u,defaultTag:bx,name:"Dialog.Overlay"})}let xx="div";function Ex(e,t){let n=ai(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:o},s]=Ro("Dialog.Backdrop"),a=St(t);b.useEffect(()=>{if(s.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[s.panelRef]);let l=b.useMemo(()=>({open:o===0}),[o]);return A.createElement(Bu,{force:!0},A.createElement(Hu,null,ht({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:xx,name:"Dialog.Backdrop"})))}let kx="div";function Cx(e,t){let n=ai(),{id:r=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:o},s]=Ro("Dialog.Panel"),a=St(t,s.panelRef),l=b.useMemo(()=>({open:o===0}),[o]),u=ee(d=>{d.stopPropagation()});return ht({ourProps:{ref:a,id:r,onClick:u},theirProps:i,slot:l,defaultTag:kx,name:"Dialog.Panel"})}let Sx="h2";function Tx(e,t){let n=ai(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:s}]=Ro("Dialog.Title"),a=St(t);b.useEffect(()=>(s(r),()=>s(null)),[r,s]);let l=b.useMemo(()=>({open:o===0}),[o]);return ht({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:Sx,name:"Dialog.Title"})}let Nx=nt(_x),Ix=nt(Ex),Px=nt(Cx),Rx=nt(wx),Dx=nt(Tx),Nl=Object.assign(Nx,{Backdrop:Ix,Panel:Px,Overlay:Rx,Title:Dx,Description:dx});function Ox(e=0){let[t,n]=b.useState(e),r=Po(),i=b.useCallback(l=>{r.current&&n(u=>u|l)},[t,r]),o=b.useCallback(l=>!!(t&l),[t]),s=b.useCallback(l=>{r.current&&n(u=>u&~l)},[n,r]),a=b.useCallback(l=>{r.current&&n(u=>u^l)},[n]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}function Lx(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Il(e,...t){e&&t.length>0&&e.classList.add(...t)}function Pl(e,...t){e&&t.length>0&&e.classList.remove(...t)}function Ax(e,t){let n=dr();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[o,s]=[r,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,c)=>c-d);return u}),a=o+s;if(a!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},a),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let l=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),l())})}else t();return n.add(()=>t()),n.dispose}function Mx(e,t,n,r){let i=n?"enter":"leave",o=dr(),s=r!==void 0?Lx(r):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let a=Pe(i,{enter:()=>t.enter,leave:()=>t.leave}),l=Pe(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Pe(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Pl(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Il(e,...t.base,...a,...u),o.nextFrame(()=>{Pl(e,...t.base,...a,...u),Il(e,...t.base,...a,...l),Ax(e,()=>(Pl(e,...t.base,...a),Il(e,...t.base,...t.entered),s()))}),o.dispose}function Fx({immediate:e,container:t,direction:n,classes:r,onStart:i,onStop:o}){let s=Po(),a=fd(),l=$t(n);dt(()=>{e&&(l.current="enter")},[e]),dt(()=>{let u=dr();a.add(u.dispose);let d=t.current;if(d&&l.current!=="idle"&&s.current)return u.dispose(),i.current(l.current),u.add(Mx(d,r.current,l.current==="enter",()=>{u.dispose(),o.current(l.current)})),u.dispose},[n])}function sn(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Da=b.createContext(null);Da.displayName="TransitionContext";var jx=(e=>(e.Visible="visible",e.Hidden="hidden",e))(jx||{});function Ux(){let e=b.useContext(Da);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function zx(){let e=b.useContext(Oa);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Oa=b.createContext(null);Oa.displayName="NestingContext";function La(e){return"children"in e?La(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function bv(e,t){let n=$t(e),r=b.useRef([]),i=Po(),o=fd(),s=ee((f,p=gn.Hidden)=>{let _=r.current.findIndex(({el:w})=>w===f);_!==-1&&(Pe(p,{[gn.Unmount](){r.current.splice(_,1)},[gn.Hidden](){r.current[_].state="hidden"}}),o.microTask(()=>{var w;!La(r)&&i.current&&((w=n.current)==null||w.call(n))}))}),a=ee(f=>{let p=r.current.find(({el:_})=>_===f);return p?p.state!=="visible"&&(p.state="visible"):r.current.push({el:f,state:"visible"}),()=>s(f,gn.Unmount)}),l=b.useRef([]),u=b.useRef(Promise.resolve()),d=b.useRef({enter:[],leave:[],idle:[]}),c=ee((f,p,_)=>{l.current.splice(0),t&&(t.chains.current[p]=t.chains.current[p].filter(([w])=>w!==f)),t==null||t.chains.current[p].push([f,new Promise(w=>{l.current.push(w)})]),t==null||t.chains.current[p].push([f,new Promise(w=>{Promise.all(d.current[p].map(([g,m])=>m)).then(()=>w())})]),p==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>_(p)):_(p)}),h=ee((f,p,_)=>{Promise.all(d.current[p].splice(0).map(([w,g])=>g)).then(()=>{var w;(w=l.current.shift())==null||w()}).then(()=>_(p))});return b.useMemo(()=>({children:r,register:a,unregister:s,onStart:c,onStop:h,wait:u,chains:d}),[a,s,r,c,h,d,u])}function Bx(){}let Wx=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Lf(e){var t;let n={};for(let r of Wx)n[r]=(t=e[r])!=null?t:Bx;return n}function Hx(e){let t=b.useRef(Lf(e));return b.useEffect(()=>{t.current=Lf(e)},[e]),t}let qx="div",wv=Qs.RenderStrategy;function Vx(e,t){var n,r;let{beforeEnter:i,afterEnter:o,beforeLeave:s,afterLeave:a,enter:l,enterFrom:u,enterTo:d,entered:c,leave:h,leaveFrom:f,leaveTo:p,..._}=e,w=b.useRef(null),g=St(w,t),m=(n=_.unmount)==null||n?gn.Unmount:gn.Hidden,{show:v,appear:x,initial:E}=Ux(),[k,C]=b.useState(v?"visible":"hidden"),I=zx(),{register:z,unregister:D}=I;b.useEffect(()=>z(w),[z,w]),b.useEffect(()=>{if(m===gn.Hidden&&w.current){if(v&&k!=="visible"){C("visible");return}return Pe(k,{hidden:()=>D(w),visible:()=>z(w)})}},[k,w,z,D,v,m]);let he=$t({base:sn(_.className),enter:sn(l),enterFrom:sn(u),enterTo:sn(d),entered:sn(c),leave:sn(h),leaveFrom:sn(f),leaveTo:sn(p)}),je=Hx({beforeEnter:i,afterEnter:o,beforeLeave:s,afterLeave:a}),Ke=si();b.useEffect(()=>{if(Ke&&k==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,k,Ke]);let Nt=E&&!x,ft=x&&v&&E,Mt=(()=>!Ke||Nt?"idle":v?"enter":"leave")(),pt=Ox(0),N=ee(me=>Pe(me,{enter:()=>{pt.addFlag(Ye.Opening),je.current.beforeEnter()},leave:()=>{pt.addFlag(Ye.Closing),je.current.beforeLeave()},idle:()=>{}})),O=ee(me=>Pe(me,{enter:()=>{pt.removeFlag(Ye.Opening),je.current.afterEnter()},leave:()=>{pt.removeFlag(Ye.Closing),je.current.afterLeave()},idle:()=>{}})),L=bv(()=>{C("hidden"),D(w)},I),V=b.useRef(!1);Fx({immediate:ft,container:w,classes:he,direction:Mt,onStart:$t(me=>{V.current=!0,L.onStart(w,me,N)}),onStop:$t(me=>{V.current=!1,L.onStop(w,me,O),me==="leave"&&!La(L)&&(C("hidden"),D(w))})});let $=_,rn={ref:g};return ft?$={...$,className:Ks(_.className,...he.current.enter,...he.current.enterFrom)}:V.current&&($.className=Ks(_.className,(r=w.current)==null?void 0:r.className),$.className===""&&delete $.className),A.createElement(Oa.Provider,{value:L},A.createElement(yw,{value:Pe(k,{visible:Ye.Open,hidden:Ye.Closed})|pt.flags},ht({ourProps:rn,theirProps:$,defaultTag:qx,features:wv,visible:k==="visible",name:"Transition.Child"})))}function $x(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,s=b.useRef(null),a=St(s,t);si();let l=gd();if(n===void 0&&l!==null&&(n=(l&Ye.Open)===Ye.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=b.useState(n?"visible":"hidden"),c=bv(()=>{d("hidden")}),[h,f]=b.useState(!0),p=b.useRef([n]);dt(()=>{h!==!1&&p.current[p.current.length-1]!==n&&(p.current.push(n),f(!1))},[p,n]);let _=b.useMemo(()=>({show:n,appear:r,initial:h}),[n,r,h]);b.useEffect(()=>{if(n)d("visible");else if(!La(c))d("hidden");else{let v=s.current;if(!v)return;let x=v.getBoundingClientRect();x.x===0&&x.y===0&&x.width===0&&x.height===0&&d("hidden")}},[n,c]);let w={unmount:i},g=ee(()=>{var v;h&&f(!1),(v=e.beforeEnter)==null||v.call(e)}),m=ee(()=>{var v;h&&f(!1),(v=e.beforeLeave)==null||v.call(e)});return A.createElement(Oa.Provider,{value:c},A.createElement(Da.Provider,{value:_},ht({ourProps:{...w,as:b.Fragment,children:A.createElement(xv,{ref:a,...w,...o,beforeEnter:g,beforeLeave:m})},theirProps:{},defaultTag:b.Fragment,features:wv,visible:u==="visible",name:"Transition"})))}function Kx(e,t){let n=b.useContext(Da)!==null,r=gd()!==null;return A.createElement(A.Fragment,null,!n&&r?A.createElement(Vu,{ref:t,...e}):A.createElement(xv,{ref:t,...e}))}let Vu=nt($x),xv=nt(Vx),Qx=nt(Kx),Yx=Object.assign(Vu,{Child:Qx,Root:Vu});const Gx=({itemDetails:e,newTagInput:t,setNewTagInput:n,isEditingTag:r,setIsEditingTag:i,editTagValue:o,setEditTagValue:s,tagSuggestions:a,onAddNewTag:l,onSelectExistingTag:u,onRemoveTag:d,onEditTag:c,onUpdateTag:h,onKeyDown:f})=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Tags"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags&&e.tags.map(p=>y.jsxs("div",{className:"group flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg border border-white/10 transition-all duration-300 hover:border-white/20",children:[y.jsx(Pf,{className:"w-3 h-3 text-blue-300"}),r===p?y.jsx("input",{type:"text",value:o,onChange:_=>s(_.target.value),onKeyDown:_=>h(p,_),onBlur:()=>i(null),className:"bg-transparent border-none p-0 text-sm text-white focus:ring-0 w-20",autoFocus:!0}):y.jsx("span",{onClick:()=>c(p),className:"text-sm text-gray-300 cursor-text",children:p}),y.jsx("button",{onClick:()=>d(p),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400 transition-all duration-200",children:y.jsx(hd,{className:"w-3 h-3"})})]},p))}),a.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2",children:a.filter(p=>!e.tags.includes(p)).map(p=>y.jsxs("button",{onClick:()=>u(p),className:"flex items-center gap-1 px-3 py-1.5 bg-white/5 rounded-lg border border-white/10 transition-all duration-300 hover:bg-white/10 text-sm text-gray-400 hover:text-gray-200",children:[y.jsx(tv,{className:"w-3 h-3"}),p]},p))}),y.jsxs("form",{onSubmit:l,className:"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg border border-white/10",children:[y.jsx(Pf,{className:"w-4 h-4 text-blue-300"}),y.jsx("input",{type:"text",value:t,onChange:p=>n(p.target.value),onKeyDown:f,placeholder:"Add a tag...",className:"flex-1 bg-transparent border-none text-sm text-white placeholder-gray-400 focus:ring-0 focus:outline-none p-0"})]})]})]}),Xx=({isOpen:e,setIsOpen:t,item:n,itemDetails:r,setItemDetails:i,onUpdateItem:o,newTagInput:s,setNewTagInput:a,isEditingTag:l,setIsEditingTag:u,editTagValue:d,setEditTagValue:c,tagSuggestions:h,onAddNewTag:f,onSelectExistingTag:p,onRemoveTag:_,onEditTag:w,onUpdateTag:g,onKeyDown:m,onImageUpload:v,isUploading:x,uploadError:E})=>n?y.jsx(Yx.Root,{show:e,as:A.Fragment,children:y.jsx(Nl,{as:"div",className:"fixed inset-0 overflow-hidden z-50",onClose:t,children:y.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[y.jsx(Nl.Overlay,{className:"absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity"}),y.jsx("div",{className:"fixed inset-y-0 right-0 pl-10 max-w-full flex",children:y.jsx("div",{className:"w-screen max-w-md",children:y.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-b from-gray-800 to-gray-900 shadow-xl border-l border-white/10",children:[y.jsxs("div",{className:"flex-1 overflow-y-auto py-6 px-4 sm:px-6",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsx(Nl.Title,{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-300 to-purple-300",children:"Item Details"}),y.jsx("button",{type:"button",className:"rounded-md text-gray-400 hover:text-white transition-colors",onClick:()=>t(!1),children:y.jsx(hd,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"mt-8 space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),y.jsx("input",{type:"text",value:r.name,onChange:k=>i(C=>({...C,name:k.target.value})),className:"block w-full bg-gray-800/70 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"Item name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location"}),y.jsx("input",{type:"text",value:r.location,onChange:k=>i(C=>({...C,location:k.target.value})),className:"block w-full bg-gray-800/70 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"Where to buy?"})]}),y.jsx(Jx,{itemDetails:r,setItemDetails:i,onImageUpload:v,isUploading:x,uploadError:E,item:n}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product URL"}),y.jsx("input",{type:"text",value:r.url,onChange:k=>i(C=>({...C,url:k.target.value})),className:"block w-full bg-gray-800/70 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"https://example.com/product"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remarks"}),y.jsx("textarea",{value:r.remarks,onChange:k=>i(C=>({...C,remarks:k.target.value})),rows:3,className:"block w-full bg-gray-800/70 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent resize-none transition-all duration-300",placeholder:"Any additional notes..."})]}),y.jsx(Gx,{itemDetails:r,newTagInput:s,setNewTagInput:a,isEditingTag:l,setIsEditingTag:u,editTagValue:d,setEditTagValue:c,tagSuggestions:h,onAddNewTag:f,onSelectExistingTag:p,onRemoveTag:_,onEditTag:w,onUpdateTag:g,onKeyDown:m})]})]}),y.jsx("div",{className:"border-t border-white/10 p-4",children:y.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-3 rounded-lg hover:opacity-90 transition-all duration-300 shadow-lg font-medium",onClick:o,children:"Save Changes"})})]})})})]})})}):null,Jx=({itemDetails:e,setItemDetails:t,onImageUpload:n,isUploading:r,uploadError:i,item:o})=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image"}),y.jsxs("div",{className:"space-y-4",children:[e.imageUrl&&y.jsxs("div",{className:"relative w-full h-40 rounded-lg overflow-hidden shadow-lg border border-white/10",children:[y.jsx("img",{src:e.imageUrl,alt:"Item",className:"w-full h-full object-cover"}),y.jsx("button",{onClick:async()=>{try{n(null,o)}catch(s){console.error("Error deleting image:",s)}},className:"absolute top-2 right-2 p-1.5 bg-red-500 rounded-full hover:bg-red-600 transition-colors shadow-lg",disabled:r,children:y.jsx(hd,{className:"w-4 h-4 text-white"})})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("label",{className:`w-full flex flex-col items-center px-4 py-6 bg-white/5 text-gray-300 rounded-lg cursor-pointer hover:bg-white/10 transition-all border border-white/10 ${r?"opacity-50 cursor-not-allowed":""}`,children:[y.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),y.jsx("span",{className:"text-sm",children:r?"Uploading...":"Upload Image"}),y.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, GIF or WEBP (max. 5MB)"}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:s=>{var a;const l=(a=s.target.files)==null?void 0:a[0];l&&n(l,o)},disabled:r})]}),i&&y.jsx("p",{className:`mt-2 text-sm ${i.includes("successfully")?"text-emerald-400":"text-red-400"}`,children:i})]})]})]});/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ev={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T=function(e,t){if(!e)throw li(t)},li=function(e){return new Error("Firebase Database ("+Ev.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kv=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Zx=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},yd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,d=o>>2,c=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(h=64)),r.push(n[d],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Zx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||s==null||a==null||l==null)throw new eE;const u=o<<2|s>>4;if(r.push(u),a!==64){const d=s<<4&240|a>>2;if(r.push(d),l!==64){const c=a<<6&192|l;r.push(c)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cv=function(e){const t=kv(e);return yd.encodeByteArray(t,!0)},Xs=function(e){return Cv(e).replace(/\./g,"")},$u=function(e){try{return yd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tE(e){return Sv(void 0,e)}function Sv(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!nE(n)||(e[n]=Sv(e[n],t[n]));return e}function nE(e){return e!=="__proto__"}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iE=()=>rE().__FIREBASE_DEFAULTS__,oE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$u(e[1]);return t&&JSON.parse(t)},Tv=()=>{try{return iE()||oE()||sE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aE=e=>{var t,n;return(n=(t=Tv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Nv=e=>{const t=aE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Iv=()=>{var e;return(e=Tv())===null||e===void 0?void 0:e.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Do{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Xs(JSON.stringify(n)),Xs(JSON.stringify(s)),a].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lE())}function uE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dv(){return Ev.NODE_ADMIN===!0}function cE(){try{return typeof indexedDB=="object"}catch{return!1}}function dE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hE="FirebaseError";class ui extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=hE,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ov.prototype.create)}}class Ov{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?fE(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ui(i,a,r)}}function fE(e,t){return e.replace(pE,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const pE=/\{\$([^}]+)}/g;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function po(e){return JSON.parse(e)}function be(e){return JSON.stringify(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lv=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=po($u(o[0])||""),n=po($u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},mE=function(e){const t=Lv(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},gE=function(e){const t=Lv(e).claims;return typeof t=="object"&&t.admin===!0};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function At(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Af(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Js(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ku(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(Mf(o)&&Mf(s)){if(!Ku(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mf(e){return e!==null&&typeof e=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vE(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)r[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const h=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=a^o&(s^a),d=1518500249):(u=o^s^a,d=1859775393):c<60?(u=o&s|a&(o|s),d=2400959708):(u=o^s^a,d=3395469782);const h=(i<<5|i>>>27)+u+l+d+r[c]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function Aa(e,t){return`${e} failed: ${t} argument `}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _E=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,T(r<e.length,"Surrogate pair missing trail surrogate.");const s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ma=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Tt(e){return e&&e._delegate?e._delegate:e}class Gr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zn="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Do;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xE(t))try{this.getOrInitializeService({instanceIdentifier:zn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=zn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zn){return this.instances.has(t)}getOptions(t=zn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=zn){return this.component?this.component.multipleInstances?t:zn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wE(e){return e===zn?void 0:e}function xE(e){return e.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new bE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Q;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Q||(Q={}));const kE={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},CE=Q.INFO,SE={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},TE=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=SE[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Av{constructor(t){this.name=t,this._logLevel=CE,this._logHandler=TE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Q))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...t),this._logHandler(this,Q.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...t),this._logHandler(this,Q.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...t),this._logHandler(this,Q.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...t),this._logHandler(this,Q.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...t),this._logHandler(this,Q.ERROR,...t)}}const NE=(e,t)=>t.some(n=>e instanceof n);let Ff,jf;function IE(){return Ff||(Ff=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PE(){return jf||(jf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,Qu=new WeakMap,Fv=new WeakMap,Rl=new WeakMap,_d=new WeakMap;function RE(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Tn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Mv.set(n,e)}).catch(()=>{}),_d.set(t,e),t}function DE(e){if(Qu.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Qu.set(e,t)}let Yu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Qu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Fv.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function OE(e){Yu=e(Yu)}function LE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Dl(this),t,...n);return Fv.set(r,t.sort?t.sort():[t]),Tn(r)}:PE().includes(e)?function(...t){return e.apply(Dl(this),t),Tn(Mv.get(this))}:function(...t){return Tn(e.apply(Dl(this),t))}}function AE(e){return typeof e=="function"?LE(e):(e instanceof IDBTransaction&&DE(e),NE(e,IE())?new Proxy(e,Yu):e)}function Tn(e){if(e instanceof IDBRequest)return RE(e);if(Rl.has(e))return Rl.get(e);const t=AE(e);return t!==e&&(Rl.set(e,t),_d.set(t,e)),t}const Dl=e=>_d.get(e);function ME(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Tn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Tn(s.result),l.oldVersion,l.newVersion,Tn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const FE=["get","getKey","getAll","getAllKeys","count"],jE=["put","add","delete","clear"],Ol=new Map;function Uf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ol.get(t))return Ol.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=jE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FE.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ol.set(t,o),o}OE(e=>({...e,get:(t,n,r)=>Uf(t,n)||e.get(t,n,r),has:(t,n)=>!!Uf(t,n)||e.has(t,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zE(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function zE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Gu="@firebase/app",zf="0.10.13";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jt=new Av("@firebase/app"),BE="@firebase/app-compat",WE="@firebase/analytics-compat",HE="@firebase/analytics",qE="@firebase/app-check-compat",VE="@firebase/app-check",$E="@firebase/auth",KE="@firebase/auth-compat",QE="@firebase/database",YE="@firebase/data-connect",GE="@firebase/database-compat",XE="@firebase/functions",JE="@firebase/functions-compat",ZE="@firebase/installations",ek="@firebase/installations-compat",tk="@firebase/messaging",nk="@firebase/messaging-compat",rk="@firebase/performance",ik="@firebase/performance-compat",ok="@firebase/remote-config",sk="@firebase/remote-config-compat",ak="@firebase/storage",lk="@firebase/storage-compat",uk="@firebase/firestore",ck="@firebase/vertexai-preview",dk="@firebase/firestore-compat",hk="firebase",fk="10.14.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xu="[DEFAULT]",pk={[Gu]:"fire-core",[BE]:"fire-core-compat",[HE]:"fire-analytics",[WE]:"fire-analytics-compat",[VE]:"fire-app-check",[qE]:"fire-app-check-compat",[$E]:"fire-auth",[KE]:"fire-auth-compat",[QE]:"fire-rtdb",[YE]:"fire-data-connect",[GE]:"fire-rtdb-compat",[XE]:"fire-fn",[JE]:"fire-fn-compat",[ZE]:"fire-iid",[ek]:"fire-iid-compat",[tk]:"fire-fcm",[nk]:"fire-fcm-compat",[rk]:"fire-perf",[ik]:"fire-perf-compat",[ok]:"fire-rc",[sk]:"fire-rc-compat",[ak]:"fire-gcs",[lk]:"fire-gcs-compat",[uk]:"fire-fst",[dk]:"fire-fst-compat",[ck]:"fire-vertex","fire-js":"fire-js",[hk]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zs=new Map,mk=new Map,Ju=new Map;function Bf(e,t){try{e.container.addComponent(t)}catch(n){Jt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function mo(e){const t=e.name;if(Ju.has(t))return Jt.debug(`There were multiple attempts to register component ${t}.`),!1;Ju.set(t,e);for(const n of Zs.values())Bf(n,e);for(const n of mk.values())Bf(n,e);return!0}function jv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nn=new Ov("app","Firebase",gk);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vk{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Uv=fk;function zv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Xu,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Nn.create("bad-app-name",{appName:String(i)});if(n||(n=Iv()),!n)throw Nn.create("no-options");const o=Zs.get(i);if(o){if(Ku(n,o.options)&&Ku(r,o.config))return o;throw Nn.create("duplicate-app",{appName:i})}const s=new EE(i);for(const l of Ju.values())s.addComponent(l);const a=new vk(n,r,s);return Zs.set(i,a),a}function Bv(e=Xu){const t=Zs.get(e);if(!t&&e===Xu&&Iv())return zv();if(!t)throw Nn.create("no-app",{appName:e});return t}function In(e,t,n){var r;let i=(r=pk[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Jt.warn(a.join(" "));return}mo(new Gr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yk="firebase-heartbeat-database",_k=1,go="firebase-heartbeat-store";let Ll=null;function Wv(){return Ll||(Ll=ME(yk,_k,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(go)}catch(n){console.warn(n)}}}}).catch(e=>{throw Nn.create("idb-open",{originalErrorMessage:e.message})})),Ll}async function bk(e){try{const t=(await Wv()).transaction(go),n=await t.objectStore(go).get(Hv(e));return await t.done,n}catch(t){if(t instanceof ui)Jt.warn(t.message);else{const n=Nn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Jt.warn(n.message)}}}async function Wf(e,t){try{const n=(await Wv()).transaction(go,"readwrite");await n.objectStore(go).put(t,Hv(e)),await n.done}catch(n){if(n instanceof ui)Jt.warn(n.message);else{const r=Nn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jt.warn(r.message)}}}function Hv(e){return`${e.name}!${e.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wk=1024,xk=30*24*60*60*1e3;class Ek{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ck(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hf();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=xk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Jt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hf(),{heartbeatsToSend:r,unsentEntries:i}=kk(this._heartbeatsCache.heartbeats),o=Xs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Jt.warn(n),""}}}function Hf(){return new Date().toISOString().substring(0,10)}function kk(e,t=wk){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),qf(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qf(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ck{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cE()?dE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Wf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Wf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function qf(e){return Xs(JSON.stringify({version:2,heartbeats:e})).length}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Sk(e){mo(new Gr("platform-logger",t=>new UE(t),"PRIVATE")),mo(new Gr("heartbeat",t=>new Ek(t),"PRIVATE")),In(Gu,zf,e),In(Gu,zf,"esm2017"),In("fire-js","")}Sk("");var Tk="firebase",Nk="10.14.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/In(Tk,Nk,"app");const Vf="@firebase/database",$f="1.0.8";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let qv="";function Ik(e){qv=e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pk{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),be(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:po(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return At(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Vv=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Pk(t)}}catch{}return new Rk},Kn=Vv("localStorage"),Zu=Vv("sessionStorage");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fr=new Av("@firebase/database"),Dk=function(){let e=1;return function(){return e++}}(),$v=function(e){const t=_E(e),n=new yE;n.update(t);const r=n.digest();return yd.encodeByteArray(r)},Oo=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Oo.apply(null,r):typeof r=="object"?t+=be(r):t+=r,t+=" "}return t};let Xn=null,Kf=!0;const Ok=function(e,t){T(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Fr.logLevel=Q.VERBOSE,Xn=Fr.log.bind(Fr),t&&Zu.set("logging_enabled",!0)):typeof e=="function"?Xn=e:(Xn=null,Zu.remove("logging_enabled"))},Ee=function(...e){if(Kf===!0&&(Kf=!1,Xn===null&&Zu.get("logging_enabled")===!0&&Ok(!0)),Xn){const t=Oo.apply(null,e);Xn(t)}},Lo=function(e){return function(...t){Ee(e,...t)}},ec=function(...e){const t="FIREBASE INTERNAL ERROR: "+Oo(...e);Fr.error(t)},Zt=function(...e){const t=`FIREBASE FATAL ERROR: ${Oo(...e)}`;throw Fr.error(t),new Error(t)},Ae=function(...e){const t="FIREBASE WARNING: "+Oo(...e);Fr.warn(t)},Lk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ae("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bd=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ak=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xr="[MIN_NAME]",ir="[MAX_NAME]",hr=function(e,t){if(e===t)return 0;if(e===Xr||t===ir)return-1;if(t===Xr||e===ir)return 1;{const n=Qf(e),r=Qf(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},Mk=function(e,t){return e===t?0:e<t?-1:1},ki=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+be(t))},wd=function(e){if(typeof e!="object"||e===null)return be(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=be(t[r]),n+=":",n+=wd(e[t[r]]);return n+="}",n},Kv=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Se(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Qv=function(e){T(!bd(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const d=u.join("");let c="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),c=c+h}return c.toLowerCase()},Fk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Uk(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const zk=new RegExp("^-?(0*)\\d{1,10}$"),Bk=-2147483648,Wk=2147483647,Qf=function(e){if(zk.test(e)){const t=Number(e);if(t>=Bk&&t<=Wk)return t}return null},ci=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ae("Exception was thrown by user callback.",n),t},Math.floor(0))}},Hk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vi=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qk{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ae(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vk{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ee("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ae(t)}}class jr{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}jr.OWNER="owner";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xd="5",Yv="v",Gv="s",Xv="r",Jv="f",Zv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ey="ls",ty="p",tc="ac",ny="websocket",ry="long_polling";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iy{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Kn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function $k(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function oy(e,t,n){T(typeof t=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let r;if(t===ny)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===ry)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);$k(e)&&(n.ns=e.namespace);const i=[];return Se(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kk{constructor(){this.counters_={}}incrementCounter(t,n=1){At(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return tE(this.counters_)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Al={},Ml={};function Ed(e){const t=e.toString();return Al[t]||(Al[t]=new Kk),Al[t]}function Qk(e,t){const n=e.toString();return Ml[n]||(Ml[n]=t()),Ml[n]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yk{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ci(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Yf="start",Gk="close",Xk="pLPCommand",Jk="pRTLPCB",sy="id",ay="pw",ly="ser",Zk="cb",eC="seg",tC="ts",nC="d",rC="dframe",uy=1870,cy=30,iC=uy-cy,oC=25e3,sC=3e4;class Ir{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lo(t),this.stats_=Ed(n),this.urlFn=l=>(this.appCheckToken&&(l[tc]=this.appCheckToken),oy(n,ry,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Yk(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sC)),Ak(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kd((...o)=>{const[s,a,l,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Yf)this.id=a,this.password=l;else if(s===Gk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Yf]="t",r[ly]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Zk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Yv]=xd,this.transportSessionId&&(r[Gv]=this.transportSessionId),this.lastSessionId&&(r[ey]=this.lastSessionId),this.applicationId&&(r[ty]=this.applicationId),this.appCheckToken&&(r[tc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(r[Xv]=Jv);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ir.forceAllow_=!0}static forceDisallow(){Ir.forceDisallow_=!0}static isAvailable(){return Ir.forceAllow_?!0:!Ir.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Fk()&&!jk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=be(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Cv(n),i=Kv(r,iC);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[rC]="t",r[sy]=t,r[ay]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=be(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kd{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Dk(),window[Xk+this.uniqueCallbackIdentifier]=t,window[Jk+this.uniqueCallbackIdentifier]=n,this.myIFrame=kd.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ee("frame writing exception"),a.stack&&Ee(a.stack),Ee(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ee("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[sy]=this.myID,t[ay]=this.myPW,t[ly]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+cy+r.length<=uy;){const o=this.pendingSegs.shift();r=r+"&"+eC+i+"="+o.seg+"&"+tC+i+"="+o.ts+"&"+nC+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(oC)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ee("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aC=16384,lC=45e3;let ea=null;typeof MozWebSocket<"u"?ea=MozWebSocket:typeof WebSocket<"u"&&(ea=WebSocket);class _t{constructor(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lo(this.connId),this.stats_=Ed(n),this.connURL=_t.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,o){const s={};return s[Yv]=xd,typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(s[Xv]=Jv),n&&(s[Gv]=n),r&&(s[ey]=r),i&&(s[tc]=i),o&&(s[ty]=o),oy(t,ny,s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kn.set("previous_websocket_failure",!0);try{let r;Dv(),this.mySock=new ea(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){_t.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&ea!==null&&!_t.forceDisallow_}static previouslyFailed(){return Kn.isInMemoryStorage||Kn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=po(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(T(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=be(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Kv(n,aC);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lC))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_t.responsesRequiredToBeHealthy=2;_t.healthyTimeout=3e4;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vo{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ir,_t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=_t&&_t.isAvailable();let r=n&&!_t.previouslyFailed();if(t.webSocketOnly&&(n||Ae("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[_t];else{const i=this.transports_=[];for(const o of vo.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);vo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vo.globalTransportInitialized_=!1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uC=6e4,cC=5e3,dC=10*1024,hC=100*1024,Fl="t",Gf="d",fC="s",Xf="r",pC="e",Jf="o",Zf="a",ep="n",tp="p",mC="h";class gC{constructor(t,n,r,i,o,s,a,l,u,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lo("c:"+this.id+":"),this.transportManager_=new vo(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Vi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Fl in t){const n=t[Fl];n===Zf?this.upgradeIfSecondaryHealthy_():n===Xf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Jf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ki("t",t),r=ki("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Zf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ep,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ki("t",t),r=ki("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ki(Fl,t);if(Gf in t){const r=t[Gf];if(n===mC){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ep){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fC?this.onConnectionShutdown_(r):n===Xf?this.onReset_(r):n===pC?ec("Server Error: "+r):n===Jf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ec("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xd!==r&&Ae("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Vi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dy{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hy{constructor(t){this.allowedEvents_=t,this.listeners_={},T(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){T(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ta extends hy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ta}getInitialEvent(t){return T(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const np=32,rp=768;class q{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function W(){return new q("")}function M(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function On(e){return e.pieces_.length-e.pieceNum_}function Y(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new q(e.pieces_,t)}function Cd(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function vC(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function yo(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function fy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new q(t,0)}function se(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof q)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new q(n,0)}function j(e){return e.pieceNum_>=e.pieces_.length}function Be(e,t){const n=M(e),r=M(t);if(n===null)return t;if(n===r)return Be(Y(e),Y(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function yC(e,t){const n=yo(e,0),r=yo(t,0);for(let i=0;i<n.length&&i<r.length;i++){const o=hr(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Sd(e,t){if(On(e)!==On(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function at(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(On(e)>On(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class _C{constructor(t,n){this.errorPrefix_=n,this.parts_=yo(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ma(this.parts_[r]);py(this)}}function bC(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ma(t),py(e)}function wC(e){const t=e.parts_.pop();e.byteLength_-=Ma(t),e.parts_.length>0&&(e.byteLength_-=1)}function py(e){if(e.byteLength_>rp)throw new Error(e.errorPrefix_+"has a key path longer than "+rp+" bytes ("+e.byteLength_+").");if(e.parts_.length>np)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+np+") or object contains a cycle "+Bn(e))}function Bn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Td extends hy{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Td}getInitialEvent(t){return T(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ci=1e3,xC=60*5*1e3,ip=30*1e3,EC=1.3,kC=3e4,CC="server_kill",op=3;class Kt extends dy{constructor(t,n,r,i,o,s,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Kt.nextPersistentConnectionId_++,this.log_=Lo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ci,this.maxReconnectDelay_=xC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Dv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Td.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&ta.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,o={r:i,a:t,b:n};this.log_(be(o)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Do,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const s=o.d;o.s==="ok"?n.resolve(s):n.reject(s)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(t,n,r,i){this.initConnection_();const o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;Kt.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&At(t,"w")){const r=Yr(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Ae(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||gE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ip)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=mE(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const o={p:t},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+be(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):ec("Unrecognized action received from server: "+be(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ci,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ci,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kC&&(this.reconnectDelay_=Ci),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*EC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Kt.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(c){T(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?Ee("getToken() completed but was canceled"):(Ee("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=h&&h.token,a=new gC(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,f=>{Ae(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(CC)},o))}catch(c){this.log_("Failed to get token: "+c),s||(this.repoInfo_.nodeAdmin&&Ae(c),l())}}}interrupt(t){Ee("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ee("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Af(this.interruptReasons_)&&(this.reconnectDelay_=Ci,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(o=>wd(o)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new q(t).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Ee("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=op&&(this.reconnectDelay_=ip,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ee("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=op&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+qv.replace(/\./g,"-")]=1,Rv()?t["framework.cordova"]=1:uE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=ta.getInstance().currentlyOnline();return Af(this.interruptReasons_)&&t}}Kt.nextPersistentConnectionId_=0;Kt.nextConnectionId_=0;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new F(t,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fa{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new F(Xr,t),i=new F(Xr,n);return this.compare(r,i)!==0}minPost(){return F.MIN}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let rs;class my extends Fa{static get __EMPTY_NODE(){return rs}static set __EMPTY_NODE(t){rs=t}compare(t,n){return hr(t.name,n.name)}isDefinedOn(t){throw li("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return F.MIN}maxPost(){return new F(ir,rs)}makePost(t,n){return T(typeof t=="string","KeyIndex indexValue must always be a string."),new F(t,rs)}toString(){return".key"}}const Ur=new my;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class is{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ye{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??ye.RED,this.left=i??We.EMPTY_NODE,this.right=o??We.EMPTY_NODE}copy(t,n,r,i,o){return new ye(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return We.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return We.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ye.RED=!0;ye.BLACK=!1;class SC{copy(t,n,r,i,o){return this}insert(t,n,r){return new ye(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class We{constructor(t,n=We.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new We(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ye.BLACK,null,null))}remove(t){return new We(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ye.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new is(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new is(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new is(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new is(this.root_,null,this.comparator_,!0,t)}}We.EMPTY_NODE=new SC;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TC(e,t){return hr(e.name,t.name)}function Nd(e,t){return hr(e,t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let nc;function NC(e){nc=e}const gy=function(e){return typeof e=="number"?"number:"+Qv(e):"string:"+e},vy=function(e){if(e.isLeafNode()){const t=e.val();T(typeof t=="string"||typeof t=="number"||typeof t=="object"&&At(t,".sv"),"Priority must be a string or number.")}else T(e===nc||e.isEmpty(),"priority of unexpected type.");T(e===nc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let sp;class ge{constructor(t,n=ge.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vy(this.priorityNode_)}static set __childrenNodeConstructor(t){sp=t}static get __childrenNodeConstructor(){return sp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ge(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ge.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return j(t)?this:M(t)===".priority"?this.priorityNode_:ge.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:ge.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=M(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(T(r!==".priority"||On(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ge.__childrenNodeConstructor.EMPTY_NODE.updateChild(Y(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+gy(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Qv(this.value_):t+=this.value_,this.lazyHash_=$v(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ge.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ge.__childrenNodeConstructor?-1:(T(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=ge.VALUE_TYPE_ORDER.indexOf(n),o=ge.VALUE_TYPE_ORDER.indexOf(r);return T(i>=0,"Unknown leaf type: "+n),T(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ge.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let yy,_y;function IC(e){yy=e}function PC(e){_y=e}class RC extends Fa{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?hr(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(ir,new ge("[PRIORITY-POST]",_y))}makePost(t,n){const r=yy(t);return new F(n,new ge("[PRIORITY-POST]",r))}toString(){return".priority"}}const ae=new RC;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DC=Math.log(2);class OC{constructor(t){const n=o=>parseInt(Math.log(o)/DC,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const na=function(e,t,n,r){e.sort(t);const i=function(l,u){const d=u-l;let c,h;if(d===0)return null;if(d===1)return c=e[l],h=n?n(c):c,new ye(h,c.node,ye.BLACK,null,null);{const f=parseInt(d/2,10)+l,p=i(l,f),_=i(f+1,u);return c=e[f],h=n?n(c):c,new ye(h,c.node,ye.BLACK,p,_)}},o=function(l){let u=null,d=null,c=e.length;const h=function(p,_){const w=c-p,g=c;c-=p;const m=i(w+1,g),v=e[w],x=n?n(v):v;f(new ye(x,v.node,_,null,m))},f=function(p){u?(u.left=p,u=p):(d=p,u=p)};for(let p=0;p<l.count;++p){const _=l.nextBitIsOne(),w=Math.pow(2,l.count-(p+1));_?h(w,ye.BLACK):(h(w,ye.BLACK),h(w,ye.RED))}return d},s=new OC(e.length),a=o(s);return new We(r||t,a)};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let jl;const gr={};class Ht{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return T(gr&&ae,"ChildrenNode.ts has not been loaded"),jl=jl||new Ht({".priority":gr},{".priority":ae}),jl}get(t){const n=Yr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof We?n:null}hasIndex(t){return At(this.indexSet_,t.toString())}addIndex(t,n){T(t!==Ur,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(F.Wrap);let s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=na(r,t.getCompare()):a=gr;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const d=Object.assign({},this.indexes_);return d[l]=a,new Ht(d,u)}addToIndexes(t,n){const r=Js(this.indexes_,(i,o)=>{const s=Yr(this.indexSet_,o);if(T(s,"Missing index implementation for "+o),i===gr)if(s.isDefinedOn(t.node)){const a=[],l=n.getIterator(F.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),na(a,s.getCompare())}else return gr;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new F(t.name,a))),l.insert(t,t.node)}});return new Ht(r,this.indexSet_)}removeFromIndexes(t,n){const r=Js(this.indexes_,i=>{if(i===gr)return i;{const o=n.get(t.name);return o?i.remove(new F(t.name,o)):i}});return new Ht(r,this.indexSet_)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Si;class R{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vy(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Si||(Si=new R(new We(Nd),null,Ht.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Si}updatePriority(t){return this.children_.isEmpty()?this:new R(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Si:n}}getChild(t){const n=M(t);return n===null?this:this.getImmediateChild(n).getChild(Y(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(T(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new F(t,n);let i,o;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Si:this.priorityNode_;return new R(i,s,o)}}updateChild(t,n){const r=M(t);if(r===null)return n;{T(M(t)!==".priority"||On(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Y(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(ae,(s,a)=>{n[s]=a.val(t),r++,o&&R.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!t&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+gy(this.getPriority().val())+":"),this.forEachChild(ae,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":$v(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new F(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new F(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new F(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,F.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,F.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)>0;)i.getNext(),o=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ao?-1:0}withIndex(t){if(t===Ur||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new R(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Ur||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ae),i=n.getIterator(ae);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(t){return t===Ur?null:this.indexMap_.get(t.toString())}}R.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class LC extends R{constructor(){super(new We(Nd),R.EMPTY_NODE,Ht.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return R.EMPTY_NODE}isEmpty(){return!1}}const Ao=new LC;Object.defineProperties(F,{MIN:{value:new F(Xr,R.EMPTY_NODE)},MAX:{value:new F(ir,Ao)}});my.__EMPTY_NODE=R.EMPTY_NODE;ge.__childrenNodeConstructor=R;NC(Ao);PC(Ao);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AC=!0;function _e(e,t=null){if(e===null)return R.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),T(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new ge(n,_e(t))}if(!(e instanceof Array)&&AC){const n=[];let r=!1;if(Se(e,(o,s)=>{if(o.substring(0,1)!=="."){const a=_e(s);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new F(o,a)))}}),n.length===0)return R.EMPTY_NODE;const i=na(n,TC,o=>o.name,Nd);if(r){const o=na(n,ae.getCompare());return new R(i,_e(t),new Ht({".priority":o},{".priority":ae}))}else return new R(i,_e(t),Ht.Default)}else{let n=R.EMPTY_NODE;return Se(e,(r,i)=>{if(At(e,r)&&r.substring(0,1)!=="."){const o=_e(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(_e(t))}}IC(_e);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MC extends Fa{constructor(t){super(),this.indexPath_=t,T(!j(t)&&M(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?hr(t.name,n.name):o}makePost(t,n){const r=_e(t),i=R.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,i)}maxPost(){const t=R.EMPTY_NODE.updateChild(this.indexPath_,Ao);return new F(ir,t)}toString(){return yo(this.indexPath_,0).join("/")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FC extends Fa{compare(t,n){const r=t.node.compareTo(n.node);return r===0?hr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(t,n){const r=_e(t);return new F(n,r)}toString(){return".value"}}const jC=new FC;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function by(e){return{type:"value",snapshotNode:e}}function Jr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _o(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function bo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function UC(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Id{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){T(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(_o(n,a)):T(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Jr(n,r)):s.trackChildChange(bo(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ae,(i,o)=>{n.hasChild(i)||r.trackChildChange(_o(i,o))}),n.isLeafNode()||n.forEachChild(ae,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(bo(i,o,s))}else r.trackChildChange(Jr(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?R.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wo{constructor(t){this.indexedFilter_=new Id(t.getIndex()),this.index_=t.getIndex(),this.startPost_=wo.getStartPost_(t),this.endPost_=wo.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new F(n,r))||(r=R.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=R.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(R.EMPTY_NODE);const o=this;return n.forEachChild(ae,(s,a)=>{o.matches(new F(s,a))||(i=i.updateImmediateChild(s,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zC{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new wo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new F(n,r))||(r=R.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=R.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=R.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(R.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const c=this.index_.getCompare();s=(h,f)=>c(f,h)}else s=this.index_.getCompare();const a=t;T(a.numChildren()===this.limit_,"");const l=new F(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const c=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:s(h,l);if(d&&!r.isEmpty()&&f>=0)return o!=null&&o.trackChildChange(bo(n,r,c)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(_o(n,c));const p=a.updateImmediateChild(n,R.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(Jr(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}}else return r.isEmpty()?t:d&&s(u,l)>=0?(o!=null&&(o.trackChildChange(_o(u.name,u.node)),o.trackChildChange(Jr(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,R.EMPTY_NODE)):t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xr}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ir}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ae}copy(){const t=new Pd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function BC(e){return e.loadsAllData()?new Id(e.getIndex()):e.hasLimit()?new zC(e):new wo(e)}function ap(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ae?n="$priority":e.index_===jC?n="$value":e.index_===Ur?n="$key":(T(e.index_ instanceof MC,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=be(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=be(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+be(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=be(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+be(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function lp(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ae&&(t.i=e.index_.toString()),t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ra extends dy{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Lo("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(T(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=ra.getListenId_(t,r),a={};this.listens_[s]=a;const l=ap(t._queryParams);this.restRequest_(o+".json",l,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(o,c,!1,r),Yr(this.listens_,s)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(t,n){const r=ra.getListenId_(t,n);delete this.listens_[r]}get(t){const n=ap(t._queryParams),r=t._path.toString(),i=new Do;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+vE(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=po(a.responseText)}catch{Ae("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ae("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WC{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ia(){return{value:null,children:new Map}}function wy(e,t,n){if(j(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=M(t);e.children.has(r)||e.children.set(r,ia());const i=e.children.get(r);t=Y(t),wy(i,t,n)}}function rc(e,t,n){e.value!==null?n(t,e.value):HC(e,(r,i)=>{const o=new q(t.toString()+"/"+r);rc(i,o,n)})}function HC(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Se(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const up=10*1e3,VC=30*1e3,$C=5*60*1e3;class KC{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qC(t);const r=up+(VC-up)*Math.random();Vi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Se(t,(i,o)=>{o>0&&At(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Vi(this.reportStats_.bind(this),Math.floor(Math.random()*2*$C))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var bt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(bt||(bt={}));function Rd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Dd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Od(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oa{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=bt.ACK_USER_WRITE,this.source=Rd()}operationForChild(t){if(j(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new q(t));return new oa(W(),n,this.revert)}}else return T(M(this.path)===t,"operationForChild called for unrelated child."),new oa(Y(this.path),this.affectedTree,this.revert)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xo{constructor(t,n){this.source=t,this.path=n,this.type=bt.LISTEN_COMPLETE}operationForChild(t){return j(this.path)?new xo(this.source,W()):new xo(this.source,Y(this.path))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class or{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=bt.OVERWRITE}operationForChild(t){return j(this.path)?new or(this.source,W(),this.snap.getImmediateChild(t)):new or(this.source,Y(this.path),this.snap)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zr{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=bt.MERGE}operationForChild(t){if(j(this.path)){const n=this.children.subtree(new q(t));return n.isEmpty()?null:n.value?new or(this.source,W(),n.value):new Zr(this.source,W(),n)}else return T(M(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Zr(this.source,Y(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(j(t))return this.isFullyInitialized()&&!this.filtered_;const n=M(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function YC(e,t,n,r){const i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(UC(s.childName,s.snapshotNode))}),Ti(e,i,"child_removed",t,r,n),Ti(e,i,"child_added",t,r,n),Ti(e,i,"child_moved",o,r,n),Ti(e,i,"child_changed",t,r,n),Ti(e,i,"value",t,r,n),i}function Ti(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>XC(e,a,l)),s.forEach(a=>{const l=GC(e,a,o);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function GC(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function XC(e,t,n){if(t.childName==null||n.childName==null)throw li("Should only compare child_ events.");const r=new F(t.childName,t.snapshotNode),i=new F(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ja(e,t){return{eventCache:e,serverCache:t}}function $i(e,t,n,r){return ja(new sr(t,n,r),e.serverCache)}function xy(e,t,n,r){return ja(e.eventCache,new sr(t,n,r))}function ic(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ar(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ul;const JC=()=>(Ul||(Ul=new We(Mk)),Ul);class K{constructor(t,n=JC()){this.value=t,this.children=n}static fromObject(t){let n=new K(null);return Se(t,(r,i)=>{n=n.set(new q(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:W(),value:this.value};if(j(t))return null;{const r=M(t),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Y(t),n);return o!=null?{path:se(new q(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(j(t))return this;{const n=M(t),r=this.children.get(n);return r!==null?r.subtree(Y(t)):new K(null)}}set(t,n){if(j(t))return new K(n,this.children);{const r=M(t),i=(this.children.get(r)||new K(null)).set(Y(t),n),o=this.children.insert(r,i);return new K(this.value,o)}}remove(t){if(j(t))return this.children.isEmpty()?new K(null):new K(null,this.children);{const n=M(t),r=this.children.get(n);if(r){const i=r.remove(Y(t));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new K(null):new K(this.value,o)}else return this}}get(t){if(j(t))return this.value;{const n=M(t),r=this.children.get(n);return r?r.get(Y(t)):null}}setTree(t,n){if(j(t))return n;{const r=M(t),i=(this.children.get(r)||new K(null)).setTree(Y(t),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new K(this.value,o)}}fold(t){return this.fold_(W(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(se(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,W(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(j(t))return null;{const o=M(t),s=this.children.get(o);return s?s.findOnPath_(Y(t),se(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,W(),n)}foreachOnPath_(t,n,r){if(j(t))return this;{this.value&&r(n,this.value);const i=M(t),o=this.children.get(i);return o?o.foreachOnPath_(Y(t),se(n,i),r):new K(null)}}foreach(t){this.foreach_(W(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(se(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Et{constructor(t){this.writeTree_=t}static empty(){return new Et(new K(null))}}function Ki(e,t,n){if(j(t))return new Et(new K(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let o=r.value;const s=Be(i,t);return o=o.updateChild(s,n),new Et(e.writeTree_.set(i,o))}else{const i=new K(n),o=e.writeTree_.setTree(t,i);return new Et(o)}}}function oc(e,t,n){let r=e;return Se(n,(i,o)=>{r=Ki(r,se(t,i),o)}),r}function cp(e,t){if(j(t))return Et.empty();{const n=e.writeTree_.setTree(t,new K(null));return new Et(n)}}function sc(e,t){return fr(e,t)!=null}function fr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Be(n.path,t)):null}function dp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ae,(r,i)=>{t.push(new F(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new F(r,i.value))}),t}function Pn(e,t){if(j(t))return e;{const n=fr(e,t);return n!=null?new Et(new K(n)):new Et(e.writeTree_.subtree(t))}}function ac(e){return e.writeTree_.isEmpty()}function ei(e,t){return Ey(W(),e.writeTree_,t)}function Ey(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(T(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Ey(se(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(se(e,".priority"),r)),n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ld(e,t){return Ty(t,e)}function ZC(e,t,n,r,i){T(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ki(e.visibleWrites,t,n)),e.lastWriteId=r}function eS(e,t,n,r){T(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=oc(e.visibleWrites,t,n),e.lastWriteId=r}function tS(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function nS(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);T(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&rS(a,r.path)?i=!1:at(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return iS(e),!0;if(r.snap)e.visibleWrites=cp(e.visibleWrites,r.path);else{const a=r.children;Se(a,l=>{e.visibleWrites=cp(e.visibleWrites,se(r.path,l))})}return!0}else return!1}function rS(e,t){if(e.snap)return at(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&at(se(e.path,n),t))return!0;return!1}function iS(e){e.visibleWrites=ky(e.allWrites,oS,W()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function oS(e){return e.visible}function ky(e,t,n){let r=Et.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)at(n,s)?(a=Be(n,s),r=Ki(r,a,o.snap)):at(s,n)&&(a=Be(s,n),r=Ki(r,W(),o.snap.getChild(a)));else if(o.children){if(at(n,s))a=Be(n,s),r=oc(r,a,o.children);else if(at(s,n))if(a=Be(s,n),j(a))r=oc(r,W(),o.children);else{const l=Yr(o.children,M(a));if(l){const u=l.getChild(Y(a));r=Ki(r,W(),u)}}}else throw li("WriteRecord should have .snap or .children")}}return r}function Cy(e,t,n,r,i){if(!r&&!i){const o=fr(e.visibleWrites,t);if(o!=null)return o;{const s=Pn(e.visibleWrites,t);if(ac(s))return n;if(n==null&&!sc(s,W()))return null;{const a=n||R.EMPTY_NODE;return ei(s,a)}}}else{const o=Pn(e.visibleWrites,t);if(!i&&ac(o))return n;if(!i&&n==null&&!sc(o,W()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(at(u.path,t)||at(t,u.path))},a=ky(e.allWrites,s,t),l=n||R.EMPTY_NODE;return ei(a,l)}}}function sS(e,t,n){let r=R.EMPTY_NODE;const i=fr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ae,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Pn(e.visibleWrites,t);return n.forEachChild(ae,(s,a)=>{const l=ei(Pn(o,new q(s)),a);r=r.updateImmediateChild(s,l)}),dp(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Pn(e.visibleWrites,t);return dp(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function aS(e,t,n,r,i){T(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=se(t,n);if(sc(e.visibleWrites,o))return null;{const s=Pn(e.visibleWrites,o);return ac(s)?i.getChild(n):ei(s,i.getChild(n))}}function lS(e,t,n,r){const i=se(t,n),o=fr(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Pn(e.visibleWrites,i);return ei(s,r.getNode().getImmediateChild(n))}else return null}function uS(e,t){return fr(e.visibleWrites,t)}function cS(e,t,n,r,i,o,s){let a;const l=Pn(e.visibleWrites,t),u=fr(l,W());if(u!=null)a=u;else if(n!=null)a=ei(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const d=[],c=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&d.length<i;)c(f,r)!==0&&d.push(f),f=h.getNext();return d}else return[]}function dS(){return{visibleWrites:Et.empty(),allWrites:[],lastWriteId:-1}}function sa(e,t,n,r){return Cy(e.writeTree,e.treePath,t,n,r)}function Ad(e,t){return sS(e.writeTree,e.treePath,t)}function hp(e,t,n,r){return aS(e.writeTree,e.treePath,t,n,r)}function aa(e,t){return uS(e.writeTree,se(e.treePath,t))}function hS(e,t,n,r,i,o){return cS(e.writeTree,e.treePath,t,n,r,i,o)}function Md(e,t,n){return lS(e.writeTree,e.treePath,t,n)}function Sy(e,t){return Ty(se(e.treePath,t),e.writeTree)}function Ty(e,t){return{treePath:e,writeTree:t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fS{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,bo(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,_o(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Jr(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,bo(r,t.snapshotNode,i.oldSnap));else throw li("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pS{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Ny=new pS;class Fd{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new sr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Md(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ar(this.viewCache_),o=hS(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mS(e){return{filter:e}}function gS(e,t){T(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),T(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function vS(e,t,n,r,i){const o=new fS;let s,a;if(n.type===bt.OVERWRITE){const u=n;u.source.fromUser?s=lc(e,t,u.path,u.snap,r,i,o):(T(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!j(u.path),s=la(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===bt.MERGE){const u=n;u.source.fromUser?s=_S(e,t,u.path,u.children,r,i,o):(T(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=uc(e,t,u.path,u.children,r,i,a,o))}else if(n.type===bt.ACK_USER_WRITE){const u=n;u.revert?s=xS(e,t,u.path,r,i,o):s=bS(e,t,u.path,u.affectedTree,r,i,o)}else if(n.type===bt.LISTEN_COMPLETE)s=wS(e,t,n.path,r,o);else throw li("Unknown operation type: "+n.type);const l=o.getChanges();return yS(t,s,l),{viewCache:s,changes:l}}function yS(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ic(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(by(ic(t)))}}function Iy(e,t,n,r,i,o){const s=t.eventCache;if(aa(r,n)!=null)return t;{let a,l;if(j(n))if(T(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=ar(t),d=u instanceof R?u:R.EMPTY_NODE,c=Ad(r,d);a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{const u=sa(r,ar(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=M(n);if(u===".priority"){T(On(n)===1,"Can't have a priority with additional path components");const d=s.getNode();l=t.serverCache.getNode();const c=hp(r,n,d,l);c!=null?a=e.filter.updatePriority(d,c):a=s.getNode()}else{const d=Y(n);let c;if(s.isCompleteForChild(u)){l=t.serverCache.getNode();const h=hp(r,n,s.getNode(),l);h!=null?c=s.getNode().getImmediateChild(u).updateChild(d,h):c=s.getNode().getImmediateChild(u)}else c=Md(r,u,t.serverCache);c!=null?a=e.filter.updateChild(s.getNode(),u,c,d,i,o):a=s.getNode()}}return $i(t,a,s.isFullyInitialized()||j(n),e.filter.filtersNodes())}}function la(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const d=s?e.filter:e.filter.getIndexedFilter();if(j(n))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=d.updateFullNode(l.getNode(),f,null)}else{const f=M(n);if(!l.isCompleteForPath(n)&&On(n)>1)return t;const p=Y(n),_=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=d.updatePriority(l.getNode(),_):u=d.updateChild(l.getNode(),f,_,p,Ny,null)}const c=xy(t,u,l.isFullyInitialized()||j(n),d.filtersNodes()),h=new Fd(i,c,o);return Iy(e,c,n,i,h,a)}function lc(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const d=new Fd(i,t,o);if(j(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=$i(t,u,!0,e.filter.filtersNodes());else{const c=M(n);if(c===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=$i(t,u,a.isFullyInitialized(),a.isFiltered());else{const h=Y(n),f=a.getNode().getImmediateChild(c);let p;if(j(h))p=r;else{const _=d.getCompleteChild(c);_!=null?Cd(h)===".priority"&&_.getChild(fy(h)).isEmpty()?p=_:p=_.updateChild(h,r):p=R.EMPTY_NODE}if(f.equals(p))l=t;else{const _=e.filter.updateChild(a.getNode(),c,p,h,d,s);l=$i(t,_,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function fp(e,t){return e.eventCache.isCompleteForChild(t)}function _S(e,t,n,r,i,o,s){let a=t;return r.foreach((l,u)=>{const d=se(n,l);fp(t,M(d))&&(a=lc(e,a,d,u,i,o,s))}),r.foreach((l,u)=>{const d=se(n,l);fp(t,M(d))||(a=lc(e,a,d,u,i,o,s))}),a}function pp(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function uc(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;j(n)?u=r:u=new K(null).setTree(n,r);const d=t.serverCache.getNode();return u.children.inorderTraversal((c,h)=>{if(d.hasChild(c)){const f=t.serverCache.getNode().getImmediateChild(c),p=pp(e,f,h);l=la(e,l,new q(c),p,i,o,s,a)}}),u.children.inorderTraversal((c,h)=>{const f=!t.serverCache.isCompleteForChild(c)&&h.value===null;if(!d.hasChild(c)&&!f){const p=t.serverCache.getNode().getImmediateChild(c),_=pp(e,p,h);l=la(e,l,new q(c),_,i,o,s,a)}}),l}function bS(e,t,n,r,i,o,s){if(aa(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(j(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return la(e,t,n,l.getNode().getChild(n),i,o,a,s);if(j(n)){let u=new K(null);return l.getNode().forEachChild(Ur,(d,c)=>{u=u.set(new q(d),c)}),uc(e,t,n,u,i,o,a,s)}else return t}else{let u=new K(null);return r.foreach((d,c)=>{const h=se(n,d);l.isCompleteForPath(h)&&(u=u.set(d,l.getNode().getChild(h)))}),uc(e,t,n,u,i,o,a,s)}}function wS(e,t,n,r,i){const o=t.serverCache,s=xy(t,o.getNode(),o.isFullyInitialized()||j(n),o.isFiltered());return Iy(e,s,n,r,Ny,i)}function xS(e,t,n,r,i,o){let s;if(aa(r,n)!=null)return t;{const a=new Fd(r,t,i),l=t.eventCache.getNode();let u;if(j(n)||M(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=sa(r,ar(t));else{const c=t.serverCache.getNode();T(c instanceof R,"serverChildren would be complete if leaf node"),d=Ad(r,c)}d=d,u=e.filter.updateFullNode(l,d,o)}else{const d=M(n);let c=Md(r,d,t.serverCache);c==null&&t.serverCache.isCompleteForChild(d)&&(c=l.getImmediateChild(d)),c!=null?u=e.filter.updateChild(l,d,c,Y(n),a,o):t.eventCache.getNode().hasChild(d)?u=e.filter.updateChild(l,d,R.EMPTY_NODE,Y(n),a,o):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=sa(r,ar(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||aa(r,W())!=null,$i(t,u,s,e.filter.filtersNodes())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ES{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Id(r.getIndex()),o=BC(r);this.processor_=mS(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(R.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(R.EMPTY_NODE,a.getNode(),null),d=new sr(l,s.isFullyInitialized(),i.filtersNodes()),c=new sr(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=ja(c,d),this.eventGenerator_=new QC(this.query_)}get query(){return this.query_}}function kS(e){return e.viewCache_.serverCache.getNode()}function CS(e,t){const n=ar(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!j(t)&&!n.getImmediateChild(M(t)).isEmpty())?n.getChild(t):null}function mp(e){return e.eventRegistrations_.length===0}function SS(e,t){e.eventRegistrations_.push(t)}function gp(e,t,n){const r=[];if(n){T(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function vp(e,t,n,r){t.type===bt.MERGE&&t.source.queryId!==null&&(T(ar(e.viewCache_),"We should always have a full cache before handling merges"),T(ic(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=vS(e.processor_,i,t,n,r);return gS(e.processor_,o.viewCache),T(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Py(e,o.changes,o.viewCache.eventCache.getNode(),null)}function TS(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ae,(i,o)=>{r.push(Jr(i,o))}),n.isFullyInitialized()&&r.push(by(n.getNode())),Py(e,r,n.getNode(),t)}function Py(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return YC(e.eventGenerator_,t,n,i)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ua;class NS{constructor(){this.views=new Map}}function IS(e){T(!ua,"__referenceConstructor has already been defined"),ua=e}function PS(){return T(ua,"Reference.ts has not been loaded"),ua}function RS(e){return e.views.size===0}function jd(e,t,n,r){const i=t.source.queryId;if(i!==null){const o=e.views.get(i);return T(o!=null,"SyncTree gave us an op for an invalid query."),vp(o,t,n,r)}else{let o=[];for(const s of e.views.values())o=o.concat(vp(s,t,n,r));return o}}function DS(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=sa(n,i?r:null),l=!1;a?l=!0:r instanceof R?(a=Ad(n,r),l=!1):(a=R.EMPTY_NODE,l=!1);const u=ja(new sr(a,l,!1),new sr(r,i,!1));return new ES(t,u)}return s}function OS(e,t,n,r,i,o){const s=DS(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),SS(s,n),TS(s,n)}function LS(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Ln(e);if(i==="default")for(const[l,u]of e.views.entries())s=s.concat(gp(u,n,r)),mp(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=e.views.get(i);l&&(s=s.concat(gp(l,n,r)),mp(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Ln(e)&&o.push(new(PS())(t._repo,t._path)),{removed:o,events:s}}function Ry(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function zr(e,t){let n=null;for(const r of e.views.values())n=n||CS(r,t);return n}function Dy(e,t){if(t._queryParams.loadsAllData())return Ua(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Oy(e,t){return Dy(e,t)!=null}function Ln(e){return Ua(e)!=null}function Ua(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ca;function AS(e){T(!ca,"__referenceConstructor has already been defined"),ca=e}function MS(){return T(ca,"Reference.ts has not been loaded"),ca}let FS=1;class yp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new K(null),this.pendingWriteTree_=dS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ly(e,t,n,r,i){return ZC(e.pendingWriteTree_,t,n,r,i),i?di(e,new or(Rd(),t,n)):[]}function jS(e,t,n,r){eS(e.pendingWriteTree_,t,n,r);const i=K.fromObject(n);return di(e,new Zr(Rd(),t,i))}function vn(e,t,n=!1){const r=tS(e.pendingWriteTree_,t);if(nS(e.pendingWriteTree_,t)){let i=new K(null);return r.snap!=null?i=i.set(W(),!0):Se(r.children,o=>{i=i.set(new q(o),!0)}),di(e,new oa(r.path,i,n))}else return[]}function za(e,t,n){return di(e,new or(Dd(),t,n))}function US(e,t,n){const r=K.fromObject(n);return di(e,new Zr(Dd(),t,r))}function zS(e,t){return di(e,new xo(Dd(),t))}function BS(e,t,n){const r=zd(e,n);if(r){const i=Bd(r),o=i.path,s=i.queryId,a=Be(o,t),l=new xo(Od(s),a);return Wd(e,o,l)}else return[]}function cc(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&(t._queryIdentifier==="default"||Oy(s,t))){const l=LS(s,t,n,r);RS(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const d=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(o,(h,f)=>Ln(f));if(d&&!c){const h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=qS(h);for(let p=0;p<f.length;++p){const _=f[p],w=_.query,g=Fy(e,_);e.listenProvider_.startListening(Qi(w),da(e,w),g.hashFn,g.onComplete)}}}!c&&u.length>0&&!r&&(d?e.listenProvider_.stopListening(Qi(t),null):u.forEach(h=>{const f=e.queryToTagMap.get(Ba(h));e.listenProvider_.stopListening(Qi(h),f)}))}VS(e,u)}return a}function WS(e,t,n,r){const i=zd(e,r);if(i!=null){const o=Bd(i),s=o.path,a=o.queryId,l=Be(s,t),u=new or(Od(a),l,n);return Wd(e,s,u)}else return[]}function HS(e,t,n,r){const i=zd(e,r);if(i){const o=Bd(i),s=o.path,a=o.queryId,l=Be(s,t),u=K.fromObject(n),d=new Zr(Od(a),l,u);return Wd(e,s,d)}else return[]}function _p(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Be(h,i);o=o||zr(f,p),s=s||Ln(f)});let a=e.syncPointTree_.get(i);a?(s=s||Ln(a),o=o||zr(a,W())):(a=new NS,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=R.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,f)=>{const p=zr(f,W());p&&(o=o.updateImmediateChild(h,p))}));const u=Oy(a,t);if(!u&&!t._queryParams.loadsAllData()){const h=Ba(t);T(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=$S();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}const d=Ld(e.pendingWriteTree_,i);let c=OS(a,t,n,d,o,l);if(!u&&!s&&!r){const h=Dy(a,t);c=c.concat(KS(e,t,h))}return c}function Ud(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(o,s)=>{const a=Be(o,t),l=zr(s,a);if(l)return l});return Cy(r,t,i,n,!0)}function di(e,t){return Ay(t,e.syncPointTree_,null,Ld(e.pendingWriteTree_,W()))}function Ay(e,t,n,r){if(j(e.path))return My(e,t,n,r);{const i=t.get(W());n==null&&i!=null&&(n=zr(i,W()));let o=[];const s=M(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,d=Sy(r,s);o=o.concat(Ay(a,l,u,d))}return i&&(o=o.concat(jd(i,e,r,n))),o}}function My(e,t,n,r){const i=t.get(W());n==null&&i!=null&&(n=zr(i,W()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=Sy(r,s),d=e.operationForChild(s);d&&(o=o.concat(My(d,a,l,u)))}),i&&(o=o.concat(jd(i,e,r,n))),o}function Fy(e,t){const n=t.query,r=da(e,n);return{hashFn:()=>(kS(t)||R.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?BS(e,n._path,r):zS(e,n._path);{const o=Uk(i,n);return cc(e,n,null,o)}}}}function da(e,t){const n=Ba(t);return e.queryToTagMap.get(n)}function Ba(e){return e._path.toString()+"$"+e._queryIdentifier}function zd(e,t){return e.tagToQueryMap.get(t)}function Bd(e){const t=e.indexOf("$");return T(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new q(e.substr(0,t))}}function Wd(e,t,n){const r=e.syncPointTree_.get(t);T(r,"Missing sync point for query tag that we're tracking");const i=Ld(e.pendingWriteTree_,t);return jd(r,n,i,null)}function qS(e){return e.fold((t,n,r)=>{if(n&&Ln(n))return[Ua(n)];{let i=[];return n&&(i=Ry(n)),Se(r,(o,s)=>{i=i.concat(s)}),i}})}function Qi(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(MS())(e._repo,e._path):e}function VS(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Ba(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function $S(){return FS++}function KS(e,t,n){const r=t._path,i=da(e,t),o=Fy(e,n),s=e.listenProvider_.startListening(Qi(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)T(!Ln(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,d,c)=>{if(!j(u)&&d&&Ln(d))return[Ua(d).query];{let h=[];return d&&(h=h.concat(Ry(d).map(f=>f.query))),Se(c,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const d=l[u];e.listenProvider_.stopListening(Qi(d),da(e,d))}}return s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Hd(n)}node(){return this.node_}}class qd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=se(this.path_,t);return new qd(this.syncTree_,n)}node(){return Ud(this.syncTree_,this.path_)}}const QS=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},bp=function(e,t,n){if(!e||typeof e!="object")return e;if(T(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return YS(e[".sv"],t,n);if(typeof e[".sv"]=="object")return GS(e[".sv"],t);T(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},YS=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+e)}},GS=function(e,t,n){e.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&T(!1,"Unexpected increment value: "+r);const i=t.node();if(T(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},jy=function(e,t,n,r){return Vd(t,new qd(n,e),r)},Uy=function(e,t,n){return Vd(e,new Hd(t),n)};function Vd(e,t,n){const r=e.getPriority().val(),i=bp(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=bp(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new ge(a,_e(i)):e}else{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ge(i))),s.forEachChild(ae,(a,l)=>{const u=Vd(l,t.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $d{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Kd(e,t){let n=t instanceof q?t:new q(t),r=e,i=M(n);for(;i!==null;){const o=Yr(r.node.children,i)||{children:{},childCount:0};r=new $d(i,r,o),n=Y(n),i=M(n)}return r}function hi(e){return e.node.value}function zy(e,t){e.node.value=t,dc(e)}function By(e){return e.node.childCount>0}function XS(e){return hi(e)===void 0&&!By(e)}function Wa(e,t){Se(e.node.children,(n,r)=>{t(new $d(n,e,r))})}function Wy(e,t,n,r){n&&!r&&t(e),Wa(e,i=>{Wy(i,t,!0,r)}),n&&r&&t(e)}function JS(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Mo(e){return new q(e.parent===null?e.name:Mo(e.parent)+"/"+e.name)}function dc(e){e.parent!==null&&ZS(e.parent,e.name,e)}function ZS(e,t,n){const r=XS(n),i=At(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,dc(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,dc(e))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eT=/[\[\].#$\/\u0000-\u001F\u007F]/,tT=/[\[\].#$\u0000-\u001F\u007F]/,zl=10*1024*1024,Qd=function(e){return typeof e=="string"&&e.length!==0&&!eT.test(e)},Hy=function(e){return typeof e=="string"&&e.length!==0&&!tT.test(e)},nT=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hy(e)},rT=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!bd(e)||e&&typeof e=="object"&&At(e,".sv")},qy=function(e,t,n,r){r&&t===void 0||Ha(Aa(e,"value"),t,n)},Ha=function(e,t,n){const r=n instanceof q?new _C(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Bn(r));if(typeof t=="function")throw new Error(e+"contains a function "+Bn(r)+" with contents = "+t.toString());if(bd(t))throw new Error(e+"contains "+t.toString()+" "+Bn(r));if(typeof t=="string"&&t.length>zl/3&&Ma(t)>zl)throw new Error(e+"contains a string greater than "+zl+" utf8 bytes "+Bn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Se(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Qd(s)))throw new Error(e+" contains an invalid key ("+s+") "+Bn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bC(r,s),Ha(e,a,r),wC(r)}),i&&o)throw new Error(e+' contains ".value" child '+Bn(r)+" in addition to actual children.")}},iT=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const o=yo(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)&&!Qd(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}t.sort(yC);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&at(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},oT=function(e,t,n,r){if(r&&t===void 0)return;const i=Aa(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Se(t,(s,a)=>{const l=new q(s);if(Ha(i,a,se(n,l)),Cd(l)===".priority"&&!rT(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),iT(i,o)},Vy=function(e,t,n,r){if(!(r&&n===void 0)&&!Hy(n))throw new Error(Aa(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sT=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vy(e,t,n,r)},Yd=function(e,t){if(M(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},aT=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Qd(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!nT(n))throw new Error(Aa(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qa(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();n!==null&&!Sd(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function $y(e,t,n){qa(e,n),Ky(e,r=>Sd(r,t))}function Ct(e,t,n){qa(e,n),Ky(e,r=>at(r,t)||at(t,r))}function Ky(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const o=i.path;t(o)?(uT(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function uT(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Xn&&Ee("event: "+n.toString()),ci(r)}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cT="repo_interrupt",dT=25;class hT{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ia(),this.transactionQueueTree_=new $d,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fT(e,t,n){if(e.stats_=Ed(e.repoInfo_),e.forceRestClient_||Hk())e.server_=new ra(e.repoInfo_,(r,i,o,s)=>{wp(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>xp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Kt(e.repoInfo_,t,(r,i,o,s)=>{wp(e,r,i,o,s)},r=>{xp(e,r)},r=>{pT(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Qk(e.repoInfo_,()=>new KC(e.stats_,e.server_)),e.infoData_=new WC,e.infoSyncTree_=new yp({startListening:(r,i,o,s)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=za(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Gd(e,"connected",!1),e.serverSyncTree_=new yp({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);Ct(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function Qy(e){const t=e.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Va(e){return QS({timestamp:Qy(e)})}function wp(e,t,n,r,i){e.dataUpdateCount++;const o=new q(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const l=Js(n,u=>_e(u));s=HS(e.serverSyncTree_,o,l,i)}else{const l=_e(n);s=WS(e.serverSyncTree_,o,l,i)}else if(r){const l=Js(n,u=>_e(u));s=US(e.serverSyncTree_,o,l)}else{const l=_e(n);s=za(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=ti(e,o)),Ct(e.eventQueue_,a,s)}function xp(e,t){Gd(e,"connected",t),t===!1&&vT(e)}function pT(e,t){Se(t,(n,r)=>{Gd(e,n,r)})}function Gd(e,t,n){const r=new q("/.info/"+t),i=_e(n);e.infoData_.updateSnapshot(r,i);const o=za(e.infoSyncTree_,r,i);Ct(e.eventQueue_,r,o)}function Xd(e){return e.nextWriteId_++}function mT(e,t,n,r,i){$a(e,"set",{path:t.toString(),value:n,priority:r});const o=Va(e),s=_e(n,r),a=Ud(e.serverSyncTree_,t),l=Uy(s,a,o),u=Xd(e),d=Ly(e.serverSyncTree_,t,l,u,!0);qa(e.eventQueue_,d),e.server_.put(t.toString(),s.val(!0),(h,f)=>{const p=h==="ok";p||Ae("set at "+t+" failed: "+h);const _=vn(e.serverSyncTree_,u,!p);Ct(e.eventQueue_,t,_),hc(e,i,h,f)});const c=Zd(e,t);ti(e,c),Ct(e.eventQueue_,c,[])}function gT(e,t,n,r){$a(e,"update",{path:t.toString(),value:n});let i=!0;const o=Va(e),s={};if(Se(n,(a,l)=>{i=!1,s[a]=jy(se(t,a),_e(l),e.serverSyncTree_,o)}),i)Ee("update() called with empty data.  Don't do anything."),hc(e,r,"ok",void 0);else{const a=Xd(e),l=jS(e.serverSyncTree_,t,s,a);qa(e.eventQueue_,l),e.server_.merge(t.toString(),n,(u,d)=>{const c=u==="ok";c||Ae("update at "+t+" failed: "+u);const h=vn(e.serverSyncTree_,a,!c),f=h.length>0?ti(e,t):t;Ct(e.eventQueue_,f,h),hc(e,r,u,d)}),Se(n,u=>{const d=Zd(e,se(t,u));ti(e,d)}),Ct(e.eventQueue_,t,[])}}function vT(e){$a(e,"onDisconnectEvents");const t=Va(e),n=ia();rc(e.onDisconnect_,W(),(i,o)=>{const s=jy(i,o,e.serverSyncTree_,t);wy(n,i,s)});let r=[];rc(n,W(),(i,o)=>{r=r.concat(za(e.serverSyncTree_,i,o));const s=Zd(e,i);ti(e,s)}),e.onDisconnect_=ia(),Ct(e.eventQueue_,W(),r)}function yT(e,t,n){let r;M(t._path)===".info"?r=_p(e.infoSyncTree_,t,n):r=_p(e.serverSyncTree_,t,n),$y(e.eventQueue_,t._path,r)}function Ep(e,t,n){let r;M(t._path)===".info"?r=cc(e.infoSyncTree_,t,n):r=cc(e.serverSyncTree_,t,n),$y(e.eventQueue_,t._path,r)}function _T(e){e.persistentConnection_&&e.persistentConnection_.interrupt(cT)}function $a(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ee(n,...t)}function hc(e,t,n,r){t&&ci(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}function Yy(e,t,n){return Ud(e.serverSyncTree_,t,n)||R.EMPTY_NODE}function Jd(e,t=e.transactionQueueTree_){if(t||Ka(e,t),hi(t)){const n=Xy(e,t);T(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&bT(e,Mo(t),n)}else By(t)&&Wa(t,n=>{Jd(e,n)})}function bT(e,t,n){const r=n.map(u=>u.currentWriteId),i=Yy(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const d=n[u];T(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Be(t,d.path);o=o.updateChild(c,d.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,u=>{$a(e,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(vn(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&c.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Ka(e,Kd(e.transactionQueueTree_,t)),Jd(e,e.transactionQueueTree_),Ct(e.eventQueue_,t,d);for(let h=0;h<c.length;h++)ci(c[h])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Ae("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}ti(e,t)}},s)}function ti(e,t){const n=Gy(e,t),r=Mo(n),i=Xy(e,n);return wT(e,i,r),r}function wT(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<t.length;s++){const a=t[s],l=Be(n,a.path);let u=!1,d;if(T(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,d=a.abortReason,i=i.concat(vn(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=dT)u=!0,d="maxretry",i=i.concat(vn(e.serverSyncTree_,a.currentWriteId,!0));else{const c=Yy(e,a.path,o);a.currentInputSnapshot=c;const h=t[s].update(c.val());if(h!==void 0){Ha("transaction failed: Data returned ",h,a.path);let f=_e(h);typeof h=="object"&&h!=null&&At(h,".priority")||(f=f.updatePriority(c.getPriority()));const p=a.currentWriteId,_=Va(e),w=Uy(f,c,_);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=w,a.currentWriteId=Xd(e),o.splice(o.indexOf(p),1),i=i.concat(Ly(e.serverSyncTree_,a.path,w,a.currentWriteId,a.applyLocally)),i=i.concat(vn(e.serverSyncTree_,p,!0))}else u=!0,d="nodata",i=i.concat(vn(e.serverSyncTree_,a.currentWriteId,!0))}Ct(e.eventQueue_,n,i),i=[],u&&(t[s].status=2,function(c){setTimeout(c,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&(d==="nodata"?r.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):r.push(()=>t[s].onComplete(new Error(d),!1,null))))}Ka(e,e.transactionQueueTree_);for(let s=0;s<r.length;s++)ci(r[s]);Jd(e,e.transactionQueueTree_)}function Gy(e,t){let n,r=e.transactionQueueTree_;for(n=M(t);n!==null&&hi(r)===void 0;)r=Kd(r,n),t=Y(t),n=M(t);return r}function Xy(e,t){const n=[];return Jy(e,t,n),n.sort((r,i)=>r.order-i.order),n}function Jy(e,t,n){const r=hi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Wa(t,i=>{Jy(e,i,n)})}function Ka(e,t){const n=hi(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zy(t,n.length>0?n:void 0)}Wa(t,r=>{Ka(e,r)})}function Zd(e,t){const n=Mo(Gy(e,t)),r=Kd(e.transactionQueueTree_,t);return JS(r,i=>{Bl(e,i)}),Bl(e,r),Wy(r,i=>{Bl(e,i)}),n}function Bl(e,t){const n=hi(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(T(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(T(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(vn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?zy(t,void 0):n.length=o+1,Ct(e.eventQueue_,Mo(t),i);for(let s=0;s<r.length;s++)ci(r[s])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xT(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function ET(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ae(`Invalid query segment '${n}' in query '${e}'`)}return t}const kp=function(e,t){const n=kT(e),r=n.namespace;n.domain==="firebase.com"&&Zt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Zt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Lk();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new iy(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new q(n.pathString)}},kT=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let d=e.indexOf("/");d===-1&&(d=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(d,c)),d<c&&(i=xT(e.substring(d,c)));const h=ET(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",CT=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Cp.charAt(n%64),n=Math.floor(n/64);T(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=Cp.charAt(t[i]);return T(s.length===20,"nextPushId: Length should be 20."),s}}();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zy{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+be(this.snapshot.exportVal())}}class e0{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ST{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eh{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:Cd(this._path)}get ref(){return new nn(this._repo,this._path)}get _queryIdentifier(){const t=lp(this._queryParams),n=wd(t);return n==="{}"?"default":n}get _queryObject(){return lp(this._queryParams)}isEqual(t){if(t=Tt(t),!(t instanceof eh))return!1;const n=this._repo===t._repo,r=Sd(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+vC(this._path)}}class nn extends eh{constructor(t,n){super(t,n,new Pd,!1)}get parent(){const t=fy(this._path);return t===null?null:new nn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Eo{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new q(t),r=ni(this.ref,t);return new Eo(this._node.getChild(n),r,ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,r)=>t(new Eo(r,ni(this.ref,n),ae)))}hasChild(t){const n=new q(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qa(e,t){return e=Tt(e),e._checkNotDeleted("ref"),t!==void 0?ni(e._root,t):e._root}function ni(e,t){return e=Tt(e),M(e._path)===null?sT("child","path",t,!1):Vy("child","path",t,!1),new nn(e._repo,se(e._path,t))}function TT(e,t){e=Tt(e),Yd("push",e._path),qy("push",t,e._path,!0);const n=Qy(e._repo),r=CT(n),i=ni(e,r),o=ni(e,r);let s;return t!=null?s=t0(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function NT(e){return Yd("remove",e._path),t0(e,null)}function t0(e,t){e=Tt(e),Yd("set",e._path),qy("set",t,e._path,!1);const n=new Do;return mT(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function IT(e,t){oT("update",t,e._path,!1);const n=new Do;return gT(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class th{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Zy("value",this,new Eo(t.snapshotNode,new nn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new e0(this,t,n):null}matches(t){return t instanceof th?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class nh{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new e0(this,t,n):null}createEvent(t,n){T(t.childName!=null,"Child events should have a childName.");const r=ni(new nn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Zy(t.type,this,new Eo(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof nh?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function PT(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,u=(d,c)=>{Ep(e._repo,e,a),l(d,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new ST(n,o||void 0),a=t==="value"?new th(s):new nh(t,s);return yT(e._repo,e,a),()=>Ep(e._repo,e,a)}function RT(e,t,n,r){return PT(e,"value",t,n,r)}IS(nn);AS(nn);/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DT="FIREBASE_DATABASE_EMULATOR_HOST",fc={};let OT=!1;function LT(e,t,n,r){e.repoInfo_=new iy(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function AT(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Zt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ee("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=kp(o,i),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[DT]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=kp(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const d=i&&l?new jr(jr.OWNER):new Vk(e.name,e.options,t);aT("Invalid Firebase Database URL",s),j(s.path)||Zt("Database URL must point to the root of a Firebase Database (not including a child path).");const c=FT(a,e,d,new qk(e.name,n));return new jT(c,e)}function MT(e,t){const n=fc[t];(!n||n[e.key]!==e)&&Zt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),_T(e),delete n[e.key]}function FT(e,t,n,r){let i=fc[t.name];i||(i={},fc[t.name]=i);let o=i[e.toURLString()];return o&&Zt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new hT(e,OT,n,r),i[e.toURLString()]=o,o}class jT{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nn(this._repo,W())),this._rootInternal}_delete(){return this._rootInternal!==null&&(MT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Zt("Cannot call "+t+" on a deleted database.")}}function UT(e=Bv(),t){const n=jv(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=Nv("database");r&&zT(n,...r)}return n}function zT(e,t,n,r={}){e=Tt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Zt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Zt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new jr(jr.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:Pv(r.mockUserToken,e.app.options.projectId);o=new jr(s)}LT(i,t,n,o)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function BT(e){Ik(Uv),mo(new Gr("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return AT(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),In(Vf,$f,e),In(Vf,$f,"esm2017")}Kt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Kt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};BT();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n0="firebasestorage.googleapis.com",r0="storageBucket",WT=2*60*1e3,HT=10*60*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ue extends ui{constructor(t,n,r=0){super(Wl(t),`Firebase Storage: ${n} (${Wl(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ue.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Wl(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var le;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(le||(le={}));function Wl(e){return"storage/"+e}function rh(){const e="An unknown error occurred, please check the error payload for server response.";return new ue(le.UNKNOWN,e)}function qT(e){return new ue(le.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function VT(e){return new ue(le.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $T(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ue(le.UNAUTHENTICATED,e)}function KT(){return new ue(le.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QT(e){return new ue(le.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function YT(){return new ue(le.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GT(){return new ue(le.CANCELED,"User canceled the upload/download.")}function XT(e){return new ue(le.INVALID_URL,"Invalid URL '"+e+"'.")}function JT(e){return new ue(le.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function ZT(){return new ue(le.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+r0+"' property when initializing the app?")}function eN(){return new ue(le.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tN(){return new ue(le.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nN(e){return new ue(le.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pc(e){return new ue(le.INVALID_ARGUMENT,e)}function i0(){return new ue(le.APP_DELETED,"The Firebase app was deleted.")}function rN(e){return new ue(le.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yi(e,t){return new ue(le.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ni(e){throw new ue(le.INTERNAL_ERROR,"Internal error: "+e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xe{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Xe.makeFromUrl(t,n)}catch{return new Xe(t,"")}if(r.path==="")return r;throw JT(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(v){v.path_=decodeURIComponent(v.path)}const d="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${c}/${d}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},_=n===n0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",g=new RegExp(`^https?://${_}/${i}/${w}`,"i"),m=[{regex:a,indices:l,postModify:o},{regex:f,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let v=0;v<m.length;v++){const x=m[v],E=x.regex.exec(t);if(E){const k=E[x.indices.bucket];let C=E[x.indices.path];C||(C=""),r=new Xe(k,C),x.postModify(r);break}}if(r==null)throw XT(t);return r}}class iN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oN(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function d(...w){u||(u=!0,t.apply(null,w))}function c(w){i=setTimeout(()=>{i=null,e(f,l())},w)}function h(){o&&clearTimeout(o)}function f(w,...g){if(u){h();return}if(w){h(),d.call(null,w,...g);return}if(l()||s){h(),d.call(null,w,...g);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,c(m)}let p=!1;function _(w){p||(p=!0,h(),!u&&(i!==null?(w||(a=2),clearTimeout(i),c(0)):w||(a=1)))}return c(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function sN(e){e(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aN(e){return e!==void 0}function lN(e){return typeof e=="object"&&!Array.isArray(e)}function ih(e){return typeof e=="string"||e instanceof String}function Sp(e){return oh()&&e instanceof Blob}function oh(){return typeof Blob<"u"}function Tp(e,t,n,r){if(r<t)throw pc(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw pc(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ya(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function o0(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Jn;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Jn||(Jn={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uN(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||r||i}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cN{constructor(t,n,r,i,o,s,a,l,u,d,c,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new os(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Jn.NO_ERROR,l=o.getStatus();if(!a||uN(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Jn.ABORT;r(!1,new os(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new os(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());aN(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=rh();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?i0():GT();s(l)}else{const l=YT();s(l)}};this.canceled_?n(!1,new os(!1,null,!0)):this.backoffId_=oN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&sN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class os{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function dN(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function hN(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function fN(e,t){t&&(e["X-Firebase-GMPID"]=t)}function pN(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function mN(e,t,n,r,i,o,s=!0){const a=o0(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return fN(u,t),dN(u,n),hN(u,o),pN(u,r),new cN(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vN(...e){const t=gN();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(oh())return new Blob(e);throw new ue(le.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yN(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _N(e){if(typeof atob>"u")throw nN("base-64");return atob(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hl{constructor(t,n){this.data=t,this.contentType=n||null}}function bN(e,t){switch(e){case Dt.RAW:return new Hl(s0(t));case Dt.BASE64:case Dt.BASE64URL:return new Hl(a0(e,t));case Dt.DATA_URL:return new Hl(xN(t),EN(t))}throw rh()}function s0(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const i=r,o=e.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function wN(e){let t;try{t=decodeURIComponent(e)}catch{throw Yi(Dt.DATA_URL,"Malformed data URL.")}return s0(t)}function a0(e,t){switch(e){case Dt.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw Yi(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Dt.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw Yi(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_N(t)}catch(i){throw i.message.includes("polyfill")?i:Yi(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class l0{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Yi(Dt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=kN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function xN(e){const t=new l0(e);return t.base64?a0(Dt.BASE64,t.rest):wN(t.rest)}function EN(e){return new l0(e).contentType}function kN(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hn{constructor(t,n){let r=0,i="";Sp(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Sp(this.data_)){const r=this.data_,i=yN(r,t,n);return i===null?null:new hn(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new hn(r,!0)}}static getBlob(...t){if(oh()){const n=t.map(r=>r instanceof hn?r.data_:r);return new hn(vN.apply(null,n))}else{const n=t.map(s=>ih(s)?bN(Dt.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new hn(i,!0)}}uploadData(){return this.data_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function u0(e){let t;try{t=JSON.parse(e)}catch{return null}return lN(t)?t:null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CN(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function SN(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function c0(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TN(e,t){return t}class De{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||TN}}let ss=null;function NN(e){return!ih(e)||e.length<2?e:c0(e)}function d0(){if(ss)return ss;const e=[];e.push(new De("bucket")),e.push(new De("generation")),e.push(new De("metageneration")),e.push(new De("name","fullPath",!0));function t(o,s){return NN(s)}const n=new De("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new De("size");return i.xform=r,e.push(i),e.push(new De("timeCreated")),e.push(new De("updated")),e.push(new De("md5Hash",null,!0)),e.push(new De("cacheControl",null,!0)),e.push(new De("contentDisposition",null,!0)),e.push(new De("contentEncoding",null,!0)),e.push(new De("contentLanguage",null,!0)),e.push(new De("contentType",null,!0)),e.push(new De("metadata","customMetadata",!0)),ss=e,ss}function IN(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new Xe(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function PN(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return IN(r,e),r}function h0(e,t,n){const r=u0(t);return r===null?null:PN(e,r,n)}function RN(e,t,n,r){const i=u0(t);if(i===null||!ih(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(a=>{const l=e.bucket,u=e.fullPath,d="/b/"+s(l)+"/o/"+s(u),c=Ya(d,n,r),h=o0({alt:"media",token:a});return c+h})[0]}function DN(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class sh{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function f0(e){if(!e)throw rh()}function ON(e,t){function n(r,i){const o=h0(e,i,t);return f0(o!==null),o}return n}function LN(e,t){function n(r,i){const o=h0(e,i,t);return f0(o!==null),RN(o,i,e.host,e._protocol)}return n}function p0(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=KT():i=$T():n.getStatus()===402?i=VT(e.bucket):n.getStatus()===403?i=QT(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function m0(e){const t=p0(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=qT(e.path)),o.serverResponse=i.serverResponse,o}return n}function AN(e,t,n){const r=t.fullServerUrl(),i=Ya(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new sh(i,o,LN(e,n),s);return a.errorHandler=m0(t),a}function MN(e,t){const n=t.fullServerUrl(),r=Ya(n,e.host,e._protocol),i="DELETE",o=e.maxOperationRetryTime;function s(l,u){}const a=new sh(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=m0(t),a}function FN(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function jN(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=FN(null,t)),r}function UN(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let x=0;x<2;x++)v=v+Math.random().toString().slice(2);return v}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=jN(t,r,i),d=DN(u,n),c="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=hn.getBlob(c,r,h);if(f===null)throw eN();const p={name:u.fullPath},_=Ya(o,e.host,e._protocol),w="POST",g=e.maxUploadRetryTime,m=new sh(_,w,ON(e,n),g);return m.urlParams=p,m.headers=s,m.body=f.uploadData(),m.errorHandler=p0(t),m}class zN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jn.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jn.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jn.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Ni("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ni("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ni("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ni("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ni("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class BN extends zN{initXhr(){this.xhr_.responseType="text"}}function ah(){return new BN}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lr{constructor(t,n){this._service=t,n instanceof Xe?this._location=n:this._location=Xe.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new lr(t,n)}get root(){const t=new Xe(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return c0(this._location.path)}get storage(){return this._service}get parent(){const t=CN(this._location.path);if(t===null)return null;const n=new Xe(this._location.bucket,t);return new lr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw rN(t)}}function WN(e,t,n){e._throwIfRoot("uploadBytes");const r=UN(e.storage,e._location,d0(),new hn(t,!0),n);return e.storage.makeRequestWithTokens(r,ah).then(i=>({metadata:i,ref:e}))}function HN(e){e._throwIfRoot("getDownloadURL");const t=AN(e.storage,e._location,d0());return e.storage.makeRequestWithTokens(t,ah).then(n=>{if(n===null)throw tN();return n})}function qN(e){e._throwIfRoot("deleteObject");const t=MN(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ah)}function VN(e,t){const n=SN(e._location.path,t),r=new Xe(e._location.bucket,n);return new lr(e.storage,r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $N(e){return/^[A-Za-z]+:\/\//.test(e)}function KN(e,t){return new lr(e,t)}function g0(e,t){if(e instanceof lh){const n=e;if(n._bucket==null)throw ZT();const r=new lr(n,n._bucket);return t!=null?g0(r,t):r}else return t!==void 0?VN(e,t):e}function QN(e,t){if(t&&$N(t)){if(e instanceof lh)return KN(e,t);throw pc("To use ref(service, url), the first argument must be a Storage instance.")}else return g0(e,t)}function Np(e,t){const n=t==null?void 0:t[r0];return n==null?null:Xe.makeFromBucketSpec(n,e)}function YN(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Pv(i,e.app.options.projectId))}class lh{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=n0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WT,this._maxUploadRetryTime=HT,this._requests=new Set,i!=null?this._bucket=Xe.makeFromBucketSpec(i,this._host):this._bucket=Np(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Xe.makeFromBucketSpec(this._url,t):this._bucket=Np(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Tp("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Tp("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new lr(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new iN(i0());{const s=mN(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Ip="@firebase/storage",Pp="0.13.2";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v0="storage";function GN(e,t,n){return e=Tt(e),WN(e,t,n)}function XN(e){return e=Tt(e),HN(e)}function JN(e){return e=Tt(e),qN(e)}function y0(e,t){return e=Tt(e),QN(e,t)}function ZN(e=Bv(),t){e=Tt(e);const n=jv(e,v0).getImmediate({identifier:t}),r=Nv("storage");return r&&e2(n,...r),n}function e2(e,t,n,r={}){YN(e,t,n,r)}function t2(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new lh(n,r,i,t,Uv)}function n2(){mo(new Gr(v0,t2,"PUBLIC").setMultipleInstances(!0)),In(Ip,Pp,""),In(Ip,Pp,"esm2017")}n2();const r2={apiKey:"AIzaSyCtVjZT5JpB4_SCXCV4kMVdRG59sUG0wrY",authDomain:"tobuy-ca0e7.firebaseapp.com",databaseURL:"https://tobuy-ca0e7-default-rtdb.firebaseio.com/",projectId:"tobuy-ca0e7",storageBucket:"tobuy-ca0e7.firebasestorage.app",messagingSenderId:"280913188519",appId:"1:280913188519:web:af695df01642d9dda9ad82"},_0=zv(r2),Ga=UT(_0),b0=ZN(_0),Xa="shopping_list",i2=async(e,t)=>{try{if(!e||!t)throw new Error("Missing file or itemId for upload");const n=y0(b0,`shopping_images/${t}/${e.name}`);return await GN(n,e),await XN(n)}catch(n){throw console.error("Error uploading image:",n),n}},mc=async e=>{if(e)try{const t=y0(b0,e);await JN(t)}catch(t){throw console.error("Error deleting image:",t),t}},o2=async e=>{try{const t=Qa(Ga,Xa),n={...e,createdAt:new Date().toISOString()};return await TT(t,n)}catch(t){throw console.error("Error adding item:",t),t}},bs=async(e,t)=>{try{if(!e)throw new Error("No item ID provided for update");const n={...t};n.tags&&!Array.isArray(n.tags)&&(n.tags=[]),Object.keys(n).forEach(i=>{n[i]===void 0&&delete n[i]});const r=Qa(Ga,`${Xa}/${e}`);await IT(r,n)}catch(n){throw console.error("Error updating item:",n),n}},s2=async e=>{try{const t=Qa(Ga,`${Xa}/${e}`);await NT(t)}catch(t){throw console.error("Error deleting item:",t),t}},a2=e=>{try{const t=Qa(Ga,Xa);return RT(t,n=>{const r=n.val(),i=r?Object.entries(r).map(([o,s])=>({id:o,...s})).sort((o,s)=>new Date(s.createdAt)-new Date(o.createdAt)):[];e(i)})}catch(t){throw console.error("Error subscribing to shopping list:",t),t}},l2=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!1),[i,o]=b.useState([]);b.useEffect(()=>{const l=a2(u=>{t(u)});return()=>l()},[]);const s=Array.from(new Set(e.flatMap(l=>l.tags||[]))),a=e.filter(l=>n?!0:!l.isBought).filter(l=>i.length===0||i.every(u=>{var d;return(d=l.tags)==null?void 0:d.includes(u)}));return{items:e,filteredItems:a,showBoughtItems:n,selectedFilterTags:i,allTags:s,setShowBoughtItems:r,toggleFilterTag:l=>{o(u=>u.includes(l)?u.filter(d=>d!==l):[...u,l])},handleAddItem:async l=>{if(!l.trim())return;const u={name:l,location:"",imageUrl:"",url:"",remarks:"",tags:[],isBought:!1};try{await o2(u)}catch(d){console.error("Error adding item:",d)}},handleDeleteItem:async l=>{try{const u=e.find(d=>d.id===l);u!=null&&u.imageUrl&&await mc(u.imageUrl),await s2(l)}catch(u){console.error("Error deleting item:",u)}},toggleItemBought:async l=>{try{await bs(l.id,{isBought:!l.isBought})}catch(u){console.error("Error toggling item status:",u)}}}},u2=e=>{const[t,n]=b.useState(!1),[r,i]=b.useState(null),[o,s]=b.useState({name:"",location:"",imageUrl:"",url:"",remarks:"",tags:[],isBought:!1}),[a,l]=b.useState(""),[u,d]=b.useState(null),[c,h]=b.useState(""),[f,p]=b.useState(!1),[_,w]=b.useState(""),[g,m]=b.useState([]);b.useEffect(()=>{const E=Array.from(new Set(e.flatMap(k=>k.tags||[])));m(E)},[e]);const v=E=>{i(E),s({name:E.name||"",location:E.location||"",imageUrl:E.imageUrl||"",url:E.url||"",remarks:E.remarks||"",tags:E.tags||[],isBought:E.isBought||!1}),n(!0)},x=E=>{if(E.preventDefault(),!a.trim())return;const k=a.trim();s(C=>({...C,tags:[...new Set([...C.tags,k])]})),l("")};return{isDetailsPanelOpen:t,selectedItem:r,itemDetails:o,newTagInput:a,isEditingTag:u,editTagValue:c,tagSuggestions:g,isUploading:f,uploadError:_,setIsDetailsPanelOpen:n,setItemDetails:s,setNewTagInput:l,setIsEditingTag:d,setEditTagValue:h,handleItemClick:v,handleAddNewTag:x,handleSelectExistingTag:E=>{o.tags.includes(E)||s(k=>({...k,tags:[...k.tags,E]}))},handleRemoveTag:E=>{s(k=>({...k,tags:k.tags.filter(C=>C!==E)}))},handleEditTag:E=>{d(E),h(E)},handleUpdateTag:(E,k)=>{if(k.key==="Enter"&&c.trim()){const C=c.trim();s(I=>({...I,tags:I.tags.map(z=>z===E?C:z)})),d(null)}else k.key==="Escape"&&d(null)},handleKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),x(E))},handleImageUpload:async(E,k)=>{if(!E&&k){p(!0),w("");try{if(o.imageUrl)if(await mc(o.imageUrl),s(C=>({...C,imageUrl:""})),k&&k.id)await bs(k.id,{imageUrl:""});else throw new Error("Invalid item or item ID for image deletion")}catch(C){console.error("Error deleting image:",C),w("Failed to delete image")}finally{p(!1)}return}if(!E||!k||!k.id){console.error("Missing file, item, or item ID for image upload");return}if(!["image/jpeg","image/png","image/gif","image/webp"].includes(E.type)){w("Please select a valid image file (JPEG, PNG, GIF, or WEBP)");return}if(E.size>5*1024*1024){w("Image size must be less than 5MB");return}p(!0),w("");try{o.imageUrl&&await mc(o.imageUrl);const C=await i2(E,k.id);s(I=>({...I,imageUrl:C})),await bs(k.id,{imageUrl:C}),w("Image uploaded successfully!"),setTimeout(()=>w(""),3e3)}catch(C){console.error("Error uploading image:",C),w("Failed to upload image. Please try again.")}finally{p(!1)}},handleUpdateItem:async()=>{if(!r||!r.id){console.error("Cannot update item: No selected item or item ID");return}try{const E={name:o.name||"",location:o.location||"",url:o.url||"",remarks:o.remarks||"",isBought:!!o.isBought};o.imageUrl&&(E.imageUrl=o.imageUrl),E.tags=Array.isArray(o.tags)?o.tags:[],await bs(r.id,E),n(!1)}catch(E){console.error("Error updating item:",E)}}}},c2=()=>{const{items:e,filteredItems:t,showBoughtItems:n,selectedFilterTags:r,allTags:i,setShowBoughtItems:o,toggleFilterTag:s,handleAddItem:a,handleDeleteItem:l,toggleItemBought:u}=l2(),{isDetailsPanelOpen:d,selectedItem:c,itemDetails:h,newTagInput:f,isEditingTag:p,editTagValue:_,tagSuggestions:w,setIsDetailsPanelOpen:g,setItemDetails:m,setNewTagInput:v,setIsEditingTag:x,setEditTagValue:E,handleItemClick:k,handleAddNewTag:C,handleSelectExistingTag:I,handleRemoveTag:z,handleEditTag:D,handleUpdateTag:he,handleKeyDown:je,handleImageUpload:Ke,handleUpdateItem:Nt,isUploading:ft,uploadError:Mt}=u2(e);return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[y.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-8 space-y-8",children:[y.jsx("div",{className:"text-center pt-8 pb-12",children:y.jsx("h1",{className:"text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-300 to-blue-400",children:"Shopping List"})}),y.jsx(J1,{showBoughtItems:n,setShowBoughtItems:o,allTags:i,selectedFilterTags:r,toggleFilterTag:s}),y.jsx(Z1,{onAddItem:a}),y.jsx(X1,{items:t,onItemClick:k,onDeleteItem:l,onToggleBought:u})]}),y.jsx(Xx,{isOpen:d,setIsOpen:g,item:c,itemDetails:h,setItemDetails:m,onUpdateItem:Nt,newTagInput:f,setNewTagInput:v,isEditingTag:p,setIsEditingTag:x,editTagValue:_,setEditTagValue:E,tagSuggestions:w,onAddNewTag:C,onSelectExistingTag:I,onRemoveTag:z,onEditTag:D,onUpdateTag:he,onKeyDown:je,onImageUpload:Ke,isUploading:ft,uploadError:Mt})]})},d2=()=>y.jsxs("div",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0",children:y.jsx("img",{src:"https://images.unsplash.com/photo-1533029030467-904d7bbd602b?q=80&w=2938&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Hero background",className:"w-full h-full object-cover opacity-80"})}),y.jsxs("div",{className:"relative z-10 text-center px-4",children:[y.jsx("h1",{className:"hero-text text-6xl md:text-7xl font-bold mb-8 tracking-tight max-w-4xl mx-auto py-2",children:"Derek Wong"}),y.jsx("p",{className:"text-xl text-gray-200 max-w-2xl mx-auto leading-relaxed",children:"Keep Going"}),y.jsxs("div",{className:"mt-12 flex flex-wrap justify-center gap-4",children:[y.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScNT8j00PmJn32MWjYO6AL-d0JCjvPQRhNQds9q9MqLrl-d3g/viewform?usp=sf_link",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"💰"}),y.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSfQXJuBOakxD4jZPOlROeHDBE2Qi8kvwT_mbplfjHhjjJDeoA/viewform?usp=sf_link",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"🏠"}),y.jsx("a",{href:"https://forms.gle/DHfPv65i4kG7dbBLA",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"🏆"}),y.jsx("a",{href:"https://www.notion.so/Restaurant-bookmark-17a4deb1905180f2b9ddc00407448a56",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"🍔"}),y.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSfG-jKMwJlpDUK47QGIyIaJxgJc74Avx_c6ACp2UKyd51tryQ/viewform?usp=pp_url&entry.549116440=Air&entry.1737958482=Yes&entry.1900711821=PM&entry.1154055986=Clinical+Owl+Limited&entry.52176025=Clinical+Owl+Limited&entry.2094240235=Hong+Kong&entry.1160294418=Tsuen+Wan+District&entry.1167055322=Tsuen+Wan+District&entry.561125814=Tsuen+Wan&entry.232368741=0&entry.1796256672=Block+A,+4/F.,+Kong+Nam+Industrial+Building,+603-609+Castle+Peak+Road,+Tsuen+Wan,+N.T.,+Hong+Kong&entry.1817835035='%2B852-91782314&entry.922400616=PP&entry.904525454=7.5&entry.1923126886=22.5&entry.1551925167=20.5&entry.1400980927=1&entry.1377870369=General&entry.1772655465=Flashcards&entry.2101260712=Flashcards&entry.1921056487=1",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"NSS (1)"}),y.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScWT0xnmqvzDd8foj4PtJy5NtYpXpzPWorPYIaJk4Wwj51dAQ/viewform?usp=pp_url&entry.260216209=COWL&entry.921267906=NL.KD&entry.1669552982=XXXXXXXX&entry.1768611087=FC002&entry.1863982148=1&entry.1074048422=PCS&entry.811386961=1&entry.1263891585=PCS&entry.584638905=HK",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"NSS (2)"}),y.jsx("a",{href:"http://www.notion.so/clinical-owl/Products-462ec30476a24f9ab3276078cbca66e9?pvs=4",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"🦉 Products"})]})]})]}),h2=({project:e})=>y.jsx("a",{href:e.link,target:e.external?"_blank":void 0,rel:e.external?"noopener noreferrer":void 0,className:"group relative overflow-hidden",children:y.jsxs("div",{className:"project-card bg-white/5 border border-white/10 rounded-xl p-6 hover:bg-white/10 transition-all duration-500 transform",children:[y.jsx("div",{className:"text-4xl mb-4 ",children:e.icon}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),y.jsx("p",{className:"text-gray-400 text-sm",children:e.description}),y.jsxs("div",{className:"mt-4 inline-flex items-center text-xs font-medium text-white",children:["Learn More",y.jsx("svg",{className:"ml-2 w-3 h-3 transform group-hover:translate-x-2 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})});function f2(){return y.jsx("div",{children:y.jsx("h1",{children:"My Page"})})}const p2=[{title:"Shopping",description:"To Buy List",icon:"🛒",link:"/shopping"},{title:"Place Calculator",description:"Easily calculate PLACE",icon:"🔢",link:"/place"},{title:"Trading Journal",description:"Track your trades",icon:"📈",link:"https://warm-trifle-dcda76.netlify.app",external:!0},{title:"Scorelab",description:"Democratize basketball statistic",icon:"🏀 ",link:"https://www.scorelab.tech",external:!0},{title:"Clinical Owl",description:"Make Medical Easier",icon:"📝",link:"https://www.clinicalowl.io",external:!0}];function m2(){return y.jsxs(y.Fragment,{children:[y.jsx(d2,{}),y.jsxs("div",{className:"py-20 px-2",children:[y.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"My Tools"}),y.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p2.map((e,t)=>y.jsx(h2,{project:e},t))})]}),y.jsxs("footer",{className:"border-t border-white/10 py-12 text-center text-gray-400",children:[y.jsxs("div",{className:"flex justify-center space-x-8 mb-8",children:[y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:y.jsx(U1,{size:24})}),y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:y.jsx(z1,{size:24})}),y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:y.jsx(B1,{size:24})})]}),y.jsx("p",{children:"© 2024 Derek Wong. All rights reserved."})]})]})}function g2(){return y.jsx(M1,{children:y.jsx("div",{className:"min-h-screen bg-black text-white",children:y.jsxs(O1,{children:[y.jsx(Oi,{path:"/",element:y.jsx(m2,{})}),y.jsx(Oi,{path:"/place",element:y.jsx(G1,{})}),y.jsx(Oi,{path:"/shopping",element:y.jsx(c2,{})}),y.jsx(Oi,{path:"/mypage",element:y.jsx(f2,{})})]})})})}ql.createRoot(document.getElementById("root")).render(y.jsx(A.StrictMode,{children:y.jsx(g2,{})}));
