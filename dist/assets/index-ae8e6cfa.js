function by(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ay(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ap={exports:{}},fl={},Op={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=Symbol.for("react.element"),Oy=Symbol.for("react.portal"),Dy=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),My=Symbol.for("react.profiler"),Fy=Symbol.for("react.provider"),jy=Symbol.for("react.context"),Uy=Symbol.for("react.forward_ref"),$y=Symbol.for("react.suspense"),By=Symbol.for("react.memo"),zy=Symbol.for("react.lazy"),ff=Symbol.iterator;function Wy(e){return e===null||typeof e!="object"?null:(e=ff&&e[ff]||e["@@iterator"],typeof e=="function"?e:null)}var Dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lp=Object.assign,Mp={};function ii(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Dp}ii.prototype.isReactComponent={};ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fp(){}Fp.prototype=ii.prototype;function _c(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Dp}var vc=_c.prototype=new Fp;vc.constructor=_c;Lp(vc,ii.prototype);vc.isPureReactComponent=!0;var hf=Array.isArray,jp=Object.prototype.hasOwnProperty,yc={current:null},Up={key:!0,ref:!0,__self:!0,__source:!0};function $p(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)jp.call(t,r)&&!Up.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:xs,type:e,key:s,ref:o,props:i,_owner:yc.current}}function Hy(e,t){return{$$typeof:xs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wc(e){return typeof e=="object"&&e!==null&&e.$$typeof===xs}function Vy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pf=/\/+/g;function Jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vy(""+e.key):t.toString(36)}function oo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xs:case Oy:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Jl(o,0):r,hf(i)?(n="",e!=null&&(n=e.replace(pf,"$&/")+"/"),oo(i,t,n,"",function(u){return u})):i!=null&&(wc(i)&&(i=Hy(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",hf(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Jl(s,l);o+=oo(s,t,n,a,i)}else if(a=Wy(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Jl(s,l++),o+=oo(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fs(e,t,n){if(e==null)return e;var r=[],i=0;return oo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Gy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},lo={transition:null},Qy={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:lo,ReactCurrentOwner:yc};function Bp(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Fs,forEach:function(e,t,n){Fs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fs(e,function(){t++}),t},toArray:function(e){return Fs(e,function(t){return t})||[]},only:function(e){if(!wc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=ii;$.Fragment=Dy;$.Profiler=My;$.PureComponent=_c;$.StrictMode=Ly;$.Suspense=$y;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qy;$.act=Bp;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Lp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=yc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)jp.call(t,a)&&!Up.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:xs,type:e.type,key:i,ref:s,props:r,_owner:o}};$.createContext=function(e){return e={$$typeof:jy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fy,_context:e},e.Consumer=e};$.createElement=$p;$.createFactory=function(e){var t=$p.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:Uy,render:e}};$.isValidElement=wc;$.lazy=function(e){return{$$typeof:zy,_payload:{_status:-1,_result:e},_init:Gy}};$.memo=function(e,t){return{$$typeof:By,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=lo.transition;lo.transition={};try{e()}finally{lo.transition=t}};$.unstable_act=Bp;$.useCallback=function(e,t){return $e.current.useCallback(e,t)};$.useContext=function(e){return $e.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};$.useEffect=function(e,t){return $e.current.useEffect(e,t)};$.useId=function(){return $e.current.useId()};$.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return $e.current.useMemo(e,t)};$.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};$.useRef=function(e){return $e.current.useRef(e)};$.useState=function(e){return $e.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return $e.current.useTransition()};$.version="18.3.1";Op.exports=$;var w=Op.exports;const M=Ay(w),zr=by({__proto__:null,default:M},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky=w,Yy=Symbol.for("react.element"),qy=Symbol.for("react.fragment"),Xy=Object.prototype.hasOwnProperty,Jy=Ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zy={key:!0,ref:!0,__self:!0,__source:!0};function zp(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Xy.call(t,r)&&!Zy.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Yy,type:e,key:s,ref:o,props:i,_owner:Jy.current}}fl.Fragment=qy;fl.jsx=zp;fl.jsxs=zp;Ap.exports=fl;var v=Ap.exports,Ha={},Wp={exports:{}},rt={},Hp={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,D){var L=I.length;I.push(D);e:for(;0<L;){var Q=L-1>>>1,K=I[Q];if(0<i(K,D))I[Q]=D,I[L]=K,L=Q;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var D=I[0],L=I.pop();if(L!==D){I[0]=L;e:for(var Q=0,K=I.length,rn=K>>>1;Q<rn;){var ye=2*(Q+1)-1,pi=I[ye],Ft=ye+1,mr=I[Ft];if(0>i(pi,L))Ft<K&&0>i(mr,pi)?(I[Q]=mr,I[Ft]=L,Q=Ft):(I[Q]=pi,I[ye]=L,Q=ye);else if(Ft<K&&0>i(mr,L))I[Q]=mr,I[Ft]=L,Q=Ft;else break e}}return D}function i(I,D){var L=I.sortIndex-D.sortIndex;return L!==0?L:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,c=null,f=3,h=!1,p=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=I)r(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=n(u)}}function C(I){if(y=!1,_(I),!p)if(n(a)!==null)p=!0,ze(T);else{var D=n(u);D!==null&&gt(C,D.startTime-I)}}function T(I,D){p=!1,y&&(y=!1,g(R),R=-1),h=!0;var L=f;try{for(_(D),c=n(a);c!==null&&(!(c.expirationTime>D)||I&&!pe());){var Q=c.callback;if(typeof Q=="function"){c.callback=null,f=c.priorityLevel;var K=Q(c.expirationTime<=D);D=e.unstable_now(),typeof K=="function"?c.callback=K:c===n(a)&&r(a),_(D)}else r(a);c=n(a)}if(c!==null)var rn=!0;else{var ye=n(u);ye!==null&&gt(C,ye.startTime-D),rn=!1}return rn}finally{c=null,f=L,h=!1}}var k=!1,N=null,R=-1,z=5,O=-1;function pe(){return!(e.unstable_now()-O<z)}function b(){if(N!==null){var I=e.unstable_now();O=I;var D=!0;try{D=N(!0,I)}finally{D?B():(k=!1,N=null)}}else k=!1}var B;if(typeof m=="function")B=function(){m(b)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,re=ve.port2;ve.port1.onmessage=b,B=function(){re.postMessage(null)}}else B=function(){E(b,0)};function ze(I){N=I,k||(k=!0,B())}function gt(I,D){R=E(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ze(T))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var L=f;f=D;try{return I()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var L=f;f=I;try{return D()}finally{f=L}},e.unstable_scheduleCallback=function(I,D,L){var Q=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Q+L:Q):L=Q,I){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,I={id:d++,callback:D,priorityLevel:I,startTime:L,expirationTime:K,sortIndex:-1},L>Q?(I.sortIndex=L,t(u,I),n(a)===null&&I===n(u)&&(y?(g(R),R=-1):y=!0,gt(C,L-Q))):(I.sortIndex=K,t(a,I),p||h||(p=!0,ze(T))),I},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(I){var D=f;return function(){var L=f;f=D;try{return I.apply(this,arguments)}finally{f=L}}}})(Vp);Hp.exports=Vp;var e0=Hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=w,nt=e0;function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gp=new Set,qi={};function cr(e,t){Wr(e,t),Wr(e+"Capture",t)}function Wr(e,t){for(qi[e]=t,e=0;e<t.length;e++)Gp.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Va=Object.prototype.hasOwnProperty,n0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mf={},gf={};function r0(e){return Va.call(gf,e)?!0:Va.call(mf,e)?!1:n0.test(e)?gf[e]=!0:(mf[e]=!0,!1)}function i0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s0(e,t,n,r){if(t===null||typeof t>"u"||i0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ec=/[\-:]([a-z])/g;function Cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ec,Cc);Re[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ec,Cc);Re[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ec,Cc);Re[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function xc(e,t,n,r){var i=Re.hasOwnProperty(t)?Re[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s0(t,n,i,r)&&(n=null),r||i===null?r0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var en=t0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),vr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),Sc=Symbol.for("react.strict_mode"),Ga=Symbol.for("react.profiler"),Qp=Symbol.for("react.provider"),Kp=Symbol.for("react.context"),kc=Symbol.for("react.forward_ref"),Qa=Symbol.for("react.suspense"),Ka=Symbol.for("react.suspense_list"),Tc=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),Yp=Symbol.for("react.offscreen"),_f=Symbol.iterator;function mi(e){return e===null||typeof e!="object"?null:(e=_f&&e[_f]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Zl;function Pi(e){if(Zl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zl=t&&t[1]||""}return`
`+Zl+e}var ea=!1;function ta(e,t){if(!e||ea)return"";ea=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{ea=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pi(e):""}function o0(e){switch(e.tag){case 5:return Pi(e.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 2:case 15:return e=ta(e.type,!1),e;case 11:return e=ta(e.type.render,!1),e;case 1:return e=ta(e.type,!0),e;default:return""}}function Ya(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yr:return"Fragment";case vr:return"Portal";case Ga:return"Profiler";case Sc:return"StrictMode";case Qa:return"Suspense";case Ka:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kp:return(e.displayName||"Context")+".Consumer";case Qp:return(e._context.displayName||"Context")+".Provider";case kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tc:return t=e.displayName||null,t!==null?t:Ya(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return Ya(e(t))}catch{}}return null}function l0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ya(t);case 8:return t===Sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function An(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a0(e){var t=qp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Us(e){e._valueTracker||(e._valueTracker=a0(e))}function Xp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qa(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=An(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jp(e,t){t=t.checked,t!=null&&xc(e,"checked",t,!1)}function Xa(e,t){Jp(e,t);var n=An(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ja(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ja(e,t.type,An(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ja(e,t,n){(t!=="number"||Eo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bi=Array.isArray;function br(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+An(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Za(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(x(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(x(92));if(bi(n)){if(1<n.length)throw Error(x(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:An(n)}}function Zp(e,t){var n=An(t.value),r=An(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ef(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function em(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?em(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $s,tm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u0=["Webkit","ms","Moz","O"];Object.keys(Li).forEach(function(e){u0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Li[t]=Li[e]})});function nm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Li.hasOwnProperty(e)&&Li[e]?(""+t).trim():t+"px"}function rm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var c0=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tu(e,t){if(t){if(c0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(x(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(x(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(t.style!=null&&typeof t.style!="object")throw Error(x(62))}}function nu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=null;function Nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var iu=null,Ar=null,Or=null;function Cf(e){if(e=Ts(e)){if(typeof iu!="function")throw Error(x(280));var t=e.stateNode;t&&(t=_l(t),iu(e.stateNode,e.type,t))}}function im(e){Ar?Or?Or.push(e):Or=[e]:Ar=e}function sm(){if(Ar){var e=Ar,t=Or;if(Or=Ar=null,Cf(e),t)for(e=0;e<t.length;e++)Cf(t[e])}}function om(e,t){return e(t)}function lm(){}var na=!1;function am(e,t,n){if(na)return e(t,n);na=!0;try{return om(e,t,n)}finally{na=!1,(Ar!==null||Or!==null)&&(lm(),sm())}}function Ji(e,t){var n=e.stateNode;if(n===null)return null;var r=_l(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var su=!1;if(Kt)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){su=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{su=!1}function d0(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Mi=!1,Co=null,xo=!1,ou=null,f0={onError:function(e){Mi=!0,Co=e}};function h0(e,t,n,r,i,s,o,l,a){Mi=!1,Co=null,d0.apply(f0,arguments)}function p0(e,t,n,r,i,s,o,l,a){if(h0.apply(this,arguments),Mi){if(Mi){var u=Co;Mi=!1,Co=null}else throw Error(x(198));xo||(xo=!0,ou=u)}}function dr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function um(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xf(e){if(dr(e)!==e)throw Error(x(188))}function m0(e){var t=e.alternate;if(!t){if(t=dr(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xf(i),e;if(s===r)return xf(i),t;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function cm(e){return e=m0(e),e!==null?dm(e):null}function dm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dm(e);if(t!==null)return t;e=e.sibling}return null}var fm=nt.unstable_scheduleCallback,Sf=nt.unstable_cancelCallback,g0=nt.unstable_shouldYield,_0=nt.unstable_requestPaint,he=nt.unstable_now,v0=nt.unstable_getCurrentPriorityLevel,Ic=nt.unstable_ImmediatePriority,hm=nt.unstable_UserBlockingPriority,So=nt.unstable_NormalPriority,y0=nt.unstable_LowPriority,pm=nt.unstable_IdlePriority,hl=null,Dt=null;function w0(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:x0,E0=Math.log,C0=Math.LN2;function x0(e){return e>>>=0,e===0?32:31-(E0(e)/C0|0)|0}var Bs=64,zs=4194304;function Ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ko(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ai(l):(s&=o,s!==0&&(r=Ai(s)))}else o=n&~i,o!==0?r=Ai(o):s!==0&&(r=Ai(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xt(t),i=1<<n,r|=e[n],t&=~i;return r}function S0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-xt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=S0(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function lu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mm(){var e=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),e}function ra(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ss(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function T0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Rc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var V=0;function gm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _m,Pc,vm,ym,wm,au=!1,Ws=[],yn=null,wn=null,En=null,Zi=new Map,es=new Map,un=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kf(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(t.pointerId)}}function _i(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ts(t),t!==null&&Pc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function I0(e,t,n,r,i){switch(t){case"focusin":return yn=_i(yn,e,t,n,r,i),!0;case"dragenter":return wn=_i(wn,e,t,n,r,i),!0;case"mouseover":return En=_i(En,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zi.set(s,_i(Zi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,es.set(s,_i(es.get(s)||null,e,t,n,r,i)),!0}return!1}function Em(e){var t=Hn(e.target);if(t!==null){var n=dr(t);if(n!==null){if(t=n.tag,t===13){if(t=um(n),t!==null){e.blockedOn=t,wm(e.priority,function(){vm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ru=r,n.target.dispatchEvent(r),ru=null}else return t=Ts(n),t!==null&&Pc(t),e.blockedOn=n,!1;t.shift()}return!0}function Tf(e,t,n){ao(e)&&n.delete(t)}function R0(){au=!1,yn!==null&&ao(yn)&&(yn=null),wn!==null&&ao(wn)&&(wn=null),En!==null&&ao(En)&&(En=null),Zi.forEach(Tf),es.forEach(Tf)}function vi(e,t){e.blockedOn===t&&(e.blockedOn=null,au||(au=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,R0)))}function ts(e){function t(i){return vi(i,e)}if(0<Ws.length){vi(Ws[0],e);for(var n=1;n<Ws.length;n++){var r=Ws[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yn!==null&&vi(yn,e),wn!==null&&vi(wn,e),En!==null&&vi(En,e),Zi.forEach(t),es.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Em(n),n.blockedOn===null&&un.shift()}var Dr=en.ReactCurrentBatchConfig,To=!0;function P0(e,t,n,r){var i=V,s=Dr.transition;Dr.transition=null;try{V=1,bc(e,t,n,r)}finally{V=i,Dr.transition=s}}function b0(e,t,n,r){var i=V,s=Dr.transition;Dr.transition=null;try{V=4,bc(e,t,n,r)}finally{V=i,Dr.transition=s}}function bc(e,t,n,r){if(To){var i=uu(e,t,n,r);if(i===null)ha(e,t,r,No,n),kf(e,r);else if(I0(i,e,t,n,r))r.stopPropagation();else if(kf(e,r),t&4&&-1<N0.indexOf(e)){for(;i!==null;){var s=Ts(i);if(s!==null&&_m(s),s=uu(e,t,n,r),s===null&&ha(e,t,r,No,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ha(e,t,r,null,n)}}var No=null;function uu(e,t,n,r){if(No=null,e=Nc(r),e=Hn(e),e!==null)if(t=dr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=um(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return No=e,null}function Cm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v0()){case Ic:return 1;case hm:return 4;case So:case y0:return 16;case pm:return 536870912;default:return 16}default:return 16}}var hn=null,Ac=null,uo=null;function xm(){if(uo)return uo;var e,t=Ac,n=t.length,r,i="value"in hn?hn.value:hn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return uo=i.slice(e,1<r?1-r:void 0)}function co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hs(){return!0}function Nf(){return!1}function it(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hs:Nf,this.isPropagationStopped=Nf,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),t}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=it(si),ks=oe({},si,{view:0,detail:0}),A0=it(ks),ia,sa,yi,pl=oe({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(ia=e.screenX-yi.screenX,sa=e.screenY-yi.screenY):sa=ia=0,yi=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),If=it(pl),O0=oe({},pl,{dataTransfer:0}),D0=it(O0),L0=oe({},ks,{relatedTarget:0}),oa=it(L0),M0=oe({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),F0=it(M0),j0=oe({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U0=it(j0),$0=oe({},si,{data:0}),Rf=it($0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W0[e])?!!t[e]:!1}function Dc(){return H0}var V0=oe({},ks,{key:function(e){if(e.key){var t=B0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G0=it(V0),Q0=oe({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=it(Q0),K0=oe({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),Y0=it(K0),q0=oe({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),X0=it(q0),J0=oe({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=it(J0),ew=[9,13,27,32],Lc=Kt&&"CompositionEvent"in window,Fi=null;Kt&&"documentMode"in document&&(Fi=document.documentMode);var tw=Kt&&"TextEvent"in window&&!Fi,Sm=Kt&&(!Lc||Fi&&8<Fi&&11>=Fi),bf=String.fromCharCode(32),Af=!1;function km(e,t){switch(e){case"keyup":return ew.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function nw(e,t){switch(e){case"compositionend":return Tm(t);case"keypress":return t.which!==32?null:(Af=!0,bf);case"textInput":return e=t.data,e===bf&&Af?null:e;default:return null}}function rw(e,t){if(wr)return e==="compositionend"||!Lc&&km(e,t)?(e=xm(),uo=Ac=hn=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sm&&t.locale!=="ko"?null:t.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Of(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iw[e.type]:t==="textarea"}function Nm(e,t,n,r){im(r),t=Io(t,"onChange"),0<t.length&&(n=new Oc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ji=null,ns=null;function sw(e){jm(e,0)}function ml(e){var t=xr(e);if(Xp(t))return e}function ow(e,t){if(e==="change")return t}var Im=!1;if(Kt){var la;if(Kt){var aa="oninput"in document;if(!aa){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),aa=typeof Df.oninput=="function"}la=aa}else la=!1;Im=la&&(!document.documentMode||9<document.documentMode)}function Lf(){ji&&(ji.detachEvent("onpropertychange",Rm),ns=ji=null)}function Rm(e){if(e.propertyName==="value"&&ml(ns)){var t=[];Nm(t,ns,e,Nc(e)),am(sw,t)}}function lw(e,t,n){e==="focusin"?(Lf(),ji=t,ns=n,ji.attachEvent("onpropertychange",Rm)):e==="focusout"&&Lf()}function aw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(ns)}function uw(e,t){if(e==="click")return ml(t)}function cw(e,t){if(e==="input"||e==="change")return ml(t)}function dw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:dw;function rs(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Va.call(t,i)||!Tt(e[i],t[i]))return!1}return!0}function Mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ff(e,t){var n=Mf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mf(n)}}function Pm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bm(){for(var e=window,t=Eo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Eo(e.document)}return t}function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fw(e){var t=bm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pm(n.ownerDocument.documentElement,n)){if(r!==null&&Mc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ff(n,s);var o=Ff(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hw=Kt&&"documentMode"in document&&11>=document.documentMode,Er=null,cu=null,Ui=null,du=!1;function jf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;du||Er==null||Er!==Eo(r)||(r=Er,"selectionStart"in r&&Mc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ui&&rs(Ui,r)||(Ui=r,r=Io(cu,"onSelect"),0<r.length&&(t=new Oc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}function Vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},ua={},Am={};Kt&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function gl(e){if(ua[e])return ua[e];if(!Cr[e])return e;var t=Cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Am)return ua[e]=t[n];return e}var Om=gl("animationend"),Dm=gl("animationiteration"),Lm=gl("animationstart"),Mm=gl("transitionend"),Fm=new Map,Uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){Fm.set(e,t),cr(t,[e])}for(var ca=0;ca<Uf.length;ca++){var da=Uf[ca],pw=da.toLowerCase(),mw=da[0].toUpperCase()+da.slice(1);Mn(pw,"on"+mw)}Mn(Om,"onAnimationEnd");Mn(Dm,"onAnimationIteration");Mn(Lm,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Mm,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function $f(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,p0(r,t,void 0,e),e.currentTarget=null}function jm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;$f(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;$f(i,l,u),s=a}}}if(xo)throw e=ou,xo=!1,ou=null,e}function Z(e,t){var n=t[gu];n===void 0&&(n=t[gu]=new Set);var r=e+"__bubble";n.has(r)||(Um(t,e,2,!1),n.add(r))}function fa(e,t,n){var r=0;t&&(r|=4),Um(n,e,r,t)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function is(e){if(!e[Gs]){e[Gs]=!0,Gp.forEach(function(n){n!=="selectionchange"&&(gw.has(n)||fa(n,!1,e),fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gs]||(t[Gs]=!0,fa("selectionchange",!1,t))}}function Um(e,t,n,r){switch(Cm(t)){case 1:var i=P0;break;case 4:i=b0;break;default:i=bc}n=i.bind(null,t,n,e),i=void 0,!su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ha(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Hn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}am(function(){var u=s,d=Nc(n),c=[];e:{var f=Fm.get(e);if(f!==void 0){var h=Oc,p=e;switch(e){case"keypress":if(co(n)===0)break e;case"keydown":case"keyup":h=G0;break;case"focusin":p="focus",h=oa;break;case"focusout":p="blur",h=oa;break;case"beforeblur":case"afterblur":h=oa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=If;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=D0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Y0;break;case Om:case Dm:case Lm:h=F0;break;case Mm:h=X0;break;case"scroll":h=A0;break;case"wheel":h=Z0;break;case"copy":case"cut":case"paste":h=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Pf}var y=(t&4)!==0,E=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,_;m!==null;){_=m;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,g!==null&&(C=Ji(m,g),C!=null&&y.push(ss(m,C,_)))),E)break;m=m.return}0<y.length&&(f=new h(f,p,null,n,d),c.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==ru&&(p=n.relatedTarget||n.fromElement)&&(Hn(p)||p[Yt]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Hn(p):null,p!==null&&(E=dr(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=If,C="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Pf,C="onPointerLeave",g="onPointerEnter",m="pointer"),E=h==null?f:xr(h),_=p==null?f:xr(p),f=new y(C,m+"leave",h,n,d),f.target=E,f.relatedTarget=_,C=null,Hn(d)===u&&(y=new y(g,m+"enter",p,n,d),y.target=_,y.relatedTarget=E,C=y),E=C,h&&p)t:{for(y=h,g=p,m=0,_=y;_;_=gr(_))m++;for(_=0,C=g;C;C=gr(C))_++;for(;0<m-_;)y=gr(y),m--;for(;0<_-m;)g=gr(g),_--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=gr(y),g=gr(g)}y=null}else y=null;h!==null&&Bf(c,f,h,y,!1),p!==null&&E!==null&&Bf(c,E,p,y,!0)}}e:{if(f=u?xr(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=ow;else if(Of(f))if(Im)T=cw;else{T=aw;var k=lw}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=uw);if(T&&(T=T(e,u))){Nm(c,T,n,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Ja(f,"number",f.value)}switch(k=u?xr(u):window,e){case"focusin":(Of(k)||k.contentEditable==="true")&&(Er=k,cu=u,Ui=null);break;case"focusout":Ui=cu=Er=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,jf(c,n,d);break;case"selectionchange":if(hw)break;case"keydown":case"keyup":jf(c,n,d)}var N;if(Lc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else wr?km(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Sm&&n.locale!=="ko"&&(wr||R!=="onCompositionStart"?R==="onCompositionEnd"&&wr&&(N=xm()):(hn=d,Ac="value"in hn?hn.value:hn.textContent,wr=!0)),k=Io(u,R),0<k.length&&(R=new Rf(R,e,null,n,d),c.push({event:R,listeners:k}),N?R.data=N:(N=Tm(n),N!==null&&(R.data=N)))),(N=tw?nw(e,n):rw(e,n))&&(u=Io(u,"onBeforeInput"),0<u.length&&(d=new Rf("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=N))}jm(c,t)})}function ss(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Io(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ji(e,n),s!=null&&r.unshift(ss(e,s,i)),s=Ji(e,t),s!=null&&r.push(ss(e,s,i))),e=e.return}return r}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bf(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ji(n,s),a!=null&&o.unshift(ss(n,a,l))):i||(a=Ji(n,s),a!=null&&o.push(ss(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _w=/\r\n?/g,vw=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(_w,`
`).replace(vw,"")}function Qs(e,t,n){if(t=zf(t),zf(e)!==t&&n)throw Error(x(425))}function Ro(){}var fu=null,hu=null;function pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mu=typeof setTimeout=="function"?setTimeout:void 0,yw=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,ww=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(e){return Wf.resolve(null).then(e).catch(Ew)}:mu;function Ew(e){setTimeout(function(){throw e})}function pa(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ts(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ts(t)}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var oi=Math.random().toString(36).slice(2),At="__reactFiber$"+oi,os="__reactProps$"+oi,Yt="__reactContainer$"+oi,gu="__reactEvents$"+oi,Cw="__reactListeners$"+oi,xw="__reactHandles$"+oi;function Hn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hf(e);e!==null;){if(n=e[At])return n;e=Hf(e)}return t}e=n,n=e.parentNode}return null}function Ts(e){return e=e[At]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(x(33))}function _l(e){return e[os]||null}var _u=[],Sr=-1;function Fn(e){return{current:e}}function ee(e){0>Sr||(e.current=_u[Sr],_u[Sr]=null,Sr--)}function J(e,t){Sr++,_u[Sr]=e.current,e.current=t}var On={},Le=Fn(On),Qe=Fn(!1),er=On;function Hr(e,t){var n=e.type.contextTypes;if(!n)return On;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ke(e){return e=e.childContextTypes,e!=null}function Po(){ee(Qe),ee(Le)}function Vf(e,t,n){if(Le.current!==On)throw Error(x(168));J(Le,t),J(Qe,n)}function $m(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(x(108,l0(e)||"Unknown",i));return oe({},n,r)}function bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,er=Le.current,J(Le,e),J(Qe,Qe.current),!0}function Gf(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=$m(e,t,er),r.__reactInternalMemoizedMergedChildContext=e,ee(Qe),ee(Le),J(Le,e)):ee(Qe),J(Qe,n)}var $t=null,vl=!1,ma=!1;function Bm(e){$t===null?$t=[e]:$t.push(e)}function Sw(e){vl=!0,Bm(e)}function jn(){if(!ma&&$t!==null){ma=!0;var e=0,t=V;try{var n=$t;for(V=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,vl=!1}catch(i){throw $t!==null&&($t=$t.slice(e+1)),fm(Ic,jn),i}finally{V=t,ma=!1}}return null}var kr=[],Tr=0,Ao=null,Oo=0,lt=[],at=0,tr=null,Bt=1,zt="";function Un(e,t){kr[Tr++]=Oo,kr[Tr++]=Ao,Ao=e,Oo=t}function zm(e,t,n){lt[at++]=Bt,lt[at++]=zt,lt[at++]=tr,tr=e;var r=Bt;e=zt;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var s=32-xt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bt=1<<32-xt(t)+i|n<<i|r,zt=s+e}else Bt=1<<s|n<<i|r,zt=e}function Fc(e){e.return!==null&&(Un(e,1),zm(e,1,0))}function jc(e){for(;e===Ao;)Ao=kr[--Tr],kr[Tr]=null,Oo=kr[--Tr],kr[Tr]=null;for(;e===tr;)tr=lt[--at],lt[at]=null,zt=lt[--at],lt[at]=null,Bt=lt[--at],lt[at]=null}var tt=null,Ze=null,te=!1,wt=null;function Wm(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,Ze=Cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=tr!==null?{id:Bt,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,Ze=null,!0):!1;default:return!1}}function vu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yu(e){if(te){var t=Ze;if(t){var n=t;if(!Qf(e,t)){if(vu(e))throw Error(x(418));t=Cn(n.nextSibling);var r=tt;t&&Qf(e,t)?Wm(r,n):(e.flags=e.flags&-4097|2,te=!1,tt=e)}}else{if(vu(e))throw Error(x(418));e.flags=e.flags&-4097|2,te=!1,tt=e}}}function Kf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Ks(e){if(e!==tt)return!1;if(!te)return Kf(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pu(e.type,e.memoizedProps)),t&&(t=Ze)){if(vu(e))throw Hm(),Error(x(418));for(;t;)Wm(e,t),t=Cn(t.nextSibling)}if(Kf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=Cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=tt?Cn(e.stateNode.nextSibling):null;return!0}function Hm(){for(var e=Ze;e;)e=Cn(e.nextSibling)}function Vr(){Ze=tt=null,te=!1}function Uc(e){wt===null?wt=[e]:wt.push(e)}var kw=en.ReactCurrentBatchConfig;function wi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yf(e){var t=e._init;return t(e._payload)}function Vm(e){function t(g,m){if(e){var _=g.deletions;_===null?(g.deletions=[m],g.flags|=16):_.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Tn(g,m),g.index=0,g.sibling=null,g}function s(g,m,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags|=2,m):_):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,_,C){return m===null||m.tag!==6?(m=Ca(_,g.mode,C),m.return=g,m):(m=i(m,_),m.return=g,m)}function a(g,m,_,C){var T=_.type;return T===yr?d(g,m,_.props.children,C,_.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ln&&Yf(T)===m.type)?(C=i(m,_.props),C.ref=wi(g,m,_),C.return=g,C):(C=vo(_.type,_.key,_.props,null,g.mode,C),C.ref=wi(g,m,_),C.return=g,C)}function u(g,m,_,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=xa(_,g.mode,C),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function d(g,m,_,C,T){return m===null||m.tag!==7?(m=qn(_,g.mode,C,T),m.return=g,m):(m=i(m,_),m.return=g,m)}function c(g,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ca(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case js:return _=vo(m.type,m.key,m.props,null,g.mode,_),_.ref=wi(g,null,m),_.return=g,_;case vr:return m=xa(m,g.mode,_),m.return=g,m;case ln:var C=m._init;return c(g,C(m._payload),_)}if(bi(m)||mi(m))return m=qn(m,g.mode,_,null),m.return=g,m;Ys(g,m)}return null}function f(g,m,_,C){var T=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:l(g,m,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case js:return _.key===T?a(g,m,_,C):null;case vr:return _.key===T?u(g,m,_,C):null;case ln:return T=_._init,f(g,m,T(_._payload),C)}if(bi(_)||mi(_))return T!==null?null:d(g,m,_,C,null);Ys(g,_)}return null}function h(g,m,_,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(_)||null,l(m,g,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case js:return g=g.get(C.key===null?_:C.key)||null,a(m,g,C,T);case vr:return g=g.get(C.key===null?_:C.key)||null,u(m,g,C,T);case ln:var k=C._init;return h(g,m,_,k(C._payload),T)}if(bi(C)||mi(C))return g=g.get(_)||null,d(m,g,C,T,null);Ys(m,C)}return null}function p(g,m,_,C){for(var T=null,k=null,N=m,R=m=0,z=null;N!==null&&R<_.length;R++){N.index>R?(z=N,N=null):z=N.sibling;var O=f(g,N,_[R],C);if(O===null){N===null&&(N=z);break}e&&N&&O.alternate===null&&t(g,N),m=s(O,m,R),k===null?T=O:k.sibling=O,k=O,N=z}if(R===_.length)return n(g,N),te&&Un(g,R),T;if(N===null){for(;R<_.length;R++)N=c(g,_[R],C),N!==null&&(m=s(N,m,R),k===null?T=N:k.sibling=N,k=N);return te&&Un(g,R),T}for(N=r(g,N);R<_.length;R++)z=h(N,g,R,_[R],C),z!==null&&(e&&z.alternate!==null&&N.delete(z.key===null?R:z.key),m=s(z,m,R),k===null?T=z:k.sibling=z,k=z);return e&&N.forEach(function(pe){return t(g,pe)}),te&&Un(g,R),T}function y(g,m,_,C){var T=mi(_);if(typeof T!="function")throw Error(x(150));if(_=T.call(_),_==null)throw Error(x(151));for(var k=T=null,N=m,R=m=0,z=null,O=_.next();N!==null&&!O.done;R++,O=_.next()){N.index>R?(z=N,N=null):z=N.sibling;var pe=f(g,N,O.value,C);if(pe===null){N===null&&(N=z);break}e&&N&&pe.alternate===null&&t(g,N),m=s(pe,m,R),k===null?T=pe:k.sibling=pe,k=pe,N=z}if(O.done)return n(g,N),te&&Un(g,R),T;if(N===null){for(;!O.done;R++,O=_.next())O=c(g,O.value,C),O!==null&&(m=s(O,m,R),k===null?T=O:k.sibling=O,k=O);return te&&Un(g,R),T}for(N=r(g,N);!O.done;R++,O=_.next())O=h(N,g,R,O.value,C),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?R:O.key),m=s(O,m,R),k===null?T=O:k.sibling=O,k=O);return e&&N.forEach(function(b){return t(g,b)}),te&&Un(g,R),T}function E(g,m,_,C){if(typeof _=="object"&&_!==null&&_.type===yr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case js:e:{for(var T=_.key,k=m;k!==null;){if(k.key===T){if(T=_.type,T===yr){if(k.tag===7){n(g,k.sibling),m=i(k,_.props.children),m.return=g,g=m;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ln&&Yf(T)===k.type){n(g,k.sibling),m=i(k,_.props),m.ref=wi(g,k,_),m.return=g,g=m;break e}n(g,k);break}else t(g,k);k=k.sibling}_.type===yr?(m=qn(_.props.children,g.mode,C,_.key),m.return=g,g=m):(C=vo(_.type,_.key,_.props,null,g.mode,C),C.ref=wi(g,m,_),C.return=g,g=C)}return o(g);case vr:e:{for(k=_.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=xa(_,g.mode,C),m.return=g,g=m}return o(g);case ln:return k=_._init,E(g,m,k(_._payload),C)}if(bi(_))return p(g,m,_,C);if(mi(_))return y(g,m,_,C);Ys(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,_),m.return=g,g=m):(n(g,m),m=Ca(_,g.mode,C),m.return=g,g=m),o(g)):n(g,m)}return E}var Gr=Vm(!0),Gm=Vm(!1),Do=Fn(null),Lo=null,Nr=null,$c=null;function Bc(){$c=Nr=Lo=null}function zc(e){var t=Do.current;ee(Do),e._currentValue=t}function wu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lr(e,t){Lo=e,$c=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if($c!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(Lo===null)throw Error(x(308));Nr=e,Lo.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var Vn=null;function Wc(e){Vn===null?Vn=[e]:Vn.push(e)}function Qm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wc(t)):(n.next=i.next,i.next=n),t.interleaved=n,qt(e,r)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var an=!1;function Hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Km(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qt(e,n)}return i=r.interleaved,i===null?(t.next=t,Wc(r)):(t.next=i.next,i.next=t),r.interleaved=t,qt(e,n)}function fo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rc(e,n)}}function qf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var i=e.updateQueue;an=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,d=u=a=null,l=s;do{var f=l.lane,h=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(f=t,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){c=p.call(h,c,f);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,c,f):p,f==null)break e;c=oe({},c,f);break e;case 2:an=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,a=c):d=d.next=h,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);rr|=o,e.lanes=o,e.memoizedState=c}}function Xf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var Ns={},Lt=Fn(Ns),ls=Fn(Ns),as=Fn(Ns);function Gn(e){if(e===Ns)throw Error(x(174));return e}function Vc(e,t){switch(J(as,t),J(ls,e),J(Lt,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eu(t,e)}ee(Lt),J(Lt,t)}function Qr(){ee(Lt),ee(ls),ee(as)}function Ym(e){Gn(as.current);var t=Gn(Lt.current),n=eu(t,e.type);t!==n&&(J(ls,e),J(Lt,n))}function Gc(e){ls.current===e&&(ee(Lt),ee(ls))}var ie=Fn(0);function Fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function Qc(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var ho=en.ReactCurrentDispatcher,_a=en.ReactCurrentBatchConfig,nr=0,se=null,ge=null,Ee=null,jo=!1,$i=!1,us=0,Tw=0;function be(){throw Error(x(321))}function Kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Yc(e,t,n,r,i,s){if(nr=s,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=e===null||e.memoizedState===null?Pw:bw,e=n(r,i),$i){s=0;do{if($i=!1,us=0,25<=s)throw Error(x(301));s+=1,Ee=ge=null,t.updateQueue=null,ho.current=Aw,e=n(r,i)}while($i)}if(ho.current=Uo,t=ge!==null&&ge.next!==null,nr=0,Ee=ge=se=null,jo=!1,t)throw Error(x(300));return e}function qc(){var e=us!==0;return us=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?se.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function ht(){if(ge===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=Ee===null?se.memoizedState:Ee.next;if(t!==null)Ee=t,ge=e;else{if(e===null)throw Error(x(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ee===null?se.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function cs(e,t){return typeof t=="function"?t(e):t}function va(e){var t=ht(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=ge,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var d=u.lane;if((nr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,se.lanes|=d,rr|=d}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Tt(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,se.lanes|=s,rr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ya(e){var t=ht(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Tt(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function qm(){}function Xm(e,t){var n=se,r=ht(),i=t(),s=!Tt(r.memoizedState,i);if(s&&(r.memoizedState=i,He=!0),r=r.queue,Xc(eg.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,ds(9,Zm.bind(null,n,r,i,t),void 0,null),ke===null)throw Error(x(349));nr&30||Jm(n,t,i)}return i}function Jm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zm(e,t,n,r){t.value=n,t.getSnapshot=r,tg(t)&&ng(e)}function eg(e,t,n){return n(function(){tg(t)&&ng(e)})}function tg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function ng(e){var t=qt(e,1);t!==null&&St(t,e,1,-1)}function Jf(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=Rw.bind(null,se,e),[t.memoizedState,e]}function ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rg(){return ht().memoizedState}function po(e,t,n,r){var i=bt();se.flags|=e,i.memoizedState=ds(1|t,n,void 0,r===void 0?null:r)}function yl(e,t,n,r){var i=ht();r=r===void 0?null:r;var s=void 0;if(ge!==null){var o=ge.memoizedState;if(s=o.destroy,r!==null&&Kc(r,o.deps)){i.memoizedState=ds(t,n,s,r);return}}se.flags|=e,i.memoizedState=ds(1|t,n,s,r)}function Zf(e,t){return po(8390656,8,e,t)}function Xc(e,t){return yl(2048,8,e,t)}function ig(e,t){return yl(4,2,e,t)}function sg(e,t){return yl(4,4,e,t)}function og(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lg(e,t,n){return n=n!=null?n.concat([e]):null,yl(4,4,og.bind(null,t,e),n)}function Jc(){}function ag(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ug(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cg(e,t,n){return nr&21?(Tt(n,t)||(n=mm(),se.lanes|=n,rr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function Nw(e,t){var n=V;V=n!==0&&4>n?n:4,e(!0);var r=_a.transition;_a.transition={};try{e(!1),t()}finally{V=n,_a.transition=r}}function dg(){return ht().memoizedState}function Iw(e,t,n){var r=kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fg(e))hg(t,n);else if(n=Qm(e,t,n,r),n!==null){var i=je();St(n,e,r,i),pg(n,t,r)}}function Rw(e,t,n){var r=kn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fg(e))hg(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Tt(l,o)){var a=t.interleaved;a===null?(i.next=i,Wc(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Qm(e,t,i,r),n!==null&&(i=je(),St(n,e,r,i),pg(n,t,r))}}function fg(e){var t=e.alternate;return e===se||t!==null&&t===se}function hg(e,t){$i=jo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rc(e,n)}}var Uo={readContext:ft,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Pw={readContext:ft,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Zf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,po(4194308,4,og.bind(null,t,e),n)},useLayoutEffect:function(e,t){return po(4194308,4,e,t)},useInsertionEffect:function(e,t){return po(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Iw.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Jf,useDebugValue:Jc,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Jf(!1),t=e[0];return e=Nw.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,i=bt();if(te){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),ke===null)throw Error(x(349));nr&30||Jm(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Zf(eg.bind(null,r,s,e),[e]),r.flags|=2048,ds(9,Zm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bt(),t=ke.identifierPrefix;if(te){var n=zt,r=Bt;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bw={readContext:ft,useCallback:ag,useContext:ft,useEffect:Xc,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:sg,useMemo:ug,useReducer:va,useRef:rg,useState:function(){return va(cs)},useDebugValue:Jc,useDeferredValue:function(e){var t=ht();return cg(t,ge.memoizedState,e)},useTransition:function(){var e=va(cs)[0],t=ht().memoizedState;return[e,t]},useMutableSource:qm,useSyncExternalStore:Xm,useId:dg,unstable_isNewReconciler:!1},Aw={readContext:ft,useCallback:ag,useContext:ft,useEffect:Xc,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:sg,useMemo:ug,useReducer:ya,useRef:rg,useState:function(){return ya(cs)},useDebugValue:Jc,useDeferredValue:function(e){var t=ht();return ge===null?t.memoizedState=e:cg(t,ge.memoizedState,e)},useTransition:function(){var e=ya(cs)[0],t=ht().memoizedState;return[e,t]},useMutableSource:qm,useSyncExternalStore:Xm,useId:dg,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wl={isMounted:function(e){return(e=e._reactInternals)?dr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=je(),i=kn(e),s=Ht(r,i);s.payload=t,n!=null&&(s.callback=n),t=xn(e,s,i),t!==null&&(St(t,e,i,r),fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=je(),i=kn(e),s=Ht(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=xn(e,s,i),t!==null&&(St(t,e,i,r),fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),r=kn(e),i=Ht(n,r);i.tag=2,t!=null&&(i.callback=t),t=xn(e,i,r),t!==null&&(St(t,e,r,n),fo(t,e,r))}};function eh(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!rs(n,r)||!rs(i,s):!0}function mg(e,t,n){var r=!1,i=On,s=t.contextType;return typeof s=="object"&&s!==null?s=ft(s):(i=Ke(t)?er:Le.current,r=t.contextTypes,s=(r=r!=null)?Hr(e,i):On),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function th(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wl.enqueueReplaceState(t,t.state,null)}function Cu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ft(s):(s=Ke(t)?er:Le.current,i.context=Hr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Eu(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wl.enqueueReplaceState(i,i.state,null),Mo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kr(e,t){try{var n="",r=t;do n+=o0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function wa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ow=typeof WeakMap=="function"?WeakMap:Map;function gg(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bo||(Bo=!0,Ou=r),xu(e,t)},n}function _g(e,t,n){n=Ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){xu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xu(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function nh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ow;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Qw.bind(null,e,t,n),t.then(e,e))}function rh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ih(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var Dw=en.ReactCurrentOwner,He=!1;function Fe(e,t,n,r){t.child=e===null?Gm(t,null,n,r):Gr(t,e.child,n,r)}function sh(e,t,n,r,i){n=n.render;var s=t.ref;return Lr(t,i),r=Yc(e,t,n,r,s,i),n=qc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xt(e,t,i)):(te&&n&&Fc(t),t.flags|=1,Fe(e,t,r,i),t.child)}function oh(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!od(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,vg(e,t,s,r,i)):(e=vo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rs,n(o,r)&&e.ref===t.ref)return Xt(e,t,i)}return t.flags|=1,e=Tn(s,r),e.ref=t.ref,e.return=t,t.child=e}function vg(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(rs(s,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Xt(e,t,i)}return Su(e,t,n,r,i)}function yg(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Rr,Xe),Xe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Rr,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,J(Rr,Xe),Xe|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,J(Rr,Xe),Xe|=r;return Fe(e,t,i,n),t.child}function wg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var s=Ke(n)?er:Le.current;return s=Hr(t,s),Lr(t,i),n=Yc(e,t,n,r,s,i),r=qc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xt(e,t,i)):(te&&r&&Fc(t),t.flags|=1,Fe(e,t,n,i),t.child)}function lh(e,t,n,r,i){if(Ke(n)){var s=!0;bo(t)}else s=!1;if(Lr(t,i),t.stateNode===null)mo(e,t),mg(t,n,r),Cu(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=Ke(n)?er:Le.current,u=Hr(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&th(t,o,r,u),an=!1;var f=t.memoizedState;o.state=f,Mo(t,r,o,i),a=t.memoizedState,l!==r||f!==a||Qe.current||an?(typeof d=="function"&&(Eu(t,n,d,r),a=t.memoizedState),(l=an||eh(t,n,l,r,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Km(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vt(t.type,l),o.props=u,c=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ft(a):(a=Ke(n)?er:Le.current,a=Hr(t,a));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&th(t,o,r,a),an=!1,f=t.memoizedState,o.state=f,Mo(t,r,o,i);var p=t.memoizedState;l!==c||f!==p||Qe.current||an?(typeof h=="function"&&(Eu(t,n,h,r),p=t.memoizedState),(u=an||eh(t,n,u,r,f,p,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ku(e,t,n,r,s,i)}function ku(e,t,n,r,i,s){wg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Gf(t,n,!1),Xt(e,t,s);r=t.stateNode,Dw.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Gr(t,e.child,null,s),t.child=Gr(t,null,l,s)):Fe(e,t,l,s),t.memoizedState=r.state,i&&Gf(t,n,!0),t.child}function Eg(e){var t=e.stateNode;t.pendingContext?Vf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vf(e,t.context,!1),Vc(e,t.containerInfo)}function ah(e,t,n,r,i){return Vr(),Uc(i),t.flags|=256,Fe(e,t,n,r),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cg(e,t,n){var r=t.pendingProps,i=ie.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),J(ie,i&1),e===null)return yu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xl(o,r,0,null),e=qn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Nu(n),t.memoizedState=Tu,e):Zc(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Lw(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Tn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Tn(l,s):(s=qn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Tu,r}return s=e.child,e=s.sibling,r=Tn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zc(e,t){return t=xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qs(e,t,n,r){return r!==null&&Uc(r),Gr(t,e.child,null,n),e=Zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lw(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=wa(Error(x(422))),qs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=xl({mode:"visible",children:r.children},i,0,null),s=qn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Gr(t,e.child,null,o),t.child.memoizedState=Nu(o),t.memoizedState=Tu,s);if(!(t.mode&1))return qs(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(x(419)),r=wa(s,r,void 0),qs(e,t,o,r)}if(l=(o&e.childLanes)!==0,He||l){if(r=ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qt(e,i),St(r,e,i,-1))}return sd(),r=wa(Error(x(421))),qs(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Kw.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ze=Cn(i.nextSibling),tt=t,te=!0,wt=null,e!==null&&(lt[at++]=Bt,lt[at++]=zt,lt[at++]=tr,Bt=e.id,zt=e.overflow,tr=t),t=Zc(t,r.children),t.flags|=4096,t)}function uh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wu(e.return,t,n)}function Ea(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fe(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uh(e,n,t);else if(e.tag===19)uh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(ie,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Fo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ea(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Fo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ea(t,!0,n,null,s);break;case"together":Ea(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=Tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mw(e,t,n){switch(t.tag){case 3:Eg(t),Vr();break;case 5:Ym(t);break;case 1:Ke(t.type)&&bo(t);break;case 4:Vc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;J(Do,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Cg(e,t,n):(J(ie,ie.current&1),e=Xt(e,t,n),e!==null?e.sibling:null);J(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),J(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,yg(e,t,n)}return Xt(e,t,n)}var Sg,Iu,kg,Tg;Sg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iu=function(){};kg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gn(Lt.current);var s=null;switch(n){case"input":i=qa(e,i),r=qa(e,r),s=[];break;case"select":i=oe({},i,{value:void 0}),r=oe({},r,{value:void 0}),s=[];break;case"textarea":i=Za(e,i),r=Za(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ro)}tu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Z("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Tg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ei(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fw(e,t,n){var r=t.pendingProps;switch(jc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ke(t.type)&&Po(),Ae(t),null;case 3:return r=t.stateNode,Qr(),ee(Qe),ee(Le),Qc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ks(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(Mu(wt),wt=null))),Iu(e,t),Ae(t),null;case 5:Gc(t);var i=Gn(as.current);if(n=t.type,e!==null&&t.stateNode!=null)kg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(x(166));return Ae(t),null}if(e=Gn(Lt.current),Ks(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[At]=t,r[os]=s,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(i=0;i<Oi.length;i++)Z(Oi[i],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":vf(r,s),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Z("invalid",r);break;case"textarea":wf(r,s),Z("invalid",r)}tu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Qs(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Qs(r.textContent,l,e),i=["children",""+l]):qi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":Us(r),yf(r,s,!0);break;case"textarea":Us(r),Ef(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ro)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=em(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[At]=t,e[os]=r,Sg(e,t,!1,!1),t.stateNode=e;e:{switch(o=nu(n,r),n){case"dialog":Z("cancel",e),Z("close",e),i=r;break;case"iframe":case"object":case"embed":Z("load",e),i=r;break;case"video":case"audio":for(i=0;i<Oi.length;i++)Z(Oi[i],e);i=r;break;case"source":Z("error",e),i=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),i=r;break;case"details":Z("toggle",e),i=r;break;case"input":vf(e,r),i=qa(e,r),Z("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=oe({},r,{value:void 0}),Z("invalid",e);break;case"textarea":wf(e,r),i=Za(e,r),Z("invalid",e);break;default:i=r}tu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?rm(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&tm(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Xi(e,a):typeof a=="number"&&Xi(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Z("scroll",e):a!=null&&xc(e,s,a,o))}switch(n){case"input":Us(e),yf(e,r,!1);break;case"textarea":Us(e),Ef(e);break;case"option":r.value!=null&&e.setAttribute("value",""+An(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?br(e,!!r.multiple,s,!1):r.defaultValue!=null&&br(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ro)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)Tg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(x(166));if(n=Gn(as.current),Gn(Lt.current),Ks(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(s=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:Qs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Ae(t),null;case 13:if(ee(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Ze!==null&&t.mode&1&&!(t.flags&128))Hm(),Vr(),t.flags|=98560,s=!1;else if(s=Ks(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(x(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[At]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),s=!1}else wt!==null&&(Mu(wt),wt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?_e===0&&(_e=3):sd())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Qr(),Iu(e,t),e===null&&is(t.stateNode.containerInfo),Ae(t),null;case 10:return zc(t.type._context),Ae(t),null;case 17:return Ke(t.type)&&Po(),Ae(t),null;case 19:if(ee(ie),s=t.memoizedState,s===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ei(s,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fo(e),o!==null){for(t.flags|=128,Ei(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(ie,ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&he()>Yr&&(t.flags|=128,r=!0,Ei(s,!1),t.lanes=4194304)}else{if(!r)if(e=Fo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ei(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!te)return Ae(t),null}else 2*he()-s.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,r=!0,Ei(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=he(),t.sibling=null,n=ie.current,J(ie,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return id(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(x(156,t.tag))}function jw(e,t){switch(jc(t),t.tag){case 1:return Ke(t.type)&&Po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),ee(Qe),ee(Le),Qc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gc(t),null;case 13:if(ee(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ie),null;case 4:return Qr(),null;case 10:return zc(t.type._context),null;case 22:case 23:return id(),null;case 24:return null;default:return null}}var Xs=!1,Oe=!1,Uw=typeof WeakSet=="function"?WeakSet:Set,P=null;function Ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function Ru(e,t,n){try{n()}catch(r){ae(e,t,r)}}var ch=!1;function $w(e,t){if(fu=To,e=bm(),Mc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,c=e,f=null;t:for(;;){for(var h;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(h=c.firstChild)!==null;)f=c,c=h;for(;;){if(c===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(a=o),(h=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(hu={focusedElem:e,selectionRange:n},To=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,E=p.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:vt(t.type,y),E);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(C){ae(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return p=ch,ch=!1,p}function Bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ru(t,n,s)}i=i.next}while(i!==r)}}function El(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ng(e){var t=e.alternate;t!==null&&(e.alternate=null,Ng(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[os],delete t[gu],delete t[Cw],delete t[xw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ig(e){return e.tag===5||e.tag===3||e.tag===4}function dh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ro));else if(r!==4&&(e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}function Au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}var Te=null,yt=!1;function sn(e,t,n){for(n=n.child;n!==null;)Rg(e,t,n),n=n.sibling}function Rg(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 5:Oe||Ir(n,t);case 6:var r=Te,i=yt;Te=null,sn(e,t,n),Te=r,yt=i,Te!==null&&(yt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(yt?(e=Te,n=n.stateNode,e.nodeType===8?pa(e.parentNode,n):e.nodeType===1&&pa(e,n),ts(e)):pa(Te,n.stateNode));break;case 4:r=Te,i=yt,Te=n.stateNode.containerInfo,yt=!0,sn(e,t,n),Te=r,yt=i;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ru(n,t,o),i=i.next}while(i!==r)}sn(e,t,n);break;case 1:if(!Oe&&(Ir(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ae(n,t,l)}sn(e,t,n);break;case 21:sn(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,sn(e,t,n),Oe=r):sn(e,t,n);break;default:sn(e,t,n)}}function fh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uw),t.forEach(function(r){var i=Yw.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,yt=!1;break e;case 3:Te=l.stateNode.containerInfo,yt=!0;break e;case 4:Te=l.stateNode.containerInfo,yt=!0;break e}l=l.return}if(Te===null)throw Error(x(160));Rg(s,o,i),Te=null,yt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ae(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pg(t,e),t=t.sibling}function Pg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Pt(e),r&4){try{Bi(3,e,e.return),El(3,e)}catch(y){ae(e,e.return,y)}try{Bi(5,e,e.return)}catch(y){ae(e,e.return,y)}}break;case 1:_t(t,e),Pt(e),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(_t(t,e),Pt(e),r&512&&n!==null&&Ir(n,n.return),e.flags&32){var i=e.stateNode;try{Xi(i,"")}catch(y){ae(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Jp(i,s),nu(l,o);var u=nu(l,s);for(o=0;o<a.length;o+=2){var d=a[o],c=a[o+1];d==="style"?rm(i,c):d==="dangerouslySetInnerHTML"?tm(i,c):d==="children"?Xi(i,c):xc(i,d,c,u)}switch(l){case"input":Xa(i,s);break;case"textarea":Zp(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?br(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?br(i,!!s.multiple,s.defaultValue,!0):br(i,!!s.multiple,s.multiple?[]:"",!1))}i[os]=s}catch(y){ae(e,e.return,y)}}break;case 6:if(_t(t,e),Pt(e),r&4){if(e.stateNode===null)throw Error(x(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){ae(e,e.return,y)}}break;case 3:if(_t(t,e),Pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ts(t.containerInfo)}catch(y){ae(e,e.return,y)}break;case 4:_t(t,e),Pt(e);break;case 13:_t(t,e),Pt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nd=he())),r&4&&fh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||d,_t(t,e),Oe=u):_t(t,e),Pt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(c=P=d;P!==null;){switch(f=P,h=f.child,f.tag){case 0:case 11:case 14:case 15:Bi(4,f,f.return);break;case 1:Ir(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){ae(r,n,y)}}break;case 5:Ir(f,f.return);break;case 22:if(f.memoizedState!==null){ph(c);continue}}h!==null?(h.return=f,P=h):ph(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=nm("display",o))}catch(y){ae(e,e.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){ae(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:_t(t,e),Pt(e),r&4&&fh(e);break;case 21:break;default:_t(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ig(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xi(i,""),r.flags&=-33);var s=dh(e);Au(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=dh(e);bu(e,l,o);break;default:throw Error(x(161))}}catch(a){ae(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bw(e,t,n){P=e,bg(e)}function bg(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var i=P,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Oe;l=Xs;var u=Oe;if(Xs=o,(Oe=a)&&!u)for(P=i;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?mh(i):a!==null?(a.return=o,P=a):mh(i);for(;s!==null;)P=s,bg(s),s=s.sibling;P=i,Xs=l,Oe=u}hh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,P=s):hh(e)}}function hh(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||El(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Xf(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xf(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&ts(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}Oe||t.flags&512&&Pu(t)}catch(f){ae(t,t.return,f)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function ph(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function mh(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{El(4,t)}catch(a){ae(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ae(t,i,a)}}var s=t.return;try{Pu(t)}catch(a){ae(t,s,a)}break;case 5:var o=t.return;try{Pu(t)}catch(a){ae(t,o,a)}}}catch(a){ae(t,t.return,a)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var zw=Math.ceil,$o=en.ReactCurrentDispatcher,ed=en.ReactCurrentOwner,dt=en.ReactCurrentBatchConfig,W=0,ke=null,me=null,Ie=0,Xe=0,Rr=Fn(0),_e=0,fs=null,rr=0,Cl=0,td=0,zi=null,We=null,nd=0,Yr=1/0,Ut=null,Bo=!1,Ou=null,Sn=null,Js=!1,pn=null,zo=0,Wi=0,Du=null,go=-1,_o=0;function je(){return W&6?he():go!==-1?go:go=he()}function kn(e){return e.mode&1?W&2&&Ie!==0?Ie&-Ie:kw.transition!==null?(_o===0&&(_o=mm()),_o):(e=V,e!==0||(e=window.event,e=e===void 0?16:Cm(e.type)),e):1}function St(e,t,n,r){if(50<Wi)throw Wi=0,Du=null,Error(x(185));Ss(e,n,r),(!(W&2)||e!==ke)&&(e===ke&&(!(W&2)&&(Cl|=n),_e===4&&cn(e,Ie)),Ye(e,r),n===1&&W===0&&!(t.mode&1)&&(Yr=he()+500,vl&&jn()))}function Ye(e,t){var n=e.callbackNode;k0(e,t);var r=ko(e,e===ke?Ie:0);if(r===0)n!==null&&Sf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sf(n),t===1)e.tag===0?Sw(gh.bind(null,e)):Bm(gh.bind(null,e)),ww(function(){!(W&6)&&jn()}),n=null;else{switch(gm(r)){case 1:n=Ic;break;case 4:n=hm;break;case 16:n=So;break;case 536870912:n=pm;break;default:n=So}n=Ug(n,Ag.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ag(e,t){if(go=-1,_o=0,W&6)throw Error(x(327));var n=e.callbackNode;if(Mr()&&e.callbackNode!==n)return null;var r=ko(e,e===ke?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wo(e,r);else{t=r;var i=W;W|=2;var s=Dg();(ke!==e||Ie!==t)&&(Ut=null,Yr=he()+500,Yn(e,t));do try{Vw();break}catch(l){Og(e,l)}while(1);Bc(),$o.current=s,W=i,me!==null?t=0:(ke=null,Ie=0,t=_e)}if(t!==0){if(t===2&&(i=lu(e),i!==0&&(r=i,t=Lu(e,i))),t===1)throw n=fs,Yn(e,0),cn(e,r),Ye(e,he()),n;if(t===6)cn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Ww(i)&&(t=Wo(e,r),t===2&&(s=lu(e),s!==0&&(r=s,t=Lu(e,s))),t===1))throw n=fs,Yn(e,0),cn(e,r),Ye(e,he()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(x(345));case 2:$n(e,We,Ut);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=nd+500-he(),10<t)){if(ko(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mu($n.bind(null,e,We,Ut),t);break}$n(e,We,Ut);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-xt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zw(r/1960))-r,10<r){e.timeoutHandle=mu($n.bind(null,e,We,Ut),r);break}$n(e,We,Ut);break;case 5:$n(e,We,Ut);break;default:throw Error(x(329))}}}return Ye(e,he()),e.callbackNode===n?Ag.bind(null,e):null}function Lu(e,t){var n=zi;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=We,We=n,t!==null&&Mu(t)),e}function Mu(e){We===null?We=e:We.push.apply(We,e)}function Ww(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~td,t&=~Cl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function gh(e){if(W&6)throw Error(x(327));Mr();var t=ko(e,0);if(!(t&1))return Ye(e,he()),null;var n=Wo(e,t);if(e.tag!==0&&n===2){var r=lu(e);r!==0&&(t=r,n=Lu(e,r))}if(n===1)throw n=fs,Yn(e,0),cn(e,t),Ye(e,he()),n;if(n===6)throw Error(x(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,We,Ut),Ye(e,he()),null}function rd(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Yr=he()+500,vl&&jn())}}function ir(e){pn!==null&&pn.tag===0&&!(W&6)&&Mr();var t=W;W|=1;var n=dt.transition,r=V;try{if(dt.transition=null,V=1,e)return e()}finally{V=r,dt.transition=n,W=t,!(W&6)&&jn()}}function id(){Xe=Rr.current,ee(Rr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yw(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:Qr(),ee(Qe),ee(Le),Qc();break;case 5:Gc(r);break;case 4:Qr();break;case 13:ee(ie);break;case 19:ee(ie);break;case 10:zc(r.type._context);break;case 22:case 23:id()}n=n.return}if(ke=e,me=e=Tn(e.current,null),Ie=Xe=t,_e=0,fs=null,td=Cl=rr=0,We=zi=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vn=null}return e}function Og(e,t){do{var n=me;try{if(Bc(),ho.current=Uo,jo){for(var r=se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jo=!1}if(nr=0,Ee=ge=se=null,$i=!1,us=0,ed.current=null,n===null||n.return===null){_e=1,fs=t,me=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=rh(o);if(h!==null){h.flags&=-257,ih(h,o,l,s,t),h.mode&1&&nh(s,u,t),t=h,a=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(a),t.updateQueue=y}else p.add(a);break e}else{if(!(t&1)){nh(s,u,t),sd();break e}a=Error(x(426))}}else if(te&&l.mode&1){var E=rh(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ih(E,o,l,s,t),Uc(Kr(a,l));break e}}s=a=Kr(a,l),_e!==4&&(_e=2),zi===null?zi=[s]:zi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=gg(s,a,t);qf(s,g);break e;case 1:l=a;var m=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Sn===null||!Sn.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=_g(s,l,t);qf(s,C);break e}}s=s.return}while(s!==null)}Mg(n)}catch(T){t=T,me===n&&n!==null&&(me=n=n.return);continue}break}while(1)}function Dg(){var e=$o.current;return $o.current=Uo,e===null?Uo:e}function sd(){(_e===0||_e===3||_e===2)&&(_e=4),ke===null||!(rr&268435455)&&!(Cl&268435455)||cn(ke,Ie)}function Wo(e,t){var n=W;W|=2;var r=Dg();(ke!==e||Ie!==t)&&(Ut=null,Yn(e,t));do try{Hw();break}catch(i){Og(e,i)}while(1);if(Bc(),W=n,$o.current=r,me!==null)throw Error(x(261));return ke=null,Ie=0,_e}function Hw(){for(;me!==null;)Lg(me)}function Vw(){for(;me!==null&&!g0();)Lg(me)}function Lg(e){var t=jg(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?Mg(e):me=t,ed.current=null}function Mg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jw(n,t),n!==null){n.flags&=32767,me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,me=null;return}}else if(n=Fw(n,t,Xe),n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);_e===0&&(_e=5)}function $n(e,t,n){var r=V,i=dt.transition;try{dt.transition=null,V=1,Gw(e,t,n,r)}finally{dt.transition=i,V=r}return null}function Gw(e,t,n,r){do Mr();while(pn!==null);if(W&6)throw Error(x(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(x(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(T0(e,s),e===ke&&(me=ke=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Js||(Js=!0,Ug(So,function(){return Mr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dt.transition,dt.transition=null;var o=V;V=1;var l=W;W|=4,ed.current=null,$w(e,n),Pg(n,e),fw(hu),To=!!fu,hu=fu=null,e.current=n,Bw(n),_0(),W=l,V=o,dt.transition=s}else e.current=n;if(Js&&(Js=!1,pn=e,zo=i),s=e.pendingLanes,s===0&&(Sn=null),w0(n.stateNode),Ye(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bo)throw Bo=!1,e=Ou,Ou=null,e;return zo&1&&e.tag!==0&&Mr(),s=e.pendingLanes,s&1?e===Du?Wi++:(Wi=0,Du=e):Wi=0,jn(),null}function Mr(){if(pn!==null){var e=gm(zo),t=dt.transition,n=V;try{if(dt.transition=null,V=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,zo=0,W&6)throw Error(x(331));var i=W;for(W|=4,P=e.current;P!==null;){var s=P,o=s.child;if(P.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Bi(8,d,s)}var c=d.child;if(c!==null)c.return=d,P=c;else for(;P!==null;){d=P;var f=d.sibling,h=d.return;if(Ng(d),d===u){P=null;break}if(f!==null){f.return=h,P=f;break}P=h}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}P=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,P=o;else e:for(;P!==null;){if(s=P,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bi(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,P=g;break e}P=s.return}}var m=e.current;for(P=m;P!==null;){o=P;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,P=_;else e:for(o=m;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:El(9,l)}}catch(T){ae(l,l.return,T)}if(l===o){P=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,P=C;break e}P=l.return}}if(W=i,jn(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(hl,e)}catch{}r=!0}return r}finally{V=n,dt.transition=t}}return!1}function _h(e,t,n){t=Kr(n,t),t=gg(e,t,1),e=xn(e,t,1),t=je(),e!==null&&(Ss(e,1,t),Ye(e,t))}function ae(e,t,n){if(e.tag===3)_h(e,e,n);else for(;t!==null;){if(t.tag===3){_h(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=Kr(n,e),e=_g(t,e,1),t=xn(t,e,1),e=je(),t!==null&&(Ss(t,1,e),Ye(t,e));break}}t=t.return}}function Qw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Ie&n)===n&&(_e===4||_e===3&&(Ie&130023424)===Ie&&500>he()-nd?Yn(e,0):td|=n),Ye(e,t)}function Fg(e,t){t===0&&(e.mode&1?(t=zs,zs<<=1,!(zs&130023424)&&(zs=4194304)):t=1);var n=je();e=qt(e,t),e!==null&&(Ss(e,t,n),Ye(e,n))}function Kw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fg(e,n)}function Yw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(t),Fg(e,n)}var jg;jg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,Mw(e,t,n);He=!!(e.flags&131072)}else He=!1,te&&t.flags&1048576&&zm(t,Oo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;mo(e,t),e=t.pendingProps;var i=Hr(t,Le.current);Lr(t,n),i=Yc(null,t,r,e,i,n);var s=qc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(s=!0,bo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hc(t),i.updater=wl,t.stateNode=i,i._reactInternals=t,Cu(t,r,e,n),t=ku(null,t,r,!0,s,n)):(t.tag=0,te&&s&&Fc(t),Fe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(mo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Xw(r),e=vt(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=lh(null,t,r,e,n);break e;case 11:t=sh(null,t,r,e,n);break e;case 14:t=oh(null,t,r,vt(r.type,e),n);break e}throw Error(x(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),Su(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),lh(e,t,r,i,n);case 3:e:{if(Eg(t),e===null)throw Error(x(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Km(e,t),Mo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Kr(Error(x(423)),t),t=ah(e,t,r,n,i);break e}else if(r!==i){i=Kr(Error(x(424)),t),t=ah(e,t,r,n,i);break e}else for(Ze=Cn(t.stateNode.containerInfo.firstChild),tt=t,te=!0,wt=null,n=Gm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),r===i){t=Xt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return Ym(t),e===null&&yu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,pu(r,i)?o=null:s!==null&&pu(r,s)&&(t.flags|=32),wg(e,t),Fe(e,t,o,n),t.child;case 6:return e===null&&yu(t),null;case 13:return Cg(e,t,n);case 4:return Vc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gr(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),sh(e,t,r,i,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,J(Do,r._currentValue),r._currentValue=o,s!==null)if(Tt(s.value,o)){if(s.children===i.children&&!Qe.current){t=Xt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Ht(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),wu(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wu(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Fe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Lr(t,n),i=ft(i),r=r(i),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,i=vt(r,t.pendingProps),i=vt(r.type,i),oh(e,t,r,i,n);case 15:return vg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),mo(e,t),t.tag=1,Ke(r)?(e=!0,bo(t)):e=!1,Lr(t,n),mg(t,r,i),Cu(t,r,i,n),ku(null,t,r,!0,e,n);case 19:return xg(e,t,n);case 22:return yg(e,t,n)}throw Error(x(156,t.tag))};function Ug(e,t){return fm(e,t)}function qw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new qw(e,t,n,r)}function od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xw(e){if(typeof e=="function")return od(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kc)return 11;if(e===Tc)return 14}return 2}function Tn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")od(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case yr:return qn(n.children,i,s,t);case Sc:o=8,i|=8;break;case Ga:return e=ut(12,n,t,i|2),e.elementType=Ga,e.lanes=s,e;case Qa:return e=ut(13,n,t,i),e.elementType=Qa,e.lanes=s,e;case Ka:return e=ut(19,n,t,i),e.elementType=Ka,e.lanes=s,e;case Yp:return xl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qp:o=10;break e;case Kp:o=9;break e;case kc:o=11;break e;case Tc:o=14;break e;case ln:o=16,r=null;break e}throw Error(x(130,e==null?e:typeof e,""))}return t=ut(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function qn(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function xl(e,t,n,r){return e=ut(22,e,r,t),e.elementType=Yp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ca(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function xa(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jw(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ld(e,t,n,r,i,s,o,l,a){return e=new Jw(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ut(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hc(s),e}function Zw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $g(e){if(!e)return On;e=e._reactInternals;e:{if(dr(e)!==e||e.tag!==1)throw Error(x(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(x(171))}if(e.tag===1){var n=e.type;if(Ke(n))return $m(e,n,t)}return t}function Bg(e,t,n,r,i,s,o,l,a){return e=ld(n,r,!0,e,i,s,o,l,a),e.context=$g(null),n=e.current,r=je(),i=kn(n),s=Ht(r,i),s.callback=t??null,xn(n,s,i),e.current.lanes=i,Ss(e,i,r),Ye(e,r),e}function Sl(e,t,n,r){var i=t.current,s=je(),o=kn(i);return n=$g(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(i,t,o),e!==null&&(St(e,i,o,s),fo(e,i,o)),o}function Ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ad(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function e1(){return null}var zg=typeof reportError=="function"?reportError:function(e){console.error(e)};function ud(e){this._internalRoot=e}kl.prototype.render=ud.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));Sl(e,t,null,null)};kl.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){Sl(null,e,null,null)}),t[Yt]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ym();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Em(e)}};function cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yh(){}function t1(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ho(o);s.call(u)}}var o=Bg(t,r,e,0,null,!1,!1,"",yh);return e._reactRootContainer=o,e[Yt]=o.current,is(e.nodeType===8?e.parentNode:e),ir(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ho(a);l.call(u)}}var a=ld(e,0,!1,null,null,!1,!1,"",yh);return e._reactRootContainer=a,e[Yt]=a.current,is(e.nodeType===8?e.parentNode:e),ir(function(){Sl(t,a,n,r)}),a}function Nl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Ho(o);l.call(a)}}Sl(t,o,e,i)}else o=t1(n,t,e,i,r);return Ho(o)}_m=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ai(t.pendingLanes);n!==0&&(Rc(t,n|1),Ye(t,he()),!(W&6)&&(Yr=he()+500,jn()))}break;case 13:ir(function(){var r=qt(e,1);if(r!==null){var i=je();St(r,e,1,i)}}),ad(e,1)}};Pc=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=je();St(t,e,134217728,n)}ad(e,134217728)}};vm=function(e){if(e.tag===13){var t=kn(e),n=qt(e,t);if(n!==null){var r=je();St(n,e,t,r)}ad(e,t)}};ym=function(){return V};wm=function(e,t){var n=V;try{return V=e,t()}finally{V=n}};iu=function(e,t,n){switch(t){case"input":if(Xa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_l(r);if(!i)throw Error(x(90));Xp(r),Xa(r,i)}}}break;case"textarea":Zp(e,n);break;case"select":t=n.value,t!=null&&br(e,!!n.multiple,t,!1)}};om=rd;lm=ir;var n1={usingClientEntryPoint:!1,Events:[Ts,xr,_l,im,sm,rd]},Ci={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r1={bundleType:Ci.bundleType,version:Ci.version,rendererPackageName:Ci.rendererPackageName,rendererConfig:Ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cm(e),e===null?null:e.stateNode},findFiberByHostInstance:Ci.findFiberByHostInstance||e1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{hl=Zs.inject(r1),Dt=Zs}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(t))throw Error(x(200));return Zw(e,t,null,n)};rt.createRoot=function(e,t){if(!cd(e))throw Error(x(299));var n=!1,r="",i=zg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ld(e,1,!1,null,null,n,!1,r,i),e[Yt]=t.current,is(e.nodeType===8?e.parentNode:e),new ud(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=cm(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return ir(e)};rt.hydrate=function(e,t,n){if(!Tl(t))throw Error(x(200));return Nl(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!cd(e))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=zg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Bg(t,null,e,1,n??null,i,!1,s,o),e[Yt]=t.current,is(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kl(t)};rt.render=function(e,t,n){if(!Tl(t))throw Error(x(200));return Nl(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!Tl(e))throw Error(x(40));return e._reactRootContainer?(ir(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};rt.unstable_batchedUpdates=rd;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tl(n))throw Error(x(200));if(e==null||e._reactInternals===void 0)throw Error(x(38));return Nl(e,t,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function Wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wg)}catch(e){console.error(e)}}Wg(),Wp.exports=rt;var Hg=Wp.exports,wh=Hg;Ha.createRoot=wh.createRoot,Ha.hydrateRoot=wh.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(this,arguments)}var mn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mn||(mn={}));const Eh="popstate";function i1(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return Fu("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gg(i)}return o1(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function s1(){return Math.random().toString(36).substr(2,8)}function Ch(e,t){return{usr:e.state,key:e.key,idx:t}}function Fu(e,t,n,r){return n===void 0&&(n=null),Vo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Il(t):t,{state:n,key:t&&t.key||r||s1()})}function Gg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Il(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function o1(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=mn.Pop,a=null,u=d();u==null&&(u=0,o.replaceState(Vo({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function c(){l=mn.Pop;let E=d(),g=E==null?null:E-u;u=E,a&&a({action:l,location:y.location,delta:g})}function f(E,g){l=mn.Push;let m=Fu(y.location,E,g);n&&n(m,E),u=d()+1;let _=Ch(m,u),C=y.createHref(m);try{o.pushState(_,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(C)}s&&a&&a({action:l,location:y.location,delta:1})}function h(E,g){l=mn.Replace;let m=Fu(y.location,E,g);n&&n(m,E),u=d();let _=Ch(m,u),C=y.createHref(m);o.replaceState(_,"",C),s&&a&&a({action:l,location:y.location,delta:0})}function p(E){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof E=="string"?E:Gg(E);return m=m.replace(/ $/,"%20"),qe(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return l},get location(){return e(i,o)},listen(E){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Eh,c),a=E,()=>{i.removeEventListener(Eh,c),a=null}},createHref(E){return t(i,E)},createURL:p,encodeLocation(E){let g=p(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(E){return o.go(E)}};return y}var xh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xh||(xh={}));function l1(e,t,n){return n===void 0&&(n="/"),a1(e,t,n,!1)}function a1(e,t,n,r){let i=typeof t=="string"?Il(t):t,s=Yg(i.pathname||"/",n);if(s==null)return null;let o=Qg(e);u1(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=w1(s);l=v1(o[a],u,r)}return l}function Qg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(qe(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Fr([r,a.relativePath]),d=n.concat(a);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Qg(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:g1(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of Kg(s.path))i(s,o,a)}),t}function Kg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Kg(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function u1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const c1=/^:[\w-]+$/,d1=3,f1=2,h1=1,p1=10,m1=-2,Sh=e=>e==="*";function g1(e,t){let n=e.split("/"),r=n.length;return n.some(Sh)&&(r+=m1),t&&(r+=f1),n.filter(i=>!Sh(i)).reduce((i,s)=>i+(c1.test(s)?d1:s===""?h1:p1),r)}function _1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function v1(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",c=kh({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),f=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=kh({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:Fr([s,c.pathname]),pathnameBase:E1(Fr([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=Fr([s,c.pathnameBase]))}return o}function kh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=y1(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:h}=d;if(f==="*"){let y=l[c]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[c];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function y1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Vg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function w1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Fr=e=>e.join("/").replace(/\/\/+/g,"/"),E1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function C1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qg=["post","put","patch","delete"];new Set(qg);const x1=["get",...qg];new Set(x1);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(this,arguments)}const S1=w.createContext(null),k1=w.createContext(null),Xg=w.createContext(null),Rl=w.createContext(null),Pl=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Jg=w.createContext(null);function dd(){return w.useContext(Rl)!=null}function T1(){return dd()||qe(!1),w.useContext(Rl).location}function N1(e,t){return I1(e,t)}function I1(e,t,n,r){dd()||qe(!1);let{navigator:i,static:s}=w.useContext(Xg),{matches:o}=w.useContext(Pl),l=o[o.length-1],a=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=T1(),c;if(t){var f;let g=typeof t=="string"?Il(t):t;u==="/"||(f=g.pathname)!=null&&f.startsWith(u)||qe(!1),c=g}else c=d;let h=c.pathname||"/",p=h;if(u!=="/"){let g=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=!s&&n&&n.matches&&n.matches.length>0?n.matches:l1(e,{pathname:p}),E=O1(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Fr([u,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Fr([u,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return t&&E?w.createElement(Rl.Provider,{value:{location:Go({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:mn.Pop}},E):E}function R1(){let e=F1(),t=C1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}const P1=w.createElement(R1,null);class b1 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Pl.Provider,{value:this.props.routeContext},w.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A1(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(S1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Pl.Provider,{value:t},r)}function O1(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);d>=0||qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let c=o[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:h}=n,p=c.route.loader&&f[c.route.id]===void 0&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,c,f)=>{let h,p=!1,y=null,E=null;n&&(h=l&&c.route.id?l[c.route.id]:void 0,y=c.route.errorElement||P1,a&&(u<0&&f===0?(j1("route-fallback",!1),p=!0,E=null):u===f&&(p=!0,E=c.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),m=()=>{let _;return h?_=y:p?_=E:c.route.Component?_=w.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=d,w.createElement(A1,{match:c,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?w.createElement(b1,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var ju=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ju||{});function D1(e){let t=w.useContext(k1);return t||qe(!1),t}function L1(e){let t=w.useContext(Pl);return t||qe(!1),t}function M1(e){let t=L1(),n=t.matches[t.matches.length-1];return n.route.id||qe(!1),n.route.id}function F1(){var e;let t=w.useContext(Jg),n=D1(ju.UseRouteError),r=M1(ju.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}const Th={};function j1(e,t,n){!t&&!Th[e]&&(Th[e]=!0)}function U1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function gn(e){qe(!1)}function $1(e){let{basename:t="/",children:n=null,location:r,navigationType:i=mn.Pop,navigator:s,static:o=!1,future:l}=e;dd()&&qe(!1);let a=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:a,navigator:s,static:o,future:Go({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=Il(r));let{pathname:d="/",search:c="",hash:f="",state:h=null,key:p="default"}=r,y=w.useMemo(()=>{let E=Yg(d,a);return E==null?null:{location:{pathname:E,search:c,hash:f,state:h,key:p},navigationType:i}},[a,d,c,f,h,p,i]);return y==null?null:w.createElement(Xg.Provider,{value:u},w.createElement(Rl.Provider,{children:n,value:y}))}function Zg(e){let{children:t,location:n}=e;return N1(Uu(t),n)}new Promise(()=>{});function Uu(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,Uu(r.props.children,s));return}r.type!==gn&&qe(!1),!r.props.index||!r.props.children||qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Uu(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const B1="6";try{window.__reactRouterVersion=B1}catch{}const z1="startTransition",Nh=zr[z1];function W1(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=i1({window:i,v5Compat:!0}));let o=s.current,[l,a]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=w.useCallback(c=>{u&&Nh?Nh(()=>a(c)):a(c)},[a,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>U1(r),[r]),w.createElement($1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Ih;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ih||(Ih={}));var Rh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rh||(Rh={}));var e_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ph=M.createContext&&M.createContext(e_),Nn=globalThis&&globalThis.__assign||function(){return Nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Nn.apply(this,arguments)},H1=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function t_(e){return e&&e.map(function(t,n){return M.createElement(t.tag,Nn({key:n},t.attr),t_(t.child))})}function fd(e){return function(t){return M.createElement(V1,Nn({attr:Nn({},e.attr)},t),t_(e.child))}}function V1(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=H1(e,["attr","size","title"]),l=i||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),M.createElement("svg",Nn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:Nn(Nn({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&M.createElement("title",null,s),e.children)};return Ph!==void 0?M.createElement(Ph.Consumer,null,function(n){return t(n)}):t(e_)}function n_(e){return fd({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function r_(e){return fd({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function i_(e){return fd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}var G1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Q1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tn=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...a},u)=>w.createElement("svg",{ref:u,...G1,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${Q1(e)}`,...a},[...t.map(([d,c])=>w.createElement(d,c)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},K1=tn("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Y1=tn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),bh=tn("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),q1=tn("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),X1=tn("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),J1=tn("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),s_=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Z1=tn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),hd=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),o_=()=>{const[e,t]=w.useState(["A","B","C","D"]),[n,r]=w.useState([]),[i,s]=w.useState({A:"",B:"",C:"",D:""}),o=()=>{const h="ABCDEFGHIJKLMNOPQRSTUVWXYZ",p=new Set(e),y=Array.from(h).find(E=>!p.has(E));y&&(t([...e,y]),s(E=>({...E,[y]:""})))},l=h=>{if(e.length<=2){alert("Minimum 2 players required");return}t(e.filter(p=>p!==h)),s(p=>{const y={...p};return delete y[h],y})},a=h=>{const p={};return e.forEach(y=>{let E=0;e.forEach(g=>{y!==g&&(E+=(h[y]-h[g])*-1)}),p[y]=E}),p},u=()=>{const h=e.reduce((p,y)=>(p[y]=0,p),{});return n.forEach(p=>{Object.keys(p.differences).forEach(y=>{h.hasOwnProperty(y)&&(h[y]+=p.differences[y])})}),h},d=(h,p)=>{s(y=>({...y,[h]:p}))},c=()=>{if(Object.entries(i).filter(([E])=>e.includes(E)).some(([E,g])=>g===""||isNaN(g))){alert("Please enter valid numbers for all players");return}const h=Object.entries(i).filter(([E])=>e.includes(E)).reduce((E,[g,m])=>(E[g]=Number(m),E),{}),p=a(h);r(E=>[...E,{roundNumber:E.length+1,scores:h,differences:p}]);const y=e.reduce((E,g)=>(E[g]="",E),{});s(y)},f=u();return v.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:v.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[v.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-12",children:"Place Calculator"}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-white",children:"Input Round Scores"}),v.jsx("button",{onClick:o,className:"p-2 text-emerald-400 hover:text-emerald-300 transition-colors",title:"Add Player",children:v.jsx(J1,{size:24})})]}),v.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map(h=>v.jsxs("div",{className:"relative",children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Player ",h]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"number",value:i[h],onChange:p=>d(h,p.target.value),className:"block w-full bg-gray-700 border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),v.jsx("button",{onClick:()=>l(h),className:"text-red-400 hover:text-red-300 transition-colors",title:"Remove Player",children:v.jsx(q1,{size:24})})]})]},h))}),v.jsx("button",{onClick:c,className:"mt-6 w-full bg-blue-600 hover:bg-blue-500 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:"Submit Round"})]}),v.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700",children:[v.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Cumulative Results"}),v.jsx("div",{className:"space-y-3",children:Object.entries(f).map(([h,p])=>v.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-700 rounded-lg",children:[v.jsxs("span",{className:"font-medium text-gray-200",children:["Player ",h]}),v.jsxs("span",{className:`font-bold ${p>0?"text-emerald-400":p<0?"text-red-400":"text-gray-400"}`,children:[p>0?"+":"",p]})]},h))})]})]}),v.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700 overflow-x-auto",children:[v.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Rounds History"}),v.jsxs("table",{className:"w-full",children:[v.jsxs("thead",{children:[v.jsxs("tr",{className:"border-b border-gray-700",children:[v.jsx("th",{className:"px-4 py-3 text-left text-gray-300",children:"Round"}),v.jsx("th",{className:"px-4 py-3 text-left text-gray-300",colSpan:e.length,children:"Scores"}),v.jsx("th",{className:"px-4 py-3 text-left text-gray-300",colSpan:e.length,children:"Round +/-"})]}),v.jsxs("tr",{className:"border-b border-gray-700",children:[v.jsx("th",{className:"px-4 py-3 text-gray-300"}),e.map(h=>v.jsxs("th",{className:"px-4 py-3 text-gray-300",children:["Player ",h]},`score-${h}`)),e.map(h=>v.jsxs("th",{className:"px-4 py-3 text-gray-300",children:["Player ",h]},`diff-${h}`))]})]}),v.jsx("tbody",{children:n.map(h=>v.jsxs("tr",{className:"border-b border-gray-700",children:[v.jsx("td",{className:"px-4 py-3 text-gray-300",children:h.roundNumber}),e.map(p=>v.jsx("td",{className:"px-4 py-3 text-gray-300",children:h.scores[p]??"-"},`score-${p}`)),e.map(p=>v.jsx("td",{className:`px-4 py-3 ${h.differences[p]>0?"text-emerald-400":h.differences[p]<0?"text-red-400":"text-gray-300"}`,children:h.differences[p]!=null?v.jsxs(v.Fragment,{children:[h.differences[p]>0?"+":"",h.differences[p]]}):"-"},`diff-${p}`))]},h.roundNumber))})]})]})]})})};function l_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=l_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hi(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=l_(e))&&(r&&(r+=" "),r+=t);return r}const eE=({items:e,onItemClick:t,onDeleteItem:n,onToggleBought:r})=>v.jsx("div",{className:"backdrop-blur-lg bg-white/5 rounded-xl p-6 shadow-lg border border-white/10 transition-all duration-300",children:v.jsx("div",{className:"space-y-4",children:e.length===0?v.jsx("div",{className:"text-center p-8 text-gray-400 italic",children:"No items found. Add some items to your shopping list!"}):e.map(i=>v.jsxs("div",{className:Hi("flex items-center justify-between p-4 backdrop-blur-sm bg-gradient-to-r rounded-xl transition-all duration-300 border border-white/5 shadow-md",i.isBought?"from-gray-800/40 to-gray-800/40 opacity-60":"from-gray-800/60 to-gray-700/60 hover:from-gray-700/60 hover:to-gray-600/60"),children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>r(i),className:Hi("w-6 h-6 rounded-full flex items-center justify-center transition-all duration-300",i.isBought?"bg-gradient-to-r from-emerald-400 to-emerald-500 shadow-md":"border-2 border-white/20 hover:border-white/40"),children:i.isBought&&v.jsx(K1,{className:"w-4 h-4 text-white"})}),v.jsxs("div",{className:"flex items-center gap-3",children:[i.imageUrl&&v.jsx("div",{className:"relative h-12 w-12 rounded-md overflow-hidden shrink-0",children:v.jsx("img",{src:i.imageUrl,alt:i.name,className:"h-full w-full object-cover"})}),v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center gap-2",children:v.jsx("span",{className:Hi("text-lg font-medium",i.isBought?"line-through text-gray-400":"text-white"),children:i.name})}),i.location&&v.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i.location}),i.tags&&i.tags.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.tags.map(s=>v.jsx("span",{className:"px-2 py-1 bg-white/5 text-gray-300 rounded-md text-xs border border-white/10",children:s},s))})]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>t(i),className:"p-2 text-gray-400 hover:text-blue-300 transition-colors",children:v.jsx(X1,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>n(i.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",children:v.jsx(Z1,{className:"w-5 h-5"})})]})]},i.id))})}),tE=({showBoughtItems:e,setShowBoughtItems:t,allTags:n,selectedFilterTags:r,toggleFilterTag:i})=>v.jsx("div",{className:"backdrop-blur-lg bg-white/5 rounded-xl p-6 shadow-lg border border-white/10 transition-all duration-300",children:v.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Y1,{className:"w-5 h-5 text-blue-300"}),v.jsx("button",{onClick:()=>t(!e),className:Hi("px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300",e?"bg-gradient-to-r from-emerald-400/20 to-blue-400/20 text-emerald-300 border border-emerald-400/30":"bg-white/5 text-gray-300 hover:bg-white/10 border border-white/10"),children:e?"Show All":"To Buy"})]}),n.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(s=>v.jsx("button",{onClick:()=>i(s),className:Hi("px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300",r.includes(s)?"bg-gradient-to-r from-blue-400/20 to-purple-400/20 text-blue-300 border border-blue-400/30":"bg-white/5 text-gray-300 hover:bg-white/10 border border-white/10"),children:s},s))})]})}),nE=({onAddItem:e})=>{const[t,n]=w.useState(""),r=i=>{i.preventDefault(),t.trim()&&(e(t),n(""))};return v.jsx("div",{className:"backdrop-blur-lg bg-white/5 rounded-xl p-6 shadow-lg border border-white/10 transition-all duration-300",children:v.jsxs("form",{onSubmit:r,className:"flex gap-3",children:[v.jsx("input",{type:"text",value:t,onChange:i=>n(i.target.value),placeholder:"Add new item...",className:"flex-1 bg-gray-800/50 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300"}),v.jsx("button",{type:"submit",className:"shrink-0 bg-gradient-to-r from-emerald-400 to-blue-500 text-white px-4 py-3 rounded-lg hover:opacity-90 transition-all duration-300 shadow-lg",children:v.jsx(s_,{className:"w-5 h-5"})})]})})};var rE=Object.defineProperty,iE=(e,t,n)=>t in e?rE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sa=(e,t,n)=>(iE(e,typeof t!="symbol"?t+"":t,n),n);let sE=class{constructor(){Sa(this,"current",this.detect()),Sa(this,"handoffState","pending"),Sa(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Vt=new sE,pt=(e,t)=>{Vt.isServer?w.useEffect(e,t):w.useLayoutEffect(e,t)};function Gt(e){let t=w.useRef(e);return pt(()=>{t.current=e},[e]),t}let ne=function(e){let t=Gt(e);return M.useCallback((...n)=>t.current(...n),[t])};function bl(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function fr(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return bl(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=fr();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function pd(){let[e]=w.useState(fr);return w.useEffect(()=>()=>e.dispose(),[e]),e}function oE(){let e=typeof document>"u";return"useSyncExternalStore"in zr?(t=>t.useSyncExternalStore)(zr)(()=>()=>{},()=>!1,()=>!e):!1}function li(){let e=oE(),[t,n]=w.useState(Vt.isHandoffComplete);return t&&Vt.isHandoffComplete===!1&&n(!1),w.useEffect(()=>{t!==!0&&n(!0)},[t]),w.useEffect(()=>Vt.handoff(),[]),e?!1:t}var Ah;let ai=(Ah=M.useId)!=null?Ah:function(){let e=li(),[t,n]=M.useState(e?()=>Vt.nextId():null);return pt(()=>{t===null&&n(Vt.nextId())},[t]),t!=null?""+t:void 0};function De(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,De),r}function a_(e){return Vt.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let $u=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Wn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Wn||{}),u_=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(u_||{}),lE=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(lE||{});function aE(e=document.body){return e==null?[]:Array.from(e.querySelectorAll($u)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var c_=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(c_||{});function uE(e,t=0){var n;return e===((n=a_(e))==null?void 0:n.body)?!1:De(t,{0(){return e.matches($u)},1(){let r=e;for(;r!==null;){if(r.matches($u))return!0;r=r.parentElement}return!1}})}var cE=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(cE||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Xn(e){e==null||e.focus({preventScroll:!0})}let dE=["textarea","input"].join(",");function fE(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,dE))!=null?n:!1}function hE(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function yo(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?hE(e):e:aE(e);i.length>0&&o.length>1&&(o=o.filter(h=>!i.includes(h))),r=r??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,c=o.length,f;do{if(d>=c||d+c<=0)return 0;let h=a+d;if(t&16)h=(h+c)%c;else{if(h<0)return 3;if(h>=c)return 1}f=o[h],f==null||f.focus(u),d+=l}while(f!==s.activeElement);return t&6&&fE(f)&&f.select(),2}function d_(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function pE(){return/Android/gi.test(window.navigator.userAgent)}function mE(){return d_()||pE()}function eo(e,t,n){let r=Gt(t);w.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function f_(e,t,n){let r=Gt(t);w.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function gE(e,t,n=!0){let r=w.useRef(!1);w.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,l){if(!r.current||o.defaultPrevented)return;let a=l(o);if(a===null||!a.getRootNode().contains(a)||!a.isConnected)return;let u=function d(c){return typeof c=="function"?d(c()):Array.isArray(c)||c instanceof Set?c:[c]}(e);for(let d of u){if(d===null)continue;let c=d instanceof HTMLElement?d:d.current;if(c!=null&&c.contains(a)||o.composed&&o.composedPath().includes(c))return}return!uE(a,c_.Loose)&&a.tabIndex!==-1&&o.preventDefault(),t(o,a)}let s=w.useRef(null);eo("pointerdown",o=>{var l,a;r.current&&(s.current=((a=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:a[0])||o.target)},!0),eo("mousedown",o=>{var l,a;r.current&&(s.current=((a=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:a[0])||o.target)},!0),eo("click",o=>{mE()||s.current&&(i(o,()=>s.current),s.current=null)},!0),eo("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),f_("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Is(...e){return w.useMemo(()=>a_(...e),[...e])}let h_=Symbol();function _E(e,t=!0){return Object.assign(e,{[h_]:t})}function It(...e){let t=w.useRef(e);w.useEffect(()=>{t.current=e},[e]);let n=ne(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[h_]))?void 0:n}function md(e,t){let n=w.useRef([]),r=ne(e);w.useEffect(()=>{let i=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let l=r(t,i);return n.current=t,l}},[r,...t])}function Qo(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Ko=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ko||{}),_n=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(_n||{});function mt({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:l}){l=l??vE;let a=p_(t,e);if(s)return to(a,n,r,o,l);let u=i??0;if(u&2){let{static:d=!1,...c}=a;if(d)return to(c,n,r,o,l)}if(u&1){let{unmount:d=!0,...c}=a;return De(d?0:1,{0(){return null},1(){return to({...c,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return to(a,n,r,o,l)}function to(e,t={},n,r,i){let{as:s=n,children:o,refName:l="ref",...a}=ka(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(t));let c={};if(t){let f=!1,h=[];for(let[p,y]of Object.entries(t))typeof y=="boolean"&&(f=!0),y===!0&&h.push(p);f&&(c["data-headlessui-state"]=h.join(" "))}if(s===w.Fragment&&Object.keys(Oh(a)).length>0){if(!w.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let f=d.props,h=typeof(f==null?void 0:f.className)=="function"?(...y)=>Qo(f==null?void 0:f.className(...y),a.className):Qo(f==null?void 0:f.className,a.className),p=h?{className:h}:{};return w.cloneElement(d,Object.assign({},p_(d.props,Oh(ka(a,["ref"]))),c,u,{ref:i(d.ref,u.ref)},p))}return w.createElement(s,Object.assign({},ka(a,["ref"]),s!==w.Fragment&&u,s!==w.Fragment&&c),d)}function vE(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function p_(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let l of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return t}function st(e){var t;return Object.assign(w.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Oh(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ka(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let yE="div";var Yo=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Yo||{});function wE(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return mt({ourProps:s,theirProps:i,slot:{},defaultTag:yE,name:"Hidden"})}let Bu=st(wE),gd=w.createContext(null);gd.displayName="OpenClosedContext";var Je=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Je||{});function _d(){return w.useContext(gd)}function EE({value:e,children:t}){return M.createElement(gd.Provider,{value:e},t)}function CE(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let dn=[];CE(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&dn[0]!==t.target&&(dn.unshift(t.target),dn=dn.filter(n=>n!=null&&n.isConnected),dn.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function xE(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&SE(n)?!1:r}function SE(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var m_=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(m_||{});function g_(e,t,n,r){let i=Gt(n);w.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function Rs(){let e=w.useRef(!1);return pt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function __(e){let t=ne(e),n=w.useRef(!1);w.useEffect(()=>(n.current=!1,()=>{n.current=!0,bl(()=>{n.current&&t()})}),[t])}var Di=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Di||{});function kE(){let e=w.useRef(0);return f_("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function v_(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let TE="div";var y_=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(y_||{});function NE(e,t){let n=w.useRef(null),r=It(n,t),{initialFocus:i,containers:s,features:o=30,...l}=e;li()||(o=1);let a=Is(n);PE({ownerDocument:a},!!(o&16));let u=bE({ownerDocument:a,container:n,initialFocus:i},!!(o&2));AE({ownerDocument:a,container:n,containers:s,previousActiveElement:u},!!(o&8));let d=kE(),c=ne(y=>{let E=n.current;E&&(g=>g())(()=>{De(d.current,{[Di.Forwards]:()=>{yo(E,Wn.First,{skipElements:[y.relatedTarget]})},[Di.Backwards]:()=>{yo(E,Wn.Last,{skipElements:[y.relatedTarget]})}})})}),f=pd(),h=w.useRef(!1),p={ref:r,onKeyDown(y){y.key=="Tab"&&(h.current=!0,f.requestAnimationFrame(()=>{h.current=!1}))},onBlur(y){let E=v_(s);n.current instanceof HTMLElement&&E.add(n.current);let g=y.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(w_(E,g)||(h.current?yo(n.current,De(d.current,{[Di.Forwards]:()=>Wn.Next,[Di.Backwards]:()=>Wn.Previous})|Wn.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&Xn(y.target)))}};return M.createElement(M.Fragment,null,!!(o&4)&&M.createElement(Bu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Yo.Focusable}),mt({ourProps:p,theirProps:l,defaultTag:TE,name:"FocusTrap"}),!!(o&4)&&M.createElement(Bu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Yo.Focusable}))}let IE=st(NE),xi=Object.assign(IE,{features:y_});function RE(e=!0){let t=w.useRef(dn.slice());return md(([n],[r])=>{r===!0&&n===!1&&bl(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=dn.slice())},[e,dn,t]),ne(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function PE({ownerDocument:e},t){let n=RE(t);md(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Xn(n())},[t]),__(()=>{t&&Xn(n())})}function bE({ownerDocument:e,container:t,initialFocus:n},r){let i=w.useRef(null),s=Rs();return md(()=>{if(!r)return;let o=t.current;o&&bl(()=>{if(!s.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){i.current=l;return}}else if(o.contains(l)){i.current=l;return}n!=null&&n.current?Xn(n.current):yo(o,Wn.First)===u_.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e==null?void 0:e.activeElement})},[r]),i}function AE({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){let s=Rs();g_(e==null?void 0:e.defaultView,"focus",o=>{if(!i||!s.current)return;let l=v_(n);t.current instanceof HTMLElement&&l.add(t.current);let a=r.current;if(!a)return;let u=o.target;u&&u instanceof HTMLElement?w_(l,u)?(r.current=u,Xn(u)):(o.preventDefault(),o.stopPropagation(),Xn(a)):Xn(r.current)},!0)}function w_(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let E_=w.createContext(!1);function OE(){return w.useContext(E_)}function zu(e){return M.createElement(E_.Provider,{value:e.force},e.children)}function DE(e){let t=OE(),n=w.useContext(C_),r=Is(e),[i,s]=w.useState(()=>{if(!t&&n!==null||Vt.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return w.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),w.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),i}let LE=w.Fragment;function ME(e,t){let n=e,r=w.useRef(null),i=It(_E(d=>{r.current=d}),t),s=Is(r),o=DE(r),[l]=w.useState(()=>{var d;return Vt.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),a=w.useContext(Wu),u=li();return pt(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),pt(()=>{if(l&&a)return a.register(l)},[a,l]),__(()=>{var d;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!l?null:Hg.createPortal(mt({ourProps:{ref:i},theirProps:n,defaultTag:LE,name:"Portal"}),l):null}let FE=w.Fragment,C_=w.createContext(null);function jE(e,t){let{target:n,...r}=e,i={ref:It(t)};return M.createElement(C_.Provider,{value:n},mt({ourProps:i,theirProps:r,defaultTag:FE,name:"Popover.Group"}))}let Wu=w.createContext(null);function UE(){let e=w.useContext(Wu),t=w.useRef([]),n=ne(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=ne(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=w.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,w.useMemo(()=>function({children:s}){return M.createElement(Wu.Provider,{value:i},s)},[i])]}let $E=st(ME),BE=st(jE),Hu=Object.assign($E,{Group:BE});function zE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const WE=typeof Object.is=="function"?Object.is:zE,{useState:HE,useEffect:VE,useLayoutEffect:GE,useDebugValue:QE}=zr;function KE(e,t,n){const r=t(),[{inst:i},s]=HE({inst:{value:r,getSnapshot:t}});return GE(()=>{i.value=r,i.getSnapshot=t,Ta(i)&&s({inst:i})},[e,r,t]),VE(()=>(Ta(i)&&s({inst:i}),e(()=>{Ta(i)&&s({inst:i})})),[e]),QE(r),r}function Ta(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!WE(n,r)}catch{return!0}}function YE(e,t,n){return t()}const qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XE=!qE,JE=XE?YE:KE,ZE="useSyncExternalStore"in zr?(e=>e.useSyncExternalStore)(zr):JE;function eC(e){return ZE(e.subscribe,e.getSnapshot,e.getSnapshot)}function tC(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(l=>l()))}}}function nC(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,i=r.clientWidth-r.offsetWidth,s=e-i;n.style(r,"paddingRight",`${s}px`)}}}function rC(){return d_()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=fr();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let a=l.target.closest("a");if(!a)return;let{hash:u}=new URL(a.href),d=e.querySelector(u);d&&!r(d)&&(o=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let a=l.target;for(;a.parentElement&&r(a.parentElement);)a=a.parentElement;t.style(a,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let a=l.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let a=(l=window.scrollY)!=null?l:window.pageYOffset;s!==a&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function iC(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function sC(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Qn=tC(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:fr(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:sC(n)},i=[rC(),nC(),iC()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Qn.subscribe(()=>{let e=Qn.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Qn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Qn.dispatch("TEARDOWN",n)}});function oC(e,t,n){let r=eC(Qn),i=e?r.get(e):void 0,s=i?i.count>0:!1;return pt(()=>{if(!(!e||!t))return Qn.dispatch("PUSH",e,n),()=>Qn.dispatch("POP",e,n)},[t,e]),s}let Na=new Map,Si=new Map;function Dh(e,t=!0){pt(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function i(){var o;if(!r)return;let l=(o=Si.get(r))!=null?o:1;if(l===1?Si.delete(r):Si.set(r,l-1),l!==1)return;let a=Na.get(r);a&&(a["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",a["aria-hidden"]),r.inert=a.inert,Na.delete(r))}let s=(n=Si.get(r))!=null?n:0;return Si.set(r,s+1),s!==0||(Na.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[e,t])}function lC({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let i=w.useRef((r=n==null?void 0:n.current)!=null?r:null),s=Is(i),o=ne(()=>{var l,a,u;let d=[];for(let c of e)c!==null&&(c instanceof HTMLElement?d.push(c):"current"in c&&c.current instanceof HTMLElement&&d.push(c.current));if(t!=null&&t.current)for(let c of t.current)d.push(c);for(let c of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(c.contains(i.current)||c.contains((u=(a=i.current)==null?void 0:a.getRootNode())==null?void 0:u.host)||d.some(f=>c.contains(f))||d.push(c));return d});return{resolveContainers:o,contains:ne(l=>o().some(a=>a.contains(l))),mainTreeNodeRef:i,MainTreeNode:w.useMemo(()=>function(){return n!=null?null:M.createElement(Bu,{features:Yo.Hidden,ref:i})},[i,n])}}let vd=w.createContext(()=>{});vd.displayName="StackContext";var Vu=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Vu||{});function aC(){return w.useContext(vd)}function uC({children:e,onUpdate:t,type:n,element:r,enabled:i}){let s=aC(),o=ne((...l)=>{t==null||t(...l),s(...l)});return pt(()=>{let l=i===void 0||i===!0;return l&&o(0,n,r),()=>{l&&o(1,n,r)}},[o,n,r,i]),M.createElement(vd.Provider,{value:o},e)}let x_=w.createContext(null);function S_(){let e=w.useContext(x_);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,S_),t}return e}function cC(){let[e,t]=w.useState([]);return[e.length>0?e.join(" "):void 0,w.useMemo(()=>function(n){let r=ne(s=>(t(o=>[...o,s]),()=>t(o=>{let l=o.slice(),a=l.indexOf(s);return a!==-1&&l.splice(a,1),l}))),i=w.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return M.createElement(x_.Provider,{value:i},n.children)},[t])]}let dC="p";function fC(e,t){let n=ai(),{id:r=`headlessui-description-${n}`,...i}=e,s=S_(),o=It(t);pt(()=>s.register(r),[r,s.register]);let l={ref:o,...s.props,id:r};return mt({ourProps:l,theirProps:i,slot:s.slot||{},defaultTag:dC,name:s.name||"Description"})}let hC=st(fC),pC=Object.assign(hC,{});var mC=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(mC||{}),gC=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(gC||{});let _C={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},qo=w.createContext(null);qo.displayName="DialogContext";function Ps(e){let t=w.useContext(qo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ps),n}return t}function vC(e,t,n=()=>[document.body]){oC(e,t,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function yC(e,t){return De(t.type,_C,e,t)}let wC="div",EC=Ko.RenderStrategy|Ko.Static;function CC(e,t){let n=ai(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:l="dialog",__demoMode:a=!1,...u}=e,[d,c]=w.useState(0),f=w.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(f.current||(f.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=_d();i===void 0&&h!==null&&(i=(h&Je.Open)===Je.Open);let p=w.useRef(null),y=It(p,t),E=Is(p),g=e.hasOwnProperty("open")||h!==null,m=e.hasOwnProperty("onClose");if(!g&&!m)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!m)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let _=i?0:1,[C,T]=w.useReducer(yC,{titleId:null,descriptionId:null,panelRef:w.createRef()}),k=ne(()=>s(!1)),N=ne(le=>T({type:0,id:le})),R=li()?a?!1:_===0:!1,z=d>1,O=w.useContext(qo)!==null,[pe,b]=UE(),B={get current(){var le;return(le=C.panelRef.current)!=null?le:p.current}},{resolveContainers:ve,mainTreeNodeRef:re,MainTreeNode:ze}=lC({portals:pe,defaultContainers:[B]}),gt=z?"parent":"leaf",I=h!==null?(h&Je.Closing)===Je.Closing:!1,D=(()=>O||I?!1:R)(),L=w.useCallback(()=>{var le,jt;return(jt=Array.from((le=E==null?void 0:E.querySelectorAll("body > *"))!=null?le:[]).find(ot=>ot.id==="headlessui-portal-root"?!1:ot.contains(re.current)&&ot instanceof HTMLElement))!=null?jt:null},[re]);Dh(L,D);let Q=(()=>z?!0:R)(),K=w.useCallback(()=>{var le,jt;return(jt=Array.from((le=E==null?void 0:E.querySelectorAll("[data-headlessui-portal]"))!=null?le:[]).find(ot=>ot.contains(re.current)&&ot instanceof HTMLElement))!=null?jt:null},[re]);Dh(K,Q);let rn=(()=>!(!R||z))();gE(ve,le=>{le.preventDefault(),k()},rn);let ye=(()=>!(z||_!==0))();g_(E==null?void 0:E.defaultView,"keydown",le=>{ye&&(le.defaultPrevented||le.key===m_.Escape&&(le.preventDefault(),le.stopPropagation(),k()))});let pi=(()=>!(I||_!==0||O))();vC(E,pi,ve),w.useEffect(()=>{if(_!==0||!p.current)return;let le=new ResizeObserver(jt=>{for(let ot of jt){let Ms=ot.target.getBoundingClientRect();Ms.x===0&&Ms.y===0&&Ms.width===0&&Ms.height===0&&k()}});return le.observe(p.current),()=>le.disconnect()},[_,p,k]);let[Ft,mr]=cC(),Ry=w.useMemo(()=>[{dialogState:_,close:k,setTitleId:N},C],[_,C,k,N]),df=w.useMemo(()=>({open:_===0}),[_]),Py={ref:y,id:r,role:l,"aria-modal":_===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":Ft};return M.createElement(uC,{type:"Dialog",enabled:_===0,element:p,onUpdate:ne((le,jt)=>{jt==="Dialog"&&De(le,{[Vu.Add]:()=>c(ot=>ot+1),[Vu.Remove]:()=>c(ot=>ot-1)})})},M.createElement(zu,{force:!0},M.createElement(Hu,null,M.createElement(qo.Provider,{value:Ry},M.createElement(Hu.Group,{target:p},M.createElement(zu,{force:!1},M.createElement(mr,{slot:df,name:"Dialog.Description"},M.createElement(xi,{initialFocus:o,containers:ve,features:R?De(gt,{parent:xi.features.RestoreFocus,leaf:xi.features.All&~xi.features.FocusLock}):xi.features.None},M.createElement(b,null,mt({ourProps:Py,theirProps:u,slot:df,defaultTag:wC,features:EC,visible:_===0,name:"Dialog"}))))))))),M.createElement(ze,null))}let xC="div";function SC(e,t){let n=ai(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:s,close:o}]=Ps("Dialog.Overlay"),l=It(t),a=ne(d=>{if(d.target===d.currentTarget){if(xE(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=w.useMemo(()=>({open:s===0}),[s]);return mt({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:a},theirProps:i,slot:u,defaultTag:xC,name:"Dialog.Overlay"})}let kC="div";function TC(e,t){let n=ai(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:s},o]=Ps("Dialog.Backdrop"),l=It(t);w.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let a=w.useMemo(()=>({open:s===0}),[s]);return M.createElement(zu,{force:!0},M.createElement(Hu,null,mt({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:i,slot:a,defaultTag:kC,name:"Dialog.Backdrop"})))}let NC="div";function IC(e,t){let n=ai(),{id:r=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:s},o]=Ps("Dialog.Panel"),l=It(t,o.panelRef),a=w.useMemo(()=>({open:s===0}),[s]),u=ne(d=>{d.stopPropagation()});return mt({ourProps:{ref:l,id:r,onClick:u},theirProps:i,slot:a,defaultTag:NC,name:"Dialog.Panel"})}let RC="h2";function PC(e,t){let n=ai(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:o}]=Ps("Dialog.Title"),l=It(t);w.useEffect(()=>(o(r),()=>o(null)),[r,o]);let a=w.useMemo(()=>({open:s===0}),[s]);return mt({ourProps:{ref:l,id:r},theirProps:i,slot:a,defaultTag:RC,name:"Dialog.Title"})}let bC=st(CC),AC=st(TC),OC=st(IC),DC=st(SC),LC=st(PC),Ia=Object.assign(bC,{Backdrop:AC,Panel:OC,Overlay:DC,Title:LC,Description:pC});function MC(e=0){let[t,n]=w.useState(e),r=Rs(),i=w.useCallback(a=>{r.current&&n(u=>u|a)},[t,r]),s=w.useCallback(a=>!!(t&a),[t]),o=w.useCallback(a=>{r.current&&n(u=>u&~a)},[n,r]),l=w.useCallback(a=>{r.current&&n(u=>u^a)},[n]);return{flags:t,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:l}}function FC(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Ra(e,...t){e&&t.length>0&&e.classList.add(...t)}function Pa(e,...t){e&&t.length>0&&e.classList.remove(...t)}function jC(e,t){let n=fr();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[s,o]=[r,i].map(a=>{let[u=0]=a.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,c)=>c-d);return u}),l=s+o;if(l!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let a=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),a())})}else t();return n.add(()=>t()),n.dispose}function UC(e,t,n,r){let i=n?"enter":"leave",s=fr(),o=r!==void 0?FC(r):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=De(i,{enter:()=>t.enter,leave:()=>t.leave}),a=De(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=De(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Pa(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Ra(e,...t.base,...l,...u),s.nextFrame(()=>{Pa(e,...t.base,...l,...u),Ra(e,...t.base,...l,...a),jC(e,()=>(Pa(e,...t.base,...l),Ra(e,...t.base,...t.entered),o()))}),s.dispose}function $C({immediate:e,container:t,direction:n,classes:r,onStart:i,onStop:s}){let o=Rs(),l=pd(),a=Gt(n);pt(()=>{e&&(a.current="enter")},[e]),pt(()=>{let u=fr();l.add(u.dispose);let d=t.current;if(d&&a.current!=="idle"&&o.current)return u.dispose(),i.current(a.current),u.add(UC(d,r.current,a.current==="enter",()=>{u.dispose(),s.current(a.current)})),u.dispose},[n])}function on(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Al=w.createContext(null);Al.displayName="TransitionContext";var BC=(e=>(e.Visible="visible",e.Hidden="hidden",e))(BC||{});function zC(){let e=w.useContext(Al);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function WC(){let e=w.useContext(Ol);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ol=w.createContext(null);Ol.displayName="NestingContext";function Dl(e){return"children"in e?Dl(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function k_(e,t){let n=Gt(e),r=w.useRef([]),i=Rs(),s=pd(),o=ne((h,p=_n.Hidden)=>{let y=r.current.findIndex(({el:E})=>E===h);y!==-1&&(De(p,{[_n.Unmount](){r.current.splice(y,1)},[_n.Hidden](){r.current[y].state="hidden"}}),s.microTask(()=>{var E;!Dl(r)&&i.current&&((E=n.current)==null||E.call(n))}))}),l=ne(h=>{let p=r.current.find(({el:y})=>y===h);return p?p.state!=="visible"&&(p.state="visible"):r.current.push({el:h,state:"visible"}),()=>o(h,_n.Unmount)}),a=w.useRef([]),u=w.useRef(Promise.resolve()),d=w.useRef({enter:[],leave:[],idle:[]}),c=ne((h,p,y)=>{a.current.splice(0),t&&(t.chains.current[p]=t.chains.current[p].filter(([E])=>E!==h)),t==null||t.chains.current[p].push([h,new Promise(E=>{a.current.push(E)})]),t==null||t.chains.current[p].push([h,new Promise(E=>{Promise.all(d.current[p].map(([g,m])=>m)).then(()=>E())})]),p==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(p)):y(p)}),f=ne((h,p,y)=>{Promise.all(d.current[p].splice(0).map(([E,g])=>g)).then(()=>{var E;(E=a.current.shift())==null||E()}).then(()=>y(p))});return w.useMemo(()=>({children:r,register:l,unregister:o,onStart:c,onStop:f,wait:u,chains:d}),[l,o,r,c,f,d,u])}function HC(){}let VC=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Lh(e){var t;let n={};for(let r of VC)n[r]=(t=e[r])!=null?t:HC;return n}function GC(e){let t=w.useRef(Lh(e));return w.useEffect(()=>{t.current=Lh(e)},[e]),t}let QC="div",T_=Ko.RenderStrategy;function KC(e,t){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l,enter:a,enterFrom:u,enterTo:d,entered:c,leave:f,leaveFrom:h,leaveTo:p,...y}=e,E=w.useRef(null),g=It(E,t),m=(n=y.unmount)==null||n?_n.Unmount:_n.Hidden,{show:_,appear:C,initial:T}=zC(),[k,N]=w.useState(_?"visible":"hidden"),R=WC(),{register:z,unregister:O}=R;w.useEffect(()=>z(E),[z,E]),w.useEffect(()=>{if(m===_n.Hidden&&E.current){if(_&&k!=="visible"){N("visible");return}return De(k,{hidden:()=>O(E),visible:()=>z(E)})}},[k,E,z,O,_,m]);let pe=Gt({base:on(y.className),enter:on(a),enterFrom:on(u),enterTo:on(d),entered:on(c),leave:on(f),leaveFrom:on(h),leaveTo:on(p)}),b=GC({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l}),B=li();w.useEffect(()=>{if(B&&k==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,k,B]);let ve=T&&!C,re=C&&_&&T,ze=(()=>!B||ve?"idle":_?"enter":"leave")(),gt=MC(0),I=ne(ye=>De(ye,{enter:()=>{gt.addFlag(Je.Opening),b.current.beforeEnter()},leave:()=>{gt.addFlag(Je.Closing),b.current.beforeLeave()},idle:()=>{}})),D=ne(ye=>De(ye,{enter:()=>{gt.removeFlag(Je.Opening),b.current.afterEnter()},leave:()=>{gt.removeFlag(Je.Closing),b.current.afterLeave()},idle:()=>{}})),L=k_(()=>{N("hidden"),O(E)},R),Q=w.useRef(!1);$C({immediate:re,container:E,classes:pe,direction:ze,onStart:Gt(ye=>{Q.current=!0,L.onStart(E,ye,I)}),onStop:Gt(ye=>{Q.current=!1,L.onStop(E,ye,D),ye==="leave"&&!Dl(L)&&(N("hidden"),O(E))})});let K=y,rn={ref:g};return re?K={...K,className:Qo(y.className,...pe.current.enter,...pe.current.enterFrom)}:Q.current&&(K.className=Qo(y.className,(r=E.current)==null?void 0:r.className),K.className===""&&delete K.className),M.createElement(Ol.Provider,{value:L},M.createElement(EE,{value:De(k,{visible:Je.Open,hidden:Je.Closed})|gt.flags},mt({ourProps:rn,theirProps:K,defaultTag:QC,features:T_,visible:k==="visible",name:"Transition.Child"})))}function YC(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,o=w.useRef(null),l=It(o,t);li();let a=_d();if(n===void 0&&a!==null&&(n=(a&Je.Open)===Je.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=w.useState(n?"visible":"hidden"),c=k_(()=>{d("hidden")}),[f,h]=w.useState(!0),p=w.useRef([n]);pt(()=>{f!==!1&&p.current[p.current.length-1]!==n&&(p.current.push(n),h(!1))},[p,n]);let y=w.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);w.useEffect(()=>{if(n)d("visible");else if(!Dl(c))d("hidden");else{let _=o.current;if(!_)return;let C=_.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&d("hidden")}},[n,c]);let E={unmount:i},g=ne(()=>{var _;f&&h(!1),(_=e.beforeEnter)==null||_.call(e)}),m=ne(()=>{var _;f&&h(!1),(_=e.beforeLeave)==null||_.call(e)});return M.createElement(Ol.Provider,{value:c},M.createElement(Al.Provider,{value:y},mt({ourProps:{...E,as:w.Fragment,children:M.createElement(N_,{ref:l,...E,...s,beforeEnter:g,beforeLeave:m})},theirProps:{},defaultTag:w.Fragment,features:T_,visible:u==="visible",name:"Transition"})))}function qC(e,t){let n=w.useContext(Al)!==null,r=_d()!==null;return M.createElement(M.Fragment,null,!n&&r?M.createElement(Gu,{ref:t,...e}):M.createElement(N_,{ref:t,...e}))}let Gu=st(YC),N_=st(KC),XC=st(qC),JC=Object.assign(Gu,{Child:XC,Root:Gu});const ZC=({itemDetails:e,newTagInput:t,setNewTagInput:n,isEditingTag:r,setIsEditingTag:i,editTagValue:s,setEditTagValue:o,tagSuggestions:l,onAddNewTag:a,onSelectExistingTag:u,onRemoveTag:d,onEditTag:c,onUpdateTag:f,onKeyDown:h})=>v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Tags"}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags&&e.tags.map(p=>v.jsxs("div",{className:"group flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg border border-white/10 transition-all duration-300 hover:border-white/20",children:[v.jsx(bh,{className:"w-3 h-3 text-blue-300"}),r===p?v.jsx("input",{type:"text",value:s,onChange:y=>o(y.target.value),onKeyDown:y=>f(p,y),onBlur:()=>i(null),className:"bg-transparent border-none p-0 text-sm text-white focus:ring-0 w-20",autoFocus:!0}):v.jsx("span",{onClick:()=>c(p),className:"text-sm text-gray-300 cursor-text",children:p}),v.jsx("button",{onClick:()=>d(p),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400 transition-all duration-200",children:v.jsx(hd,{className:"w-3 h-3"})})]},p))}),l.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2",children:l.filter(p=>!e.tags.includes(p)).map(p=>v.jsxs("button",{onClick:()=>u(p),className:"flex items-center gap-1 px-3 py-1.5 bg-white/5 rounded-lg border border-white/10 transition-all duration-300 hover:bg-white/10 text-sm text-gray-400 hover:text-gray-200",children:[v.jsx(s_,{className:"w-3 h-3"}),p]},p))}),v.jsxs("form",{onSubmit:a,className:"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg border border-white/10",children:[v.jsx(bh,{className:"w-4 h-4 text-blue-300"}),v.jsx("input",{type:"text",value:t,onChange:p=>n(p.target.value),onKeyDown:h,placeholder:"Add a tag...",className:"flex-1 bg-transparent border-none text-sm text-white placeholder-gray-400 focus:ring-0 focus:outline-none p-0"})]})]})]}),ex=({isOpen:e,setIsOpen:t,item:n,itemDetails:r,setItemDetails:i,onUpdateItem:s,newTagInput:o,setNewTagInput:l,isEditingTag:a,setIsEditingTag:u,editTagValue:d,setEditTagValue:c,tagSuggestions:f,onAddNewTag:h,onSelectExistingTag:p,onRemoveTag:y,onEditTag:E,onUpdateTag:g,onKeyDown:m,onImageUpload:_,isUploading:C,uploadError:T})=>n?v.jsx(JC.Root,{show:e,as:M.Fragment,children:v.jsx(Ia,{as:"div",className:"fixed inset-0 overflow-hidden z-50",onClose:t,children:v.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[v.jsx(Ia.Overlay,{className:"absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity"}),v.jsx("div",{className:"fixed inset-y-0 right-0 pl-10 max-w-full flex",children:v.jsx("div",{className:"w-screen max-w-md",children:v.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-b from-gray-800 to-gray-900 shadow-xl border-l border-white/10",children:[v.jsxs("div",{className:"flex-1 overflow-y-auto py-6 px-4 sm:px-6",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsx(Ia.Title,{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-300 to-purple-300",children:"Item Details"}),v.jsx("button",{type:"button",className:"rounded-md text-gray-400 hover:text-white transition-colors",onClick:()=>t(!1),children:v.jsx(hd,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"mt-8 space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),v.jsx("input",{type:"text",value:r.name,onChange:k=>i(N=>({...N,name:k.target.value})),className:"block w-full bg-gray-800/70 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"Item name"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location"}),v.jsx("input",{type:"text",value:r.location,onChange:k=>i(N=>({...N,location:k.target.value})),className:"block w-full bg-gray-800/70 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"Where to buy?"})]}),v.jsx(tx,{itemDetails:r,setItemDetails:i,onImageUpload:_,isUploading:C,uploadError:T,item:n}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product URL"}),v.jsx("input",{type:"text",value:r.url,onChange:k=>i(N=>({...N,url:k.target.value})),className:"block w-full bg-gray-800/70 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"https://example.com/product"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remarks"}),v.jsx("textarea",{value:r.remarks,onChange:k=>i(N=>({...N,remarks:k.target.value})),rows:3,className:"block w-full bg-gray-800/70 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-400 focus:border-transparent resize-none transition-all duration-300",placeholder:"Any additional notes..."})]}),v.jsx(ZC,{itemDetails:r,newTagInput:o,setNewTagInput:l,isEditingTag:a,setIsEditingTag:u,editTagValue:d,setEditTagValue:c,tagSuggestions:f,onAddNewTag:h,onSelectExistingTag:p,onRemoveTag:y,onEditTag:E,onUpdateTag:g,onKeyDown:m})]})]}),v.jsx("div",{className:"border-t border-white/10 p-4",children:v.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-3 rounded-lg hover:opacity-90 transition-all duration-300 shadow-lg font-medium",onClick:s,children:"Save Changes"})})]})})})]})})}):null,tx=({itemDetails:e,setItemDetails:t,onImageUpload:n,isUploading:r,uploadError:i,item:s})=>v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image"}),v.jsxs("div",{className:"space-y-4",children:[e.imageUrl&&v.jsxs("div",{className:"relative w-full h-40 rounded-lg overflow-hidden shadow-lg border border-white/10",children:[v.jsx("img",{src:e.imageUrl,alt:"Item",className:"w-full h-full object-cover"}),v.jsx("button",{onClick:async()=>{try{n(null,s)}catch(o){console.error("Error deleting image:",o)}},className:"absolute top-2 right-2 p-1.5 bg-red-500 rounded-full hover:bg-red-600 transition-colors shadow-lg",disabled:r,children:v.jsx(hd,{className:"w-4 h-4 text-white"})})]}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsxs("label",{className:`w-full flex flex-col items-center px-4 py-6 bg-white/5 text-gray-300 rounded-lg cursor-pointer hover:bg-white/10 transition-all border border-white/10 ${r?"opacity-50 cursor-not-allowed":""}`,children:[v.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),v.jsx("span",{className:"text-sm",children:r?"Uploading...":"Upload Image"}),v.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, GIF or WEBP (max. 5MB)"}),v.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:o=>{var a;const l=(a=o.target.files)==null?void 0:a[0];l&&n(l,s)},disabled:r})]}),i&&v.jsx("p",{className:`mt-2 text-sm ${i.includes("successfully")?"text-emerald-400":"text-red-400"}`,children:i})]})]})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=function(e,t){if(!e)throw ui(t)},ui=function(e){return new Error("Firebase Database ("+I_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},nx=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},yd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,d=s>>2,c=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,h=u&63;a||(h=64,o||(f=64)),r.push(n[d],n[c],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(R_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||c==null)throw new rx;const f=s<<2|l>>4;if(r.push(f),u!==64){const h=l<<4&240|u>>2;if(r.push(h),c!==64){const p=u<<6&192|c;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class rx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P_=function(e){const t=R_(e);return yd.encodeByteArray(t,!0)},Xo=function(e){return P_(e).replace(/\./g,"")},Qu=function(e){try{return yd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(e){return b_(void 0,e)}function b_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!sx(n)||(e[n]=b_(e[n],t[n]));return e}function sx(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=()=>ox().__FIREBASE_DEFAULTS__,ax=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ux=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qu(e[1]);return t&&JSON.parse(t)},A_=()=>{try{return lx()||ax()||ux()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},cx=e=>{var t,n;return(n=(t=A_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},O_=e=>{const t=cx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},D_=()=>{var e;return(e=A_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Xo(JSON.stringify(n)),Xo(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dx())}function fx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F_(){return I_.NODE_ADMIN===!0}function hx(){try{return typeof indexedDB=="object"}catch{return!1}}function px(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="FirebaseError";class ci extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=mx,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j_.prototype.create)}}class j_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?gx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ci(i,l,r)}}function gx(e,t){return e.replace(_x,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const _x=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e){return JSON.parse(e)}function Se(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=hs(Qu(s[0])||""),n=hs(Qu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},vx=function(e){const t=U_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yx=function(e){const t=U_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Mh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jo(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ku(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Fh(s)&&Fh(o)){if(!Ku(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fh(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)r[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=l^s&(o^l),d=1518500249):(u=s^o^l,d=1859775393):c<60?(u=s&o|l&(s|o),d=2400959708):(u=s^o^l,d=3395469782);const f=(i<<5|i>>>27)+u+a+d+r[c]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function Ll(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,S(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ml=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e){return e&&e._delegate?e._delegate:e}class Xr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new bs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kx(t))try{this.getOrInitializeService({instanceIdentifier:Bn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Bn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bn){return this.instances.has(t)}getOptions(t=Bn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sx(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Bn){return this.component?this.component.multipleInstances?t:Bn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sx(e){return e===Bn?void 0:e}function kx(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new xx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(q||(q={}));const Nx={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},Ix=q.INFO,Rx={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},Px=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Rx[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $_{constructor(t){this.name=t,this._logLevel=Ix,this._logHandler=Px,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in q))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Nx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...t),this._logHandler(this,q.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...t),this._logHandler(this,q.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,q.INFO,...t),this._logHandler(this,q.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,q.WARN,...t),this._logHandler(this,q.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...t),this._logHandler(this,q.ERROR,...t)}}const bx=(e,t)=>t.some(n=>e instanceof n);let jh,Uh;function Ax(){return jh||(jh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ox(){return Uh||(Uh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,Yu=new WeakMap,z_=new WeakMap,ba=new WeakMap,wd=new WeakMap;function Dx(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(In(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&B_.set(n,e)}).catch(()=>{}),wd.set(t,e),t}function Lx(e){if(Yu.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Yu.set(e,t)}let qu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Yu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||z_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Mx(e){qu=e(qu)}function Fx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Aa(this),t,...n);return z_.set(r,t.sort?t.sort():[t]),In(r)}:Ox().includes(e)?function(...t){return e.apply(Aa(this),t),In(B_.get(this))}:function(...t){return In(e.apply(Aa(this),t))}}function jx(e){return typeof e=="function"?Fx(e):(e instanceof IDBTransaction&&Lx(e),bx(e,Ax())?new Proxy(e,qu):e)}function In(e){if(e instanceof IDBRequest)return Dx(e);if(ba.has(e))return ba.get(e);const t=jx(e);return t!==e&&(ba.set(e,t),wd.set(t,e)),t}const Aa=e=>wd.get(e);function Ux(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=In(o);return r&&o.addEventListener("upgradeneeded",a=>{r(In(o.result),a.oldVersion,a.newVersion,In(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const $x=["get","getKey","getAll","getAllKeys","count"],Bx=["put","add","delete","clear"],Oa=new Map;function $h(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Oa.get(t))return Oa.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Bx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$x.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Oa.set(t,s),s}Mx(e=>({...e,get:(t,n,r)=>$h(t,n)||e.get(t,n,r),has:(t,n)=>!!$h(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Wx(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xu="@firebase/app",Bh="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt=new $_("@firebase/app"),Hx="@firebase/app-compat",Vx="@firebase/analytics-compat",Gx="@firebase/analytics",Qx="@firebase/app-check-compat",Kx="@firebase/app-check",Yx="@firebase/auth",qx="@firebase/auth-compat",Xx="@firebase/database",Jx="@firebase/data-connect",Zx="@firebase/database-compat",eS="@firebase/functions",tS="@firebase/functions-compat",nS="@firebase/installations",rS="@firebase/installations-compat",iS="@firebase/messaging",sS="@firebase/messaging-compat",oS="@firebase/performance",lS="@firebase/performance-compat",aS="@firebase/remote-config",uS="@firebase/remote-config-compat",cS="@firebase/storage",dS="@firebase/storage-compat",fS="@firebase/firestore",hS="@firebase/vertexai-preview",pS="@firebase/firestore-compat",mS="firebase",gS="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="[DEFAULT]",_S={[Xu]:"fire-core",[Hx]:"fire-core-compat",[Gx]:"fire-analytics",[Vx]:"fire-analytics-compat",[Kx]:"fire-app-check",[Qx]:"fire-app-check-compat",[Yx]:"fire-auth",[qx]:"fire-auth-compat",[Xx]:"fire-rtdb",[Jx]:"fire-data-connect",[Zx]:"fire-rtdb-compat",[eS]:"fire-fn",[tS]:"fire-fn-compat",[nS]:"fire-iid",[rS]:"fire-iid-compat",[iS]:"fire-fcm",[sS]:"fire-fcm-compat",[oS]:"fire-perf",[lS]:"fire-perf-compat",[aS]:"fire-rc",[uS]:"fire-rc-compat",[cS]:"fire-gcs",[dS]:"fire-gcs-compat",[fS]:"fire-fst",[pS]:"fire-fst-compat",[hS]:"fire-vertex","fire-js":"fire-js",[mS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Map,vS=new Map,Zu=new Map;function zh(e,t){try{e.container.addComponent(t)}catch(n){Jt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ps(e){const t=e.name;if(Zu.has(t))return Jt.debug(`There were multiple attempts to register component ${t}.`),!1;Zu.set(t,e);for(const n of Zo.values())zh(n,e);for(const n of vS.values())zh(n,e);return!0}function W_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rn=new j_("app","Firebase",yS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=gS;function V_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ju,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Rn.create("bad-app-name",{appName:String(i)});if(n||(n=D_()),!n)throw Rn.create("no-options");const s=Zo.get(i);if(s){if(Ku(n,s.options)&&Ku(r,s.config))return s;throw Rn.create("duplicate-app",{appName:i})}const o=new Tx(i);for(const a of Zu.values())o.addComponent(a);const l=new wS(n,r,o);return Zo.set(i,l),l}function G_(e=Ju){const t=Zo.get(e);if(!t&&e===Ju&&D_())return V_();if(!t)throw Rn.create("no-app",{appName:e});return t}function Pn(e,t,n){var r;let i=(r=_S[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Jt.warn(l.join(" "));return}ps(new Xr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebase-heartbeat-database",CS=1,ms="firebase-heartbeat-store";let Da=null;function Q_(){return Da||(Da=Ux(ES,CS,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ms)}catch(n){console.warn(n)}}}}).catch(e=>{throw Rn.create("idb-open",{originalErrorMessage:e.message})})),Da}async function xS(e){try{const n=(await Q_()).transaction(ms),r=await n.objectStore(ms).get(K_(e));return await n.done,r}catch(t){if(t instanceof ci)Jt.warn(t.message);else{const n=Rn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Jt.warn(n.message)}}}async function Wh(e,t){try{const r=(await Q_()).transaction(ms,"readwrite");await r.objectStore(ms).put(t,K_(e)),await r.done}catch(n){if(n instanceof ci)Jt.warn(n.message);else{const r=Rn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jt.warn(r.message)}}}function K_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=1024,kS=30*24*60*60*1e3;class TS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=kS}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Jt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hh(),{heartbeatsToSend:r,unsentEntries:i}=NS(this._heartbeatsCache.heartbeats),s=Xo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Jt.warn(n),""}}}function Hh(){return new Date().toISOString().substring(0,10)}function NS(e,t=SS){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vh(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hx()?px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Vh(e){return Xo(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(e){ps(new Xr("platform-logger",t=>new zx(t),"PRIVATE")),ps(new Xr("heartbeat",t=>new TS(t),"PRIVATE")),Pn(Xu,Bh,e),Pn(Xu,Bh,"esm2017"),Pn("fire-js","")}RS("");var PS="firebase",bS="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(PS,bS,"app");const Gh="@firebase/database",Qh="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y_="";function AS(e){Y_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Se(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:hs(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Mt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new OS(t)}}catch{}return new DS},Kn=q_("localStorage"),ec=q_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new $_("@firebase/database"),LS=function(){let e=1;return function(){return e++}}(),X_=function(e){const t=Cx(e),n=new Ex;n.update(t);const r=n.digest();return yd.encodeByteArray(r)},As=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=As.apply(null,r):typeof r=="object"?t+=Se(r):t+=r,t+=" "}return t};let Jn=null,Kh=!0;const MS=function(e,t){S(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(jr.logLevel=q.VERBOSE,Jn=jr.log.bind(jr),t&&ec.set("logging_enabled",!0)):typeof e=="function"?Jn=e:(Jn=null,ec.remove("logging_enabled"))},Ne=function(...e){if(Kh===!0&&(Kh=!1,Jn===null&&ec.get("logging_enabled")===!0&&MS(!0)),Jn){const t=As.apply(null,e);Jn(t)}},Os=function(e){return function(...t){Ne(e,...t)}},tc=function(...e){const t="FIREBASE INTERNAL ERROR: "+As(...e);jr.error(t)},Zt=function(...e){const t=`FIREBASE FATAL ERROR: ${As(...e)}`;throw jr.error(t),new Error(t)},Ue=function(...e){const t="FIREBASE WARNING: "+As(...e);jr.warn(t)},FS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ue("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ed=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},jS=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Jr="[MIN_NAME]",sr="[MAX_NAME]",hr=function(e,t){if(e===t)return 0;if(e===Jr||t===sr)return-1;if(t===Jr||e===sr)return 1;{const n=Yh(e),r=Yh(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},US=function(e,t){return e===t?0:e<t?-1:1},ki=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Se(t))},Cd=function(e){if(typeof e!="object"||e===null)return Se(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Se(t[r]),n+=":",n+=Cd(e[t[r]]);return n+="}",n},J_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Pe(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Z_=function(e){S(!Ed(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let c="";for(a=0;a<64;a+=8){let f=parseInt(d.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},$S=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function zS(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const WS=new RegExp("^-?(0*)\\d{1,10}$"),HS=-2147483648,VS=2147483647,Yh=function(e){if(WS.test(e)){const t=Number(e);if(t>=HS&&t<=VS)return t}return null},di=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ue("Exception was thrown by user callback.",n),t},Math.floor(0))}},GS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vi=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ue(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ne("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ue(t)}}class Ur{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Ur.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="5",ev="v",tv="s",nv="r",rv="f",iv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sv="ls",ov="p",nc="ac",lv="websocket",av="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Kn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function YS(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function cv(e,t,n){S(typeof t=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let r;if(t===lv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===av)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);YS(e)&&(n.ns=e.namespace);const i=[];return Pe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.counters_={}}incrementCounter(t,n=1){Mt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return ix(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La={},Ma={};function Sd(e){const t=e.toString();return La[t]||(La[t]=new qS),La[t]}function XS(e,t){const n=e.toString();return Ma[n]||(Ma[n]=t()),Ma[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&di(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="start",ZS="close",ek="pLPCommand",tk="pRTLPCB",dv="id",fv="pw",hv="ser",nk="cb",rk="seg",ik="ts",sk="d",ok="dframe",pv=1870,mv=30,lk=pv-mv,ak=25e3,uk=3e4;class Pr{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Os(t),this.stats_=Sd(n),this.urlFn=a=>(this.appCheckToken&&(a[nc]=this.appCheckToken),cv(n,av,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new JS(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uk)),jS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kd((...s)=>{const[o,l,a,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===qh)this.id=l,this.password=a;else if(o===ZS)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[qh]="t",r[hv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[nk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ev]=xd,this.transportSessionId&&(r[tv]=this.transportSessionId),this.lastSessionId&&(r[sv]=this.lastSessionId),this.applicationId&&(r[ov]=this.applicationId),this.appCheckToken&&(r[nc]=this.appCheckToken),typeof location<"u"&&location.hostname&&iv.test(location.hostname)&&(r[nv]=rv);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pr.forceAllow_=!0}static forceDisallow(){Pr.forceDisallow_=!0}static isAvailable(){return Pr.forceAllow_?!0:!Pr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$S()&&!BS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Se(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=P_(n),i=J_(r,lk);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[ok]="t",r[dv]=t,r[fv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Se(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kd{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LS(),window[ek+this.uniqueCallbackIdentifier]=t,window[tk+this.uniqueCallbackIdentifier]=n,this.myIFrame=kd.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ne("frame writing exception"),l.stack&&Ne(l.stack),Ne(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ne("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[dv]=this.myID,t[fv]=this.myPW,t[hv]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mv+r.length<=pv;){const o=this.pendingSegs.shift();r=r+"&"+rk+i+"="+o.seg+"&"+ik+i+"="+o.ts+"&"+sk+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ak)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ne("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=16384,dk=45e3;let el=null;typeof MozWebSocket<"u"?el=MozWebSocket:typeof WebSocket<"u"&&(el=WebSocket);class Et{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Os(this.connId),this.stats_=Sd(n),this.connURL=Et.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[ev]=xd,typeof location<"u"&&location.hostname&&iv.test(location.hostname)&&(o[nv]=rv),n&&(o[tv]=n),r&&(o[sv]=r),i&&(o[nc]=i),s&&(o[ov]=s),cv(t,lv,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kn.set("previous_websocket_failure",!0);try{let r;F_(),this.mySock=new el(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Et.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&el!==null&&!Et.forceDisallow_}static previouslyFailed(){return Kn.isInMemoryStorage||Kn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=hs(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(S(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Se(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=J_(n,ck);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dk))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Et.responsesRequiredToBeHealthy=2;Et.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Pr,Et]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Et&&Et.isAvailable();let r=n&&!Et.previouslyFailed();if(t.webSocketOnly&&(n||Ue("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Et];else{const i=this.transports_=[];for(const s of gs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);gs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=6e4,hk=5e3,pk=10*1024,mk=100*1024,Fa="t",Xh="d",gk="s",Jh="r",_k="e",Zh="o",ep="a",tp="n",np="p",vk="h";class yk{constructor(t,n,r,i,s,o,l,a,u,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Os("c:"+this.id+":"),this.transportManager_=new gs(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Vi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Fa in t){const n=t[Fa];n===ep?this.upgradeIfSecondaryHealthy_():n===Jh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Zh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ki("t",t),r=ki("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:np,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ep,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ki("t",t),r=ki("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ki(Fa,t);if(Xh in t){const r=t[Xh];if(n===vk){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===tp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gk?this.onConnectionShutdown_(r):n===Jh?this.onReset_(r):n===_k?tc("Server Error: "+r):n===Zh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tc("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xd!==r&&Ue("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Vi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fk))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:np,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t){this.allowedEvents_=t,this.listeners_={},S(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){S(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends _v{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!M_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tl}getInitialEvent(t){return S(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=32,ip=768;class G{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function H(){return new G("")}function F(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Dn(e){return e.pieces_.length-e.pieceNum_}function X(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new G(e.pieces_,t)}function Td(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function wk(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function _s(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function vv(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new G(t,0)}function ue(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof G)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new G(n,0)}function U(e){return e.pieceNum_>=e.pieces_.length}function Ve(e,t){const n=F(e),r=F(t);if(n===null)return t;if(n===r)return Ve(X(e),X(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ek(e,t){const n=_s(e,0),r=_s(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=hr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Nd(e,t){if(Dn(e)!==Dn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ct(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Dn(e)>Dn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Ck{constructor(t,n){this.errorPrefix_=n,this.parts_=_s(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ml(this.parts_[r]);yv(this)}}function xk(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ml(t),yv(e)}function Sk(e){const t=e.parts_.pop();e.byteLength_-=Ml(t),e.parts_.length>0&&(e.byteLength_-=1)}function yv(e){if(e.byteLength_>ip)throw new Error(e.errorPrefix_+"has a key path longer than "+ip+" bytes ("+e.byteLength_+").");if(e.parts_.length>rp)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rp+") or object contains a cycle "+zn(e))}function zn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends _v{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Id}getInitialEvent(t){return S(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=1e3,kk=60*5*1e3,sp=30*1e3,Tk=1.3,Nk=3e4,Ik="server_kill",op=3;class Qt extends gv{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Qt.nextPersistentConnectionId_++,this.log_=Os("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ti,this.maxReconnectDelay_=kk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!F_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Id.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&tl.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Se(s)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new bs,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),S(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Qt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Mt(t,"w")){const r=qr(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ue(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||yx(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=vx(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),S(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Se(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):tc("Unrecognized action received from server: "+Se(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ti,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ti,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Nk&&(this.reconnectDelay_=Ti),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Tk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Qt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(c){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Ne("getToken() completed but was canceled"):(Ne("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new yk(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,h=>{Ue(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ik)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Ue(c),a())}}}interrupt(t){Ne("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ne("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Mh(this.interruptReasons_)&&(this.reconnectDelay_=Ti,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Cd(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new G(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Ne("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=op&&(this.reconnectDelay_=sp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ne("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=op&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Y_.replace(/\./g,"-")]=1,M_()?t["framework.cordova"]=1:fx()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=tl.getInstance().currentlyOnline();return Mh(this.interruptReasons_)&&t}}Qt.nextPersistentConnectionId_=0;Qt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new j(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new j(Jr,t),i=new j(Jr,n);return this.compare(r,i)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no;class wv extends Fl{static get __EMPTY_NODE(){return no}static set __EMPTY_NODE(t){no=t}compare(t,n){return hr(t.name,n.name)}isDefinedOn(t){throw ui("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return j.MIN}maxPost(){return new j(sr,no)}makePost(t,n){return S(typeof t=="string","KeyIndex indexValue must always be a string."),new j(t,no)}toString(){return".key"}}const $r=new wv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ce{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ce.RED,this.left=i??Ge.EMPTY_NODE,this.right=s??Ge.EMPTY_NODE}copy(t,n,r,i,s){return new Ce(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ge.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ge.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ce.RED=!0;Ce.BLACK=!1;class Rk{copy(t,n,r,i,s){return this}insert(t,n,r){return new Ce(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ge{constructor(t,n=Ge.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ge(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ce.BLACK,null,null))}remove(t){return new Ge(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ce.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ro(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ro(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ro(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ro(this.root_,null,this.comparator_,!0,t)}}Ge.EMPTY_NODE=new Rk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(e,t){return hr(e.name,t.name)}function Rd(e,t){return hr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;function bk(e){rc=e}const Ev=function(e){return typeof e=="number"?"number:"+Z_(e):"string:"+e},Cv=function(e){if(e.isLeafNode()){const t=e.val();S(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Mt(t,".sv"),"Priority must be a string or number.")}else S(e===rc||e.isEmpty(),"priority of unexpected type.");S(e===rc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp;class we{constructor(t,n=we.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cv(this.priorityNode_)}static set __childrenNodeConstructor(t){lp=t}static get __childrenNodeConstructor(){return lp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new we(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:we.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return U(t)?this:F(t)===".priority"?this.priorityNode_:we.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:we.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=F(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||Dn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,we.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ev(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Z_(this.value_):t+=this.value_,this.lazyHash_=X_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===we.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof we.__childrenNodeConstructor?-1:(S(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=we.VALUE_TYPE_ORDER.indexOf(n),s=we.VALUE_TYPE_ORDER.indexOf(r);return S(i>=0,"Unknown leaf type: "+n),S(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}we.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv,Sv;function Ak(e){xv=e}function Ok(e){Sv=e}class Dk extends Fl{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?hr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(sr,new we("[PRIORITY-POST]",Sv))}makePost(t,n){const r=xv(t);return new j(n,new we("[PRIORITY-POST]",r))}toString(){return".priority"}}const ce=new Dk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=Math.log(2);class Mk{constructor(t){const n=s=>parseInt(Math.log(s)/Lk,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const nl=function(e,t,n,r){e.sort(t);const i=function(a,u){const d=u-a;let c,f;if(d===0)return null;if(d===1)return c=e[a],f=n?n(c):c,new Ce(f,c.node,Ce.BLACK,null,null);{const h=parseInt(d/2,10)+a,p=i(a,h),y=i(h+1,u);return c=e[h],f=n?n(c):c,new Ce(f,c.node,Ce.BLACK,p,y)}},s=function(a){let u=null,d=null,c=e.length;const f=function(p,y){const E=c-p,g=c;c-=p;const m=i(E+1,g),_=e[E],C=n?n(_):_;h(new Ce(C,_.node,y,null,m))},h=function(p){u?(u.left=p,u=p):(d=p,u=p)};for(let p=0;p<a.count;++p){const y=a.nextBitIsOne(),E=Math.pow(2,a.count-(p+1));y?f(E,Ce.BLACK):(f(E,Ce.BLACK),f(E,Ce.RED))}return d},o=new Mk(e.length),l=s(o);return new Ge(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja;const _r={};class Wt{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return S(_r&&ce,"ChildrenNode.ts has not been loaded"),ja=ja||new Wt({".priority":_r},{".priority":ce}),ja}get(t){const n=qr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ge?n:null}hasIndex(t){return Mt(this.indexSet_,t.toString())}addIndex(t,n){S(t!==$r,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(j.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=nl(r,t.getCompare()):l=_r;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const d=Object.assign({},this.indexes_);return d[a]=l,new Wt(d,u)}addToIndexes(t,n){const r=Jo(this.indexes_,(i,s)=>{const o=qr(this.indexSet_,s);if(S(o,"Missing index implementation for "+s),i===_r)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(j.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),nl(l,o.getCompare())}else return _r;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new j(t.name,l))),a.insert(t,t.node)}});return new Wt(r,this.indexSet_)}removeFromIndexes(t,n){const r=Jo(this.indexes_,i=>{if(i===_r)return i;{const s=n.get(t.name);return s?i.remove(new j(t.name,s)):i}});return new Wt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ni;class A{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Cv(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ni||(Ni=new A(new Ge(Rd),null,Wt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ni}updatePriority(t){return this.children_.isEmpty()?this:new A(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Ni:n}}getChild(t){const n=F(t);return n===null?this:this.getImmediateChild(n).getChild(X(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(S(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new j(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ni:this.priorityNode_;return new A(i,o,s)}}updateChild(t,n){const r=F(t);if(r===null)return n;{S(F(t)!==".priority"||Dn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(X(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ce,(o,l)=>{n[o]=l.val(t),r++,s&&A.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Ev(this.getPriority().val())+":"),this.forEachChild(ce,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":X_(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new j(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new j(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new j(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ds?-1:0}withIndex(t){if(t===$r||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new A(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===$r||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ce),i=n.getIterator(ce);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===$r?null:this.indexMap_.get(t.toString())}}A.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Fk extends A{constructor(){super(new Ge(Rd),A.EMPTY_NODE,Wt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return A.EMPTY_NODE}isEmpty(){return!1}}const Ds=new Fk;Object.defineProperties(j,{MIN:{value:new j(Jr,A.EMPTY_NODE)},MAX:{value:new j(sr,Ds)}});wv.__EMPTY_NODE=A.EMPTY_NODE;we.__childrenNodeConstructor=A;bk(Ds);Ok(Ds);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=!0;function xe(e,t=null){if(e===null)return A.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),S(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new we(n,xe(t))}if(!(e instanceof Array)&&jk){const n=[];let r=!1;if(Pe(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=xe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new j(o,a)))}}),n.length===0)return A.EMPTY_NODE;const s=nl(n,Pk,o=>o.name,Rd);if(r){const o=nl(n,ce.getCompare());return new A(s,xe(t),new Wt({".priority":o},{".priority":ce}))}else return new A(s,xe(t),Wt.Default)}else{let n=A.EMPTY_NODE;return Pe(e,(r,i)=>{if(Mt(e,r)&&r.substring(0,1)!=="."){const s=xe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(xe(t))}}Ak(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk extends Fl{constructor(t){super(),this.indexPath_=t,S(!U(t)&&F(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?hr(t.name,n.name):s}makePost(t,n){const r=xe(t),i=A.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){const t=A.EMPTY_NODE.updateChild(this.indexPath_,Ds);return new j(sr,t)}toString(){return _s(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k extends Fl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?hr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(t,n){const r=xe(t);return new j(n,r)}toString(){return".value"}}const Bk=new $k;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(e){return{type:"value",snapshotNode:e}}function Zr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ys(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function zk(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){S(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(vs(n,l)):S(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Zr(n,r)):o.trackChildChange(ys(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ce,(i,s)=>{n.hasChild(i)||r.trackChildChange(vs(i,s))}),n.isLeafNode()||n.forEachChild(ce,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(ys(i,s,o))}else r.trackChildChange(Zr(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?A.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.indexedFilter_=new Pd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ws.getStartPost_(t),this.endPost_=ws.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new j(n,r))||(r=A.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=A.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(A.EMPTY_NODE);const s=this;return n.forEachChild(ce,(o,l)=>{s.matches(new j(o,l))||(i=i.updateImmediateChild(o,A.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ws(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new j(n,r))||(r=A.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=A.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=A.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(A.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,A.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(f,h)=>c(h,f)}else o=this.index_.getCompare();const l=t;S(l.numChildren()===this.limit_,"");const a=new j(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,a);if(d&&!r.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(ys(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(vs(n,c));const y=l.updateImmediateChild(n,A.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Zr(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:d&&o(u,a)>=0?(s!=null&&(s.trackChildChange(vs(u.name,u.node)),s.trackChildChange(Zr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,A.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jr}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ce}copy(){const t=new bd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Hk(e){return e.loadsAllData()?new Pd(e.getIndex()):e.hasLimit()?new Wk(e):new ws(e)}function ap(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ce?n="$priority":e.index_===Bk?n="$value":e.index_===$r?n="$key":(S(e.index_ instanceof Uk,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Se(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Se(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Se(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Se(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Se(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function up(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ce&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends gv{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Os("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(S(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=rl.getListenId_(t,r),l={};this.listens_[o]=l;const a=ap(t._queryParams);this.restRequest_(s+".json",a,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),qr(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=rl.getListenId_(t,n);delete this.listens_[r]}get(t){const n=ap(t._queryParams),r=t._path.toString(),i=new bs;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+wx(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=hs(l.responseText)}catch{Ue("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Ue("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.rootNode_=A.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(){return{value:null,children:new Map}}function Tv(e,t,n){if(U(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=F(t);e.children.has(r)||e.children.set(r,il());const i=e.children.get(r);t=X(t),Tv(i,t,n)}}function ic(e,t,n){e.value!==null?n(t,e.value):Gk(e,(r,i)=>{const s=new G(t.toString()+"/"+r);ic(i,s,n)})}function Gk(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Pe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=10*1e3,Kk=30*1e3,Yk=5*60*1e3;class qk{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Qk(t);const r=cp+(Kk-cp)*Math.random();Vi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Pe(t,(i,s)=>{s>0&&Mt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Vi(this.reportStats_.bind(this),Math.floor(Math.random()*2*Yk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ct||(Ct={}));function Ad(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Od(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Dd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Ct.ACK_USER_WRITE,this.source=Ad()}operationForChild(t){if(U(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new G(t));return new sl(H(),n,this.revert)}}else return S(F(this.path)===t,"operationForChild called for unrelated child."),new sl(X(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,n){this.source=t,this.path=n,this.type=Ct.LISTEN_COMPLETE}operationForChild(t){return U(this.path)?new Es(this.source,H()):new Es(this.source,X(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Ct.OVERWRITE}operationForChild(t){return U(this.path)?new or(this.source,H(),this.snap.getImmediateChild(t)):new or(this.source,X(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Ct.MERGE}operationForChild(t){if(U(this.path)){const n=this.children.subtree(new G(t));return n.isEmpty()?null:n.value?new or(this.source,H(),n.value):new ei(this.source,H(),n)}else return S(F(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ei(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(U(t))return this.isFullyInitialized()&&!this.filtered_;const n=F(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Jk(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(zk(o.childName,o.snapshotNode))}),Ii(e,i,"child_removed",t,r,n),Ii(e,i,"child_added",t,r,n),Ii(e,i,"child_moved",s,r,n),Ii(e,i,"child_changed",t,r,n),Ii(e,i,"value",t,r,n),i}function Ii(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>eT(e,l,a)),o.forEach(l=>{const a=Zk(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function Zk(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function eT(e,t,n){if(t.childName==null||n.childName==null)throw ui("Should only compare child_ events.");const r=new j(t.childName,t.snapshotNode),i=new j(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(e,t){return{eventCache:e,serverCache:t}}function Gi(e,t,n,r){return jl(new lr(t,n,r),e.serverCache)}function Nv(e,t,n,r){return jl(e.eventCache,new lr(t,n,r))}function sc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ar(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;const tT=()=>(Ua||(Ua=new Ge(US)),Ua);class Y{constructor(t,n=tT()){this.value=t,this.children=n}static fromObject(t){let n=new Y(null);return Pe(t,(r,i)=>{n=n.set(new G(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:H(),value:this.value};if(U(t))return null;{const r=F(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(X(t),n);return s!=null?{path:ue(new G(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(U(t))return this;{const n=F(t),r=this.children.get(n);return r!==null?r.subtree(X(t)):new Y(null)}}set(t,n){if(U(t))return new Y(n,this.children);{const r=F(t),s=(this.children.get(r)||new Y(null)).set(X(t),n),o=this.children.insert(r,s);return new Y(this.value,o)}}remove(t){if(U(t))return this.children.isEmpty()?new Y(null):new Y(null,this.children);{const n=F(t),r=this.children.get(n);if(r){const i=r.remove(X(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Y(null):new Y(this.value,s)}else return this}}get(t){if(U(t))return this.value;{const n=F(t),r=this.children.get(n);return r?r.get(X(t)):null}}setTree(t,n){if(U(t))return n;{const r=F(t),s=(this.children.get(r)||new Y(null)).setTree(X(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Y(this.value,o)}}fold(t){return this.fold_(H(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ue(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,H(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(U(t))return null;{const s=F(t),o=this.children.get(s);return o?o.findOnPath_(X(t),ue(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,H(),n)}foreachOnPath_(t,n,r){if(U(t))return this;{this.value&&r(n,this.value);const i=F(t),s=this.children.get(i);return s?s.foreachOnPath_(X(t),ue(n,i),r):new Y(null)}}foreach(t){this.foreach_(H(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ue(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.writeTree_=t}static empty(){return new kt(new Y(null))}}function Qi(e,t,n){if(U(t))return new kt(new Y(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Ve(i,t);return s=s.updateChild(o,n),new kt(e.writeTree_.set(i,s))}else{const i=new Y(n),s=e.writeTree_.setTree(t,i);return new kt(s)}}}function oc(e,t,n){let r=e;return Pe(n,(i,s)=>{r=Qi(r,ue(t,i),s)}),r}function dp(e,t){if(U(t))return kt.empty();{const n=e.writeTree_.setTree(t,new Y(null));return new kt(n)}}function lc(e,t){return pr(e,t)!=null}function pr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ve(n.path,t)):null}function fp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ce,(r,i)=>{t.push(new j(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new j(r,i.value))}),t}function bn(e,t){if(U(t))return e;{const n=pr(e,t);return n!=null?new kt(new Y(n)):new kt(e.writeTree_.subtree(t))}}function ac(e){return e.writeTree_.isEmpty()}function ti(e,t){return Iv(H(),e.writeTree_,t)}function Iv(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(S(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Iv(ue(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ue(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(e,t){return Av(t,e)}function nT(e,t,n,r,i){S(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Qi(e.visibleWrites,t,n)),e.lastWriteId=r}function rT(e,t,n,r){S(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=oc(e.visibleWrites,t,n),e.lastWriteId=r}function iT(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function sT(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);S(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&oT(l,r.path)?i=!1:ct(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return lT(e),!0;if(r.snap)e.visibleWrites=dp(e.visibleWrites,r.path);else{const l=r.children;Pe(l,a=>{e.visibleWrites=dp(e.visibleWrites,ue(r.path,a))})}return!0}else return!1}function oT(e,t){if(e.snap)return ct(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ct(ue(e.path,n),t))return!0;return!1}function lT(e){e.visibleWrites=Rv(e.allWrites,aT,H()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function aT(e){return e.visible}function Rv(e,t,n){let r=kt.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)ct(n,o)?(l=Ve(n,o),r=Qi(r,l,s.snap)):ct(o,n)&&(l=Ve(o,n),r=Qi(r,H(),s.snap.getChild(l)));else if(s.children){if(ct(n,o))l=Ve(n,o),r=oc(r,l,s.children);else if(ct(o,n))if(l=Ve(o,n),U(l))r=oc(r,H(),s.children);else{const a=qr(s.children,F(l));if(a){const u=a.getChild(X(l));r=Qi(r,H(),u)}}}else throw ui("WriteRecord should have .snap or .children")}}return r}function Pv(e,t,n,r,i){if(!r&&!i){const s=pr(e.visibleWrites,t);if(s!=null)return s;{const o=bn(e.visibleWrites,t);if(ac(o))return n;if(n==null&&!lc(o,H()))return null;{const l=n||A.EMPTY_NODE;return ti(o,l)}}}else{const s=bn(e.visibleWrites,t);if(!i&&ac(s))return n;if(!i&&n==null&&!lc(s,H()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ct(u.path,t)||ct(t,u.path))},l=Rv(e.allWrites,o,t),a=n||A.EMPTY_NODE;return ti(l,a)}}}function uT(e,t,n){let r=A.EMPTY_NODE;const i=pr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ce,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=bn(e.visibleWrites,t);return n.forEachChild(ce,(o,l)=>{const a=ti(bn(s,new G(o)),l);r=r.updateImmediateChild(o,a)}),fp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=bn(e.visibleWrites,t);return fp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function cT(e,t,n,r,i){S(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ue(t,n);if(lc(e.visibleWrites,s))return null;{const o=bn(e.visibleWrites,s);return ac(o)?i.getChild(n):ti(o,i.getChild(n))}}function dT(e,t,n,r){const i=ue(t,n),s=pr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=bn(e.visibleWrites,i);return ti(o,r.getNode().getImmediateChild(n))}else return null}function fT(e,t){return pr(e.visibleWrites,t)}function hT(e,t,n,r,i,s,o){let l;const a=bn(e.visibleWrites,t),u=pr(a,H());if(u!=null)l=u;else if(n!=null)l=ti(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let h=f.getNext();for(;h&&d.length<i;)c(h,r)!==0&&d.push(h),h=f.getNext();return d}else return[]}function pT(){return{visibleWrites:kt.empty(),allWrites:[],lastWriteId:-1}}function ol(e,t,n,r){return Pv(e.writeTree,e.treePath,t,n,r)}function Md(e,t){return uT(e.writeTree,e.treePath,t)}function hp(e,t,n,r){return cT(e.writeTree,e.treePath,t,n,r)}function ll(e,t){return fT(e.writeTree,ue(e.treePath,t))}function mT(e,t,n,r,i,s){return hT(e.writeTree,e.treePath,t,n,r,i,s)}function Fd(e,t,n){return dT(e.writeTree,e.treePath,t,n)}function bv(e,t){return Av(ue(e.treePath,t),e.writeTree)}function Av(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ys(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,vs(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Zr(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ys(r,t.snapshotNode,i.oldSnap));else throw ui("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Ov=new _T;class jd{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new lr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fd(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ar(this.viewCache_),s=mT(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(e){return{filter:e}}function yT(e,t){S(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),S(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function wT(e,t,n,r,i){const s=new gT;let o,l;if(n.type===Ct.OVERWRITE){const u=n;u.source.fromUser?o=uc(e,t,u.path,u.snap,r,i,s):(S(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!U(u.path),o=al(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===Ct.MERGE){const u=n;u.source.fromUser?o=CT(e,t,u.path,u.children,r,i,s):(S(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=cc(e,t,u.path,u.children,r,i,l,s))}else if(n.type===Ct.ACK_USER_WRITE){const u=n;u.revert?o=kT(e,t,u.path,r,i,s):o=xT(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===Ct.LISTEN_COMPLETE)o=ST(e,t,n.path,r,s);else throw ui("Unknown operation type: "+n.type);const a=s.getChanges();return ET(t,o,a),{viewCache:o,changes:a}}function ET(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=sc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(kv(sc(t)))}}function Dv(e,t,n,r,i,s){const o=t.eventCache;if(ll(r,n)!=null)return t;{let l,a;if(U(n))if(S(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=ar(t),d=u instanceof A?u:A.EMPTY_NODE,c=Md(r,d);l=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const u=ol(r,ar(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=F(n);if(u===".priority"){S(Dn(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=t.serverCache.getNode();const c=hp(r,n,d,a);c!=null?l=e.filter.updatePriority(d,c):l=o.getNode()}else{const d=X(n);let c;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const f=hp(r,n,o.getNode(),a);f!=null?c=o.getNode().getImmediateChild(u).updateChild(d,f):c=o.getNode().getImmediateChild(u)}else c=Fd(r,u,t.serverCache);c!=null?l=e.filter.updateChild(o.getNode(),u,c,d,i,s):l=o.getNode()}}return Gi(t,l,o.isFullyInitialized()||U(n),e.filter.filtersNodes())}}function al(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const d=o?e.filter:e.filter.getIndexedFilter();if(U(n))u=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const h=a.getNode().updateChild(n,r);u=d.updateFullNode(a.getNode(),h,null)}else{const h=F(n);if(!a.isCompleteForPath(n)&&Dn(n)>1)return t;const p=X(n),E=a.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?u=d.updatePriority(a.getNode(),E):u=d.updateChild(a.getNode(),h,E,p,Ov,null)}const c=Nv(t,u,a.isFullyInitialized()||U(n),d.filtersNodes()),f=new jd(i,c,s);return Dv(e,c,n,i,f,l)}function uc(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const d=new jd(i,t,s);if(U(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=Gi(t,u,!0,e.filter.filtersNodes());else{const c=F(n);if(c===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=Gi(t,u,l.isFullyInitialized(),l.isFiltered());else{const f=X(n),h=l.getNode().getImmediateChild(c);let p;if(U(f))p=r;else{const y=d.getCompleteChild(c);y!=null?Td(f)===".priority"&&y.getChild(vv(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=A.EMPTY_NODE}if(h.equals(p))a=t;else{const y=e.filter.updateChild(l.getNode(),c,p,f,d,o);a=Gi(t,y,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function pp(e,t){return e.eventCache.isCompleteForChild(t)}function CT(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const d=ue(n,a);pp(t,F(d))&&(l=uc(e,l,d,u,i,s,o))}),r.foreach((a,u)=>{const d=ue(n,a);pp(t,F(d))||(l=uc(e,l,d,u,i,s,o))}),l}function mp(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function cc(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;U(n)?u=r:u=new Y(null).setTree(n,r);const d=t.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const h=t.serverCache.getNode().getImmediateChild(c),p=mp(e,h,f);a=al(e,a,new G(c),p,i,s,o,l)}}),u.children.inorderTraversal((c,f)=>{const h=!t.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!h){const p=t.serverCache.getNode().getImmediateChild(c),y=mp(e,p,f);a=al(e,a,new G(c),y,i,s,o,l)}}),a}function xT(e,t,n,r,i,s,o){if(ll(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(U(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return al(e,t,n,a.getNode().getChild(n),i,s,l,o);if(U(n)){let u=new Y(null);return a.getNode().forEachChild($r,(d,c)=>{u=u.set(new G(d),c)}),cc(e,t,n,u,i,s,l,o)}else return t}else{let u=new Y(null);return r.foreach((d,c)=>{const f=ue(n,d);a.isCompleteForPath(f)&&(u=u.set(d,a.getNode().getChild(f)))}),cc(e,t,n,u,i,s,l,o)}}function ST(e,t,n,r,i){const s=t.serverCache,o=Nv(t,s.getNode(),s.isFullyInitialized()||U(n),s.isFiltered());return Dv(e,o,n,r,Ov,i)}function kT(e,t,n,r,i,s){let o;if(ll(r,n)!=null)return t;{const l=new jd(r,t,i),a=t.eventCache.getNode();let u;if(U(n)||F(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=ol(r,ar(t));else{const c=t.serverCache.getNode();S(c instanceof A,"serverChildren would be complete if leaf node"),d=Md(r,c)}d=d,u=e.filter.updateFullNode(a,d,s)}else{const d=F(n);let c=Fd(r,d,t.serverCache);c==null&&t.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?u=e.filter.updateChild(a,d,c,X(n),l,s):t.eventCache.getNode().hasChild(d)?u=e.filter.updateChild(a,d,A.EMPTY_NODE,X(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=ol(r,ar(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||ll(r,H())!=null,Gi(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Pd(r.getIndex()),s=Hk(r);this.processor_=vT(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(A.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(A.EMPTY_NODE,l.getNode(),null),d=new lr(a,o.isFullyInitialized(),i.filtersNodes()),c=new lr(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=jl(c,d),this.eventGenerator_=new Xk(this.query_)}get query(){return this.query_}}function NT(e){return e.viewCache_.serverCache.getNode()}function IT(e,t){const n=ar(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!U(t)&&!n.getImmediateChild(F(t)).isEmpty())?n.getChild(t):null}function gp(e){return e.eventRegistrations_.length===0}function RT(e,t){e.eventRegistrations_.push(t)}function _p(e,t,n){const r=[];if(n){S(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function vp(e,t,n,r){t.type===Ct.MERGE&&t.source.queryId!==null&&(S(ar(e.viewCache_),"We should always have a full cache before handling merges"),S(sc(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=wT(e.processor_,i,t,n,r);return yT(e.processor_,s.viewCache),S(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Lv(e,s.changes,s.viewCache.eventCache.getNode(),null)}function PT(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ce,(s,o)=>{r.push(Zr(s,o))}),n.isFullyInitialized()&&r.push(kv(n.getNode())),Lv(e,r,n.getNode(),t)}function Lv(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return Jk(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul;class bT{constructor(){this.views=new Map}}function AT(e){S(!ul,"__referenceConstructor has already been defined"),ul=e}function OT(){return S(ul,"Reference.ts has not been loaded"),ul}function DT(e){return e.views.size===0}function Ud(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return S(s!=null,"SyncTree gave us an op for an invalid query."),vp(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(vp(o,t,n,r));return s}}function LT(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=ol(n,i?r:null),a=!1;l?a=!0:r instanceof A?(l=Md(n,r),a=!1):(l=A.EMPTY_NODE,a=!1);const u=jl(new lr(l,a,!1),new lr(r,i,!1));return new TT(t,u)}return o}function MT(e,t,n,r,i,s){const o=LT(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),RT(o,n),PT(o,n)}function FT(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Ln(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(_p(u,n,r)),gp(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(_p(a,n,r)),gp(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Ln(e)&&s.push(new(OT())(t._repo,t._path)),{removed:s,events:o}}function Mv(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Br(e,t){let n=null;for(const r of e.views.values())n=n||IT(r,t);return n}function Fv(e,t){if(t._queryParams.loadsAllData())return Ul(e);{const r=t._queryIdentifier;return e.views.get(r)}}function jv(e,t){return Fv(e,t)!=null}function Ln(e){return Ul(e)!=null}function Ul(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl;function jT(e){S(!cl,"__referenceConstructor has already been defined"),cl=e}function UT(){return S(cl,"Reference.ts has not been loaded"),cl}let $T=1;class yp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Y(null),this.pendingWriteTree_=pT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Uv(e,t,n,r,i){return nT(e.pendingWriteTree_,t,n,r,i),i?fi(e,new or(Ad(),t,n)):[]}function BT(e,t,n,r){rT(e.pendingWriteTree_,t,n,r);const i=Y.fromObject(n);return fi(e,new ei(Ad(),t,i))}function vn(e,t,n=!1){const r=iT(e.pendingWriteTree_,t);if(sT(e.pendingWriteTree_,t)){let s=new Y(null);return r.snap!=null?s=s.set(H(),!0):Pe(r.children,o=>{s=s.set(new G(o),!0)}),fi(e,new sl(r.path,s,n))}else return[]}function $l(e,t,n){return fi(e,new or(Od(),t,n))}function zT(e,t,n){const r=Y.fromObject(n);return fi(e,new ei(Od(),t,r))}function WT(e,t){return fi(e,new Es(Od(),t))}function HT(e,t,n){const r=Bd(e,n);if(r){const i=zd(r),s=i.path,o=i.queryId,l=Ve(s,t),a=new Es(Dd(o),l);return Wd(e,s,a)}else return[]}function dc(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||jv(o,t))){const a=FT(o,t,n,r);DT(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(s,(f,h)=>Ln(h));if(d&&!c){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=QT(f);for(let p=0;p<h.length;++p){const y=h[p],E=y.query,g=zv(e,y);e.listenProvider_.startListening(Ki(E),dl(e,E),g.hashFn,g.onComplete)}}}!c&&u.length>0&&!r&&(d?e.listenProvider_.stopListening(Ki(t),null):u.forEach(f=>{const h=e.queryToTagMap.get(Bl(f));e.listenProvider_.stopListening(Ki(f),h)}))}KT(e,u)}return l}function VT(e,t,n,r){const i=Bd(e,r);if(i!=null){const s=zd(i),o=s.path,l=s.queryId,a=Ve(o,t),u=new or(Dd(l),a,n);return Wd(e,o,u)}else return[]}function GT(e,t,n,r){const i=Bd(e,r);if(i){const s=zd(i),o=s.path,l=s.queryId,a=Ve(o,t),u=Y.fromObject(n),d=new ei(Dd(l),a,u);return Wd(e,o,d)}else return[]}function wp(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=Ve(f,i);s=s||Br(h,p),o=o||Ln(h)});let l=e.syncPointTree_.get(i);l?(o=o||Ln(l),s=s||Br(l,H())):(l=new bT,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=A.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{const y=Br(p,H());y&&(s=s.updateImmediateChild(h,y))}));const u=jv(l,t);if(!u&&!t._queryParams.loadsAllData()){const f=Bl(t);S(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=YT();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}const d=Ld(e.pendingWriteTree_,i);let c=MT(l,t,n,d,s,a);if(!u&&!o&&!r){const f=Fv(l,t);c=c.concat(qT(e,t,f))}return c}function $d(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=Ve(o,t),u=Br(l,a);if(u)return u});return Pv(i,t,s,n,!0)}function fi(e,t){return $v(t,e.syncPointTree_,null,Ld(e.pendingWriteTree_,H()))}function $v(e,t,n,r){if(U(e.path))return Bv(e,t,n,r);{const i=t.get(H());n==null&&i!=null&&(n=Br(i,H()));let s=[];const o=F(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,d=bv(r,o);s=s.concat($v(l,a,u,d))}return i&&(s=s.concat(Ud(i,e,r,n))),s}}function Bv(e,t,n,r){const i=t.get(H());n==null&&i!=null&&(n=Br(i,H()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=bv(r,o),d=e.operationForChild(o);d&&(s=s.concat(Bv(d,l,a,u)))}),i&&(s=s.concat(Ud(i,e,r,n))),s}function zv(e,t){const n=t.query,r=dl(e,n);return{hashFn:()=>(NT(t)||A.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?HT(e,n._path,r):WT(e,n._path);{const s=zS(i,n);return dc(e,n,null,s)}}}}function dl(e,t){const n=Bl(t);return e.queryToTagMap.get(n)}function Bl(e){return e._path.toString()+"$"+e._queryIdentifier}function Bd(e,t){return e.tagToQueryMap.get(t)}function zd(e){const t=e.indexOf("$");return S(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new G(e.substr(0,t))}}function Wd(e,t,n){const r=e.syncPointTree_.get(t);S(r,"Missing sync point for query tag that we're tracking");const i=Ld(e.pendingWriteTree_,t);return Ud(r,n,i,null)}function QT(e){return e.fold((t,n,r)=>{if(n&&Ln(n))return[Ul(n)];{let i=[];return n&&(i=Mv(n)),Pe(r,(s,o)=>{i=i.concat(o)}),i}})}function Ki(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(UT())(e._repo,e._path):e}function KT(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Bl(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function YT(){return $T++}function qT(e,t,n){const r=t._path,i=dl(e,t),s=zv(e,n),o=e.listenProvider_.startListening(Ki(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)S(!Ln(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,c)=>{if(!U(u)&&d&&Ln(d))return[Ul(d).query];{let f=[];return d&&(f=f.concat(Mv(d).map(h=>h.query))),Pe(c,(h,p)=>{f=f.concat(p)}),f}});for(let u=0;u<a.length;++u){const d=a[u];e.listenProvider_.stopListening(Ki(d),dl(e,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Hd(n)}node(){return this.node_}}class Vd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ue(this.path_,t);return new Vd(this.syncTree_,n)}node(){return $d(this.syncTree_,this.path_)}}const XT=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Ep=function(e,t,n){if(!e||typeof e!="object")return e;if(S(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return JT(e[".sv"],t,n);if(typeof e[".sv"]=="object")return ZT(e[".sv"],t);S(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},JT=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+e)}},ZT=function(e,t,n){e.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&S(!1,"Unexpected increment value: "+r);const i=t.node();if(S(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Wv=function(e,t,n,r){return Gd(t,new Vd(n,e),r)},Hv=function(e,t,n){return Gd(e,new Hd(t),n)};function Gd(e,t,n){const r=e.getPriority().val(),i=Ep(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Ep(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new we(l,xe(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new we(i))),o.forEachChild(ce,(l,a)=>{const u=Gd(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Kd(e,t){let n=t instanceof G?t:new G(t),r=e,i=F(n);for(;i!==null;){const s=qr(r.node.children,i)||{children:{},childCount:0};r=new Qd(i,r,s),n=X(n),i=F(n)}return r}function hi(e){return e.node.value}function Vv(e,t){e.node.value=t,fc(e)}function Gv(e){return e.node.childCount>0}function eN(e){return hi(e)===void 0&&!Gv(e)}function zl(e,t){Pe(e.node.children,(n,r)=>{t(new Qd(n,e,r))})}function Qv(e,t,n,r){n&&!r&&t(e),zl(e,i=>{Qv(i,t,!0,r)}),n&&r&&t(e)}function tN(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ls(e){return new G(e.parent===null?e.name:Ls(e.parent)+"/"+e.name)}function fc(e){e.parent!==null&&nN(e.parent,e.name,e)}function nN(e,t,n){const r=eN(n),i=Mt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,fc(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,fc(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=/[\[\].#$\/\u0000-\u001F\u007F]/,iN=/[\[\].#$\u0000-\u001F\u007F]/,$a=10*1024*1024,Yd=function(e){return typeof e=="string"&&e.length!==0&&!rN.test(e)},Kv=function(e){return typeof e=="string"&&e.length!==0&&!iN.test(e)},sN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Kv(e)},oN=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Ed(e)||e&&typeof e=="object"&&Mt(e,".sv")},Yv=function(e,t,n,r){r&&t===void 0||Wl(Ll(e,"value"),t,n)},Wl=function(e,t,n){const r=n instanceof G?new Ck(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+zn(r));if(typeof t=="function")throw new Error(e+"contains a function "+zn(r)+" with contents = "+t.toString());if(Ed(t))throw new Error(e+"contains "+t.toString()+" "+zn(r));if(typeof t=="string"&&t.length>$a/3&&Ml(t)>$a)throw new Error(e+"contains a string greater than "+$a+" utf8 bytes "+zn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Pe(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Yd(o)))throw new Error(e+" contains an invalid key ("+o+") "+zn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);xk(r,o),Wl(e,l,r),Sk(r)}),i&&s)throw new Error(e+' contains ".value" child '+zn(r)+" in addition to actual children.")}},lN=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=_s(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Yd(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Ek);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&ct(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},aN=function(e,t,n,r){if(r&&t===void 0)return;const i=Ll(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Pe(t,(o,l)=>{const a=new G(o);if(Wl(i,l,ue(n,a)),Td(a)===".priority"&&!oN(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),lN(i,s)},qv=function(e,t,n,r){if(!(r&&n===void 0)&&!Kv(n))throw new Error(Ll(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uN=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qv(e,t,n,r)},qd=function(e,t){if(F(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},cN=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Yd(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sN(n))throw new Error(Ll(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hl(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Nd(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Xv(e,t,n){Hl(e,n),Jv(e,r=>Nd(r,t))}function Nt(e,t,n){Hl(e,n),Jv(e,r=>ct(r,t)||ct(t,r))}function Jv(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(fN(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function fN(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Jn&&Ne("event: "+n.toString()),di(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="repo_interrupt",pN=25;class mN{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=il(),this.transactionQueueTree_=new Qd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gN(e,t,n){if(e.stats_=Sd(e.repoInfo_),e.forceRestClient_||GS())e.server_=new rl(e.repoInfo_,(r,i,s,o)=>{Cp(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>xp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Se(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Qt(e.repoInfo_,t,(r,i,s,o)=>{Cp(e,r,i,s,o)},r=>{xp(e,r)},r=>{_N(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=XS(e.repoInfo_,()=>new qk(e.stats_,e.server_)),e.infoData_=new Vk,e.infoSyncTree_=new yp({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=$l(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Xd(e,"connected",!1),e.serverSyncTree_=new yp({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Nt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function Zv(e){const n=e.infoData_.getNode(new G(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Vl(e){return XT({timestamp:Zv(e)})}function Cp(e,t,n,r,i){e.dataUpdateCount++;const s=new G(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=Jo(n,u=>xe(u));o=GT(e.serverSyncTree_,s,a,i)}else{const a=xe(n);o=VT(e.serverSyncTree_,s,a,i)}else if(r){const a=Jo(n,u=>xe(u));o=zT(e.serverSyncTree_,s,a)}else{const a=xe(n);o=$l(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=ni(e,s)),Nt(e.eventQueue_,l,o)}function xp(e,t){Xd(e,"connected",t),t===!1&&wN(e)}function _N(e,t){Pe(t,(n,r)=>{Xd(e,n,r)})}function Xd(e,t,n){const r=new G("/.info/"+t),i=xe(n);e.infoData_.updateSnapshot(r,i);const s=$l(e.infoSyncTree_,r,i);Nt(e.eventQueue_,r,s)}function Jd(e){return e.nextWriteId_++}function vN(e,t,n,r,i){Gl(e,"set",{path:t.toString(),value:n,priority:r});const s=Vl(e),o=xe(n,r),l=$d(e.serverSyncTree_,t),a=Hv(o,l,s),u=Jd(e),d=Uv(e.serverSyncTree_,t,a,u,!0);Hl(e.eventQueue_,d),e.server_.put(t.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||Ue("set at "+t+" failed: "+f);const y=vn(e.serverSyncTree_,u,!p);Nt(e.eventQueue_,t,y),hc(e,i,f,h)});const c=ef(e,t);ni(e,c),Nt(e.eventQueue_,c,[])}function yN(e,t,n,r){Gl(e,"update",{path:t.toString(),value:n});let i=!0;const s=Vl(e),o={};if(Pe(n,(l,a)=>{i=!1,o[l]=Wv(ue(t,l),xe(a),e.serverSyncTree_,s)}),i)Ne("update() called with empty data.  Don't do anything."),hc(e,r,"ok",void 0);else{const l=Jd(e),a=BT(e.serverSyncTree_,t,o,l);Hl(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,d)=>{const c=u==="ok";c||Ue("update at "+t+" failed: "+u);const f=vn(e.serverSyncTree_,l,!c),h=f.length>0?ni(e,t):t;Nt(e.eventQueue_,h,f),hc(e,r,u,d)}),Pe(n,u=>{const d=ef(e,ue(t,u));ni(e,d)}),Nt(e.eventQueue_,t,[])}}function wN(e){Gl(e,"onDisconnectEvents");const t=Vl(e),n=il();ic(e.onDisconnect_,H(),(i,s)=>{const o=Wv(i,s,e.serverSyncTree_,t);Tv(n,i,o)});let r=[];ic(n,H(),(i,s)=>{r=r.concat($l(e.serverSyncTree_,i,s));const o=ef(e,i);ni(e,o)}),e.onDisconnect_=il(),Nt(e.eventQueue_,H(),r)}function EN(e,t,n){let r;F(t._path)===".info"?r=wp(e.infoSyncTree_,t,n):r=wp(e.serverSyncTree_,t,n),Xv(e.eventQueue_,t._path,r)}function Sp(e,t,n){let r;F(t._path)===".info"?r=dc(e.infoSyncTree_,t,n):r=dc(e.serverSyncTree_,t,n),Xv(e.eventQueue_,t._path,r)}function CN(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hN)}function Gl(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ne(n,...t)}function hc(e,t,n,r){t&&di(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function ey(e,t,n){return $d(e.serverSyncTree_,t,n)||A.EMPTY_NODE}function Zd(e,t=e.transactionQueueTree_){if(t||Ql(e,t),hi(t)){const n=ny(e,t);S(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&xN(e,Ls(t),n)}else Gv(t)&&zl(t,n=>{Zd(e,n)})}function xN(e,t,n){const r=n.map(u=>u.currentWriteId),i=ey(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];S(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Ve(t,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{Gl(e,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(vn(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ql(e,Kd(e.transactionQueueTree_,t)),Zd(e,e.transactionQueueTree_),Nt(e.eventQueue_,t,d);for(let f=0;f<c.length;f++)di(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Ue("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}ni(e,t)}},o)}function ni(e,t){const n=ty(e,t),r=Ls(n),i=ny(e,n);return SN(e,i,r),r}function SN(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=Ve(n,a.path);let d=!1,c;if(S(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,i=i.concat(vn(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=pN)d=!0,c="maxretry",i=i.concat(vn(e.serverSyncTree_,a.currentWriteId,!0));else{const f=ey(e,a.path,o);a.currentInputSnapshot=f;const h=t[l].update(f.val());if(h!==void 0){Wl("transaction failed: Data returned ",h,a.path);let p=xe(h);typeof h=="object"&&h!=null&&Mt(h,".priority")||(p=p.updatePriority(f.getPriority()));const E=a.currentWriteId,g=Vl(e),m=Hv(p,f,g);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=m,a.currentWriteId=Jd(e),o.splice(o.indexOf(E),1),i=i.concat(Uv(e.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),i=i.concat(vn(e.serverSyncTree_,E,!0))}else d=!0,c="nodata",i=i.concat(vn(e.serverSyncTree_,a.currentWriteId,!0))}Nt(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(c==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(c),!1,null))))}Ql(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)di(r[l]);Zd(e,e.transactionQueueTree_)}function ty(e,t){let n,r=e.transactionQueueTree_;for(n=F(t);n!==null&&hi(r)===void 0;)r=Kd(r,n),t=X(t),n=F(t);return r}function ny(e,t){const n=[];return ry(e,t,n),n.sort((r,i)=>r.order-i.order),n}function ry(e,t,n){const r=hi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);zl(t,i=>{ry(e,i,n)})}function Ql(e,t){const n=hi(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Vv(t,n.length>0?n:void 0)}zl(t,r=>{Ql(e,r)})}function ef(e,t){const n=Ls(ty(e,t)),r=Kd(e.transactionQueueTree_,t);return tN(r,i=>{Ba(e,i)}),Ba(e,r),Qv(r,i=>{Ba(e,i)}),n}function Ba(e,t){const n=hi(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(vn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Vv(t,void 0):n.length=s+1,Nt(e.eventQueue_,Ls(t),i);for(let o=0;o<r.length;o++)di(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function TN(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ue(`Invalid query segment '${n}' in query '${e}'`)}return t}const kp=function(e,t){const n=NN(e),r=n.namespace;n.domain==="firebase.com"&&Zt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Zt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||FS();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new uv(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new G(n.pathString)}},NN=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let d=e.indexOf("/");d===-1&&(d=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(d,c)),d<c&&(i=kN(e.substring(d,c)));const f=TN(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const h=t.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IN=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Tp.charAt(n%64),n=Math.floor(n/64);S(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Tp.charAt(t[i]);return S(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Se(this.snapshot.exportVal())}}class sy{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:Td(this._path)}get ref(){return new nn(this._repo,this._path)}get _queryIdentifier(){const t=up(this._queryParams),n=Cd(t);return n==="{}"?"default":n}get _queryObject(){return up(this._queryParams)}isEqual(t){if(t=Rt(t),!(t instanceof tf))return!1;const n=this._repo===t._repo,r=Nd(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+wk(this._path)}}class nn extends tf{constructor(t,n){super(t,n,new bd,!1)}get parent(){const t=vv(this._path);return t===null?null:new nn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Cs{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new G(t),r=ri(this.ref,t);return new Cs(this._node.getChild(n),r,ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Cs(i,ri(this.ref,r),ce)))}hasChild(t){const n=new G(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Kl(e,t){return e=Rt(e),e._checkNotDeleted("ref"),t!==void 0?ri(e._root,t):e._root}function ri(e,t){return e=Rt(e),F(e._path)===null?uN("child","path",t,!1):qv("child","path",t,!1),new nn(e._repo,ue(e._path,t))}function PN(e,t){e=Rt(e),qd("push",e._path),Yv("push",t,e._path,!0);const n=Zv(e._repo),r=IN(n),i=ri(e,r),s=ri(e,r);let o;return t!=null?o=oy(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function bN(e){return qd("remove",e._path),oy(e,null)}function oy(e,t){e=Rt(e),qd("set",e._path),Yv("set",t,e._path,!1);const n=new bs;return vN(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function AN(e,t){aN("update",t,e._path,!1);const n=new bs;return yN(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class nf{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new iy("value",this,new Cs(t.snapshotNode,new nn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new sy(this,t,n):null}matches(t){return t instanceof nf?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class rf{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new sy(this,t,n):null}createEvent(t,n){S(t.childName!=null,"Child events should have a childName.");const r=ri(new nn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new iy(t.type,this,new Cs(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof rf?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function ON(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(d,c)=>{Sp(e._repo,e,l),a(d,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new RN(n,s||void 0),l=t==="value"?new nf(o):new rf(t,o);return EN(e._repo,e,l),()=>Sp(e._repo,e,l)}function DN(e,t,n,r){return ON(e,"value",t,n,r)}AT(nn);jT(nn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="FIREBASE_DATABASE_EMULATOR_HOST",pc={};let MN=!1;function FN(e,t,n,r){e.repoInfo_=new uv(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function jN(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Zt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ne("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=kp(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[LN]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=kp(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const d=i&&a?new Ur(Ur.OWNER):new KS(e.name,e.options,t);cN("Invalid Firebase Database URL",o),U(o.path)||Zt("Database URL must point to the root of a Firebase Database (not including a child path).");const c=$N(l,e,d,new QS(e.name,n));return new BN(c,e)}function UN(e,t){const n=pc[t];(!n||n[e.key]!==e)&&Zt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),CN(e),delete n[e.key]}function $N(e,t,n,r){let i=pc[t.name];i||(i={},pc[t.name]=i);let s=i[e.toURLString()];return s&&Zt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mN(e,MN,n,r),i[e.toURLString()]=s,s}class BN{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nn(this._repo,H())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Zt("Cannot call "+t+" on a deleted database.")}}function zN(e=G_(),t){const n=W_(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=O_("database");r&&WN(n,...r)}return n}function WN(e,t,n,r={}){e=Rt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Zt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Zt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ur(Ur.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:L_(r.mockUserToken,e.app.options.projectId);s=new Ur(o)}FN(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e){AS(H_),ps(new Xr("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return jN(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Pn(Gh,Qh,e),Pn(Gh,Qh,"esm2017")}Qt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Qt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};HN();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="firebasestorage.googleapis.com",ay="storageBucket",VN=2*60*1e3,GN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe extends ci{constructor(t,n,r=0){super(za(t),`Firebase Storage: ${n} (${za(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return za(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var de;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(de||(de={}));function za(e){return"storage/"+e}function sf(){const e="An unknown error occurred, please check the error payload for server response.";return new fe(de.UNKNOWN,e)}function QN(e){return new fe(de.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function KN(e){return new fe(de.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YN(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fe(de.UNAUTHENTICATED,e)}function qN(){return new fe(de.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XN(e){return new fe(de.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function JN(){return new fe(de.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZN(){return new fe(de.CANCELED,"User canceled the upload/download.")}function eI(e){return new fe(de.INVALID_URL,"Invalid URL '"+e+"'.")}function tI(e){return new fe(de.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function nI(){return new fe(de.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ay+"' property when initializing the app?")}function rI(){return new fe(de.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iI(){return new fe(de.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sI(e){return new fe(de.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mc(e){return new fe(de.INVALID_ARGUMENT,e)}function uy(){return new fe(de.APP_DELETED,"The Firebase app was deleted.")}function oI(e){return new fe(de.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yi(e,t){return new fe(de.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ri(e){throw new fe(de.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=et.makeFromUrl(t,n)}catch{return new et(t,"")}if(r.path==="")return r;throw tI(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${c}/${d}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},y=n===ly?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${E}`,"i"),_=[{regex:l,indices:a,postModify:s},{regex:h,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<_.length;C++){const T=_[C],k=T.regex.exec(t);if(k){const N=k[T.indices.bucket];let R=k[T.indices.path];R||(R=""),r=new et(N,R),T.postModify(r);break}}if(r==null)throw eI(t);return r}}class lI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(e,t,n){let r=1,i=null,s=null,o=!1,l=0;function a(){return l===2}let u=!1;function d(...E){u||(u=!0,t.apply(null,E))}function c(E){i=setTimeout(()=>{i=null,e(h,a())},E)}function f(){s&&clearTimeout(s)}function h(E,...g){if(u){f();return}if(E){f(),d.call(null,E,...g);return}if(a()||o){f(),d.call(null,E,...g);return}r<64&&(r*=2);let _;l===1?(l=2,_=0):_=(r+Math.random())*1e3,c(_)}let p=!1;function y(E){p||(p=!0,f(),!u&&(i!==null?(E||(l=2),clearTimeout(i),c(0)):E||(l=1)))}return c(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function uI(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(e){return e!==void 0}function dI(e){return typeof e=="object"&&!Array.isArray(e)}function of(e){return typeof e=="string"||e instanceof String}function Np(e){return lf()&&e instanceof Blob}function lf(){return typeof Blob<"u"}function Ip(e,t,n,r){if(r<t)throw mc(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw mc(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function cy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Zn;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Zn||(Zn={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n,r,i,s,o,l,a,u,d,c,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=c,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new io(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Zn.NO_ERROR,a=s.getStatus();if(!l||fI(a,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Zn.ABORT;r(!1,new io(!1,null,d));return}const u=this.successCodes_.indexOf(a)!==-1;r(!0,new io(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());cI(a)?s(a):s()}catch(a){o(a)}else if(l!==null){const a=sf();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(i.canceled){const a=this.appDelete_?uy():ZN();o(a)}else{const a=JN();o(a)}};this.canceled_?n(!1,new io(!1,null,!0)):this.backoffId_=aI(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&uI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class io{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function pI(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function mI(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function gI(e,t){t&&(e["X-Firebase-GMPID"]=t)}function _I(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function vI(e,t,n,r,i,s,o=!0){const l=cy(e.urlParams),a=e.url+l,u=Object.assign({},e.headers);return gI(u,t),pI(u,n),mI(u,s),_I(u,r),new hI(a,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wI(...e){const t=yI();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(lf())return new Blob(e);throw new fe(de.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EI(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(e){if(typeof atob>"u")throw sI("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wa{constructor(t,n){this.data=t,this.contentType=n||null}}function xI(e,t){switch(e){case Ot.RAW:return new Wa(dy(t));case Ot.BASE64:case Ot.BASE64URL:return new Wa(fy(e,t));case Ot.DATA_URL:return new Wa(kI(t),TI(t))}throw sf()}function dy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function SI(e){let t;try{t=decodeURIComponent(e)}catch{throw Yi(Ot.DATA_URL,"Malformed data URL.")}return dy(t)}function fy(e,t){switch(e){case Ot.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Yi(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ot.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Yi(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=CI(t)}catch(i){throw i.message.includes("polyfill")?i:Yi(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hy{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Yi(Ot.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=NI(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function kI(e){const t=new hy(e);return t.base64?fy(Ot.BASE64,t.rest):SI(t.rest)}function TI(e){return new hy(e).contentType}function NI(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,n){let r=0,i="";Np(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Np(this.data_)){const r=this.data_,i=EI(r,t,n);return i===null?null:new fn(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new fn(r,!0)}}static getBlob(...t){if(lf()){const n=t.map(r=>r instanceof fn?r.data_:r);return new fn(wI.apply(null,n))}else{const n=t.map(o=>of(o)?xI(Ot.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new fn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(e){let t;try{t=JSON.parse(e)}catch{return null}return dI(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function RI(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function my(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(e,t){return t}class Me{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||PI}}let so=null;function bI(e){return!of(e)||e.length<2?e:my(e)}function gy(){if(so)return so;const e=[];e.push(new Me("bucket")),e.push(new Me("generation")),e.push(new Me("metageneration")),e.push(new Me("name","fullPath",!0));function t(s,o){return bI(o)}const n=new Me("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Me("size");return i.xform=r,e.push(i),e.push(new Me("timeCreated")),e.push(new Me("updated")),e.push(new Me("md5Hash",null,!0)),e.push(new Me("cacheControl",null,!0)),e.push(new Me("contentDisposition",null,!0)),e.push(new Me("contentEncoding",null,!0)),e.push(new Me("contentLanguage",null,!0)),e.push(new Me("contentType",null,!0)),e.push(new Me("metadata","customMetadata",!0)),so=e,so}function AI(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new et(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function OI(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return AI(r,e),r}function _y(e,t,n){const r=py(t);return r===null?null:OI(e,r,n)}function DI(e,t,n,r){const i=py(t);if(i===null||!of(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=e.bucket,c=e.fullPath,f="/b/"+o(d)+"/o/"+o(c),h=Yl(f,n,r),p=cy({alt:"media",token:u});return h+p})[0]}function LI(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class af{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(e){if(!e)throw sf()}function MI(e,t){function n(r,i){const s=_y(e,i,t);return vy(s!==null),s}return n}function FI(e,t){function n(r,i){const s=_y(e,i,t);return vy(s!==null),DI(s,i,e.host,e._protocol)}return n}function yy(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=qN():i=YN():n.getStatus()===402?i=KN(e.bucket):n.getStatus()===403?i=XN(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function wy(e){const t=yy(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=QN(e.path)),s.serverResponse=i.serverResponse,s}return n}function jI(e,t,n){const r=t.fullServerUrl(),i=Yl(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,l=new af(i,s,FI(e,n),o);return l.errorHandler=wy(t),l}function UI(e,t){const n=t.fullServerUrl(),r=Yl(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(a,u){}const l=new af(r,i,o,s);return l.successCodes=[200,204],l.errorHandler=wy(t),l}function $I(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function BI(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=$I(null,t)),r}function zI(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let _="";for(let C=0;C<2;C++)_=_+Math.random().toString().slice(2);return _}const a=l();o["Content-Type"]="multipart/related; boundary="+a;const u=BI(t,r,i),d=LI(u,n),c="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+a+"--",h=fn.getBlob(c,r,f);if(h===null)throw rI();const p={name:u.fullPath},y=Yl(s,e.host,e._protocol),E="POST",g=e.maxUploadRetryTime,m=new af(y,E,MI(e,n),g);return m.urlParams=p,m.headers=o,m.body=h.uploadData(),m.errorHandler=yy(t),m}class WI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zn.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zn.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zn.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Ri("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ri("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ri("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ri("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ri("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class HI extends WI{initXhr(){this.xhr_.responseType="text"}}function uf(){return new HI}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,n){this._service=t,n instanceof et?this._location=n:this._location=et.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ur(t,n)}get root(){const t=new et(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return my(this._location.path)}get storage(){return this._service}get parent(){const t=II(this._location.path);if(t===null)return null;const n=new et(this._location.bucket,t);return new ur(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw oI(t)}}function VI(e,t,n){e._throwIfRoot("uploadBytes");const r=zI(e.storage,e._location,gy(),new fn(t,!0),n);return e.storage.makeRequestWithTokens(r,uf).then(i=>({metadata:i,ref:e}))}function GI(e){e._throwIfRoot("getDownloadURL");const t=jI(e.storage,e._location,gy());return e.storage.makeRequestWithTokens(t,uf).then(n=>{if(n===null)throw iI();return n})}function QI(e){e._throwIfRoot("deleteObject");const t=UI(e.storage,e._location);return e.storage.makeRequestWithTokens(t,uf)}function KI(e,t){const n=RI(e._location.path,t),r=new et(e._location.bucket,n);return new ur(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(e){return/^[A-Za-z]+:\/\//.test(e)}function qI(e,t){return new ur(e,t)}function Ey(e,t){if(e instanceof cf){const n=e;if(n._bucket==null)throw nI();const r=new ur(n,n._bucket);return t!=null?Ey(r,t):r}else return t!==void 0?KI(e,t):e}function XI(e,t){if(t&&YI(t)){if(e instanceof cf)return qI(e,t);throw mc("To use ref(service, url), the first argument must be a Storage instance.")}else return Ey(e,t)}function Rp(e,t){const n=t==null?void 0:t[ay];return n==null?null:et.makeFromBucketSpec(n,e)}function JI(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:L_(i,e.app.options.projectId))}class cf{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ly,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VN,this._maxUploadRetryTime=GN,this._requests=new Set,i!=null?this._bucket=et.makeFromBucketSpec(i,this._host):this._bucket=Rp(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=et.makeFromBucketSpec(this._url,t):this._bucket=Rp(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Ip("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Ip("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ur(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new lI(uy());{const o=vI(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Pp="@firebase/storage",bp="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="storage";function ZI(e,t,n){return e=Rt(e),VI(e,t,n)}function e2(e){return e=Rt(e),GI(e)}function t2(e){return e=Rt(e),QI(e)}function xy(e,t){return e=Rt(e),XI(e,t)}function n2(e=G_(),t){e=Rt(e);const r=W_(e,Cy).getImmediate({identifier:t}),i=O_("storage");return i&&r2(r,...i),r}function r2(e,t,n,r={}){JI(e,t,n,r)}function i2(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new cf(n,r,i,t,H_)}function s2(){ps(new Xr(Cy,i2,"PUBLIC").setMultipleInstances(!0)),Pn(Pp,bp,""),Pn(Pp,bp,"esm2017")}s2();const o2={apiKey:"AIzaSyCtVjZT5JpB4_SCXCV4kMVdRG59sUG0wrY",authDomain:"tobuy-ca0e7.firebaseapp.com",databaseURL:"https://tobuy-ca0e7-default-rtdb.firebaseio.com/",projectId:"tobuy-ca0e7",storageBucket:"tobuy-ca0e7.firebasestorage.app",messagingSenderId:"280913188519",appId:"1:280913188519:web:af695df01642d9dda9ad82"},Sy=V_(o2),ql=zN(Sy),ky=n2(Sy),Xl="shopping_list",l2=async(e,t)=>{try{if(!e||!t)throw new Error("Missing file or itemId for upload");const n=xy(ky,`shopping_images/${t}/${e.name}`);return await ZI(n,e),await e2(n)}catch(n){throw console.error("Error uploading image:",n),n}},gc=async e=>{if(e)try{const t=xy(ky,e);await t2(t)}catch(t){throw console.error("Error deleting image:",t),t}},a2=async e=>{try{const t=Kl(ql,Xl),n={...e,createdAt:new Date().toISOString()};return await PN(t,n)}catch(t){throw console.error("Error adding item:",t),t}},wo=async(e,t)=>{try{if(!e)throw new Error("No item ID provided for update");const n={...t};n.tags&&!Array.isArray(n.tags)&&(n.tags=[]),Object.keys(n).forEach(i=>{n[i]===void 0&&delete n[i]});const r=Kl(ql,`${Xl}/${e}`);await AN(r,n)}catch(n){throw console.error("Error updating item:",n),n}},u2=async e=>{try{const t=Kl(ql,`${Xl}/${e}`);await bN(t)}catch(t){throw console.error("Error deleting item:",t),t}},c2=e=>{try{const t=Kl(ql,Xl);return DN(t,n=>{const r=n.val(),i=r?Object.entries(r).map(([s,o])=>({id:s,...o})).sort((s,o)=>new Date(o.createdAt)-new Date(s.createdAt)):[];e(i)})}catch(t){throw console.error("Error subscribing to shopping list:",t),t}},d2=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState([]);w.useEffect(()=>{const f=c2(h=>{t(h)});return()=>f()},[]);const o=Array.from(new Set(e.flatMap(f=>f.tags||[]))),l=e.filter(f=>n?!0:!f.isBought).filter(f=>i.length===0||i.every(h=>{var p;return(p=f.tags)==null?void 0:p.includes(h)}));return{items:e,filteredItems:l,showBoughtItems:n,selectedFilterTags:i,allTags:o,setShowBoughtItems:r,toggleFilterTag:f=>{s(h=>h.includes(f)?h.filter(p=>p!==f):[...h,f])},handleAddItem:async f=>{if(!f.trim())return;const h={name:f,location:"",imageUrl:"",url:"",remarks:"",tags:[],isBought:!1};try{await a2(h)}catch(p){console.error("Error adding item:",p)}},handleDeleteItem:async f=>{try{const h=e.find(p=>p.id===f);h!=null&&h.imageUrl&&await gc(h.imageUrl),await u2(f)}catch(h){console.error("Error deleting item:",h)}},toggleItemBought:async f=>{try{await wo(f.id,{isBought:!f.isBought})}catch(h){console.error("Error toggling item status:",h)}}}},f2=e=>{const[t,n]=w.useState(!1),[r,i]=w.useState(null),[s,o]=w.useState({name:"",location:"",imageUrl:"",url:"",remarks:"",tags:[],isBought:!1}),[l,a]=w.useState(""),[u,d]=w.useState(null),[c,f]=w.useState(""),[h,p]=w.useState(!1),[y,E]=w.useState(""),[g,m]=w.useState([]);w.useEffect(()=>{const b=Array.from(new Set(e.flatMap(B=>B.tags||[])));m(b)},[e]);const _=b=>{i(b),o({name:b.name||"",location:b.location||"",imageUrl:b.imageUrl||"",url:b.url||"",remarks:b.remarks||"",tags:b.tags||[],isBought:b.isBought||!1}),n(!0)},C=b=>{if(b.preventDefault(),!l.trim())return;const B=l.trim();o(ve=>({...ve,tags:[...new Set([...ve.tags,B])]})),a("")};return{isDetailsPanelOpen:t,selectedItem:r,itemDetails:s,newTagInput:l,isEditingTag:u,editTagValue:c,tagSuggestions:g,isUploading:h,uploadError:y,setIsDetailsPanelOpen:n,setItemDetails:o,setNewTagInput:a,setIsEditingTag:d,setEditTagValue:f,handleItemClick:_,handleAddNewTag:C,handleSelectExistingTag:b=>{s.tags.includes(b)||o(B=>({...B,tags:[...B.tags,b]}))},handleRemoveTag:b=>{o(B=>({...B,tags:B.tags.filter(ve=>ve!==b)}))},handleEditTag:b=>{d(b),f(b)},handleUpdateTag:(b,B)=>{if(B.key==="Enter"&&c.trim()){const ve=c.trim();o(re=>({...re,tags:re.tags.map(ze=>ze===b?ve:ze)})),d(null)}else B.key==="Escape"&&d(null)},handleKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),C(b))},handleImageUpload:async(b,B)=>{if(!b&&B){p(!0),E("");try{if(s.imageUrl)if(await gc(s.imageUrl),o(re=>({...re,imageUrl:""})),B&&B.id)await wo(B.id,{imageUrl:""});else throw new Error("Invalid item or item ID for image deletion")}catch(re){console.error("Error deleting image:",re),E("Failed to delete image")}finally{p(!1)}return}if(!b||!B||!B.id){console.error("Missing file, item, or item ID for image upload");return}if(!["image/jpeg","image/png","image/gif","image/webp"].includes(b.type)){E("Please select a valid image file (JPEG, PNG, GIF, or WEBP)");return}if(b.size>5*1024*1024){E("Image size must be less than 5MB");return}p(!0),E("");try{s.imageUrl&&await gc(s.imageUrl);const re=await l2(b,B.id);o(ze=>({...ze,imageUrl:re})),await wo(B.id,{imageUrl:re}),E("Image uploaded successfully!"),setTimeout(()=>E(""),3e3)}catch(re){console.error("Error uploading image:",re),E("Failed to upload image. Please try again.")}finally{p(!1)}},handleUpdateItem:async()=>{if(!r||!r.id){console.error("Cannot update item: No selected item or item ID");return}try{const b={name:s.name||"",location:s.location||"",url:s.url||"",remarks:s.remarks||"",isBought:!!s.isBought};s.imageUrl&&(b.imageUrl=s.imageUrl),b.tags=Array.isArray(s.tags)?s.tags:[],await wo(r.id,b),n(!1)}catch(b){console.error("Error updating item:",b)}}}},Ty=()=>{const{items:e,filteredItems:t,showBoughtItems:n,selectedFilterTags:r,allTags:i,setShowBoughtItems:s,toggleFilterTag:o,handleAddItem:l,handleDeleteItem:a,toggleItemBought:u}=d2(),{isDetailsPanelOpen:d,selectedItem:c,itemDetails:f,newTagInput:h,isEditingTag:p,editTagValue:y,tagSuggestions:E,setIsDetailsPanelOpen:g,setItemDetails:m,setNewTagInput:_,setIsEditingTag:C,setEditTagValue:T,handleItemClick:k,handleAddNewTag:N,handleSelectExistingTag:R,handleRemoveTag:z,handleEditTag:O,handleUpdateTag:pe,handleKeyDown:b,handleImageUpload:B,handleUpdateItem:ve,isUploading:re,uploadError:ze}=f2(e);return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[v.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-8 space-y-8",children:[v.jsx("div",{className:"text-center pt-8 pb-12",children:v.jsx("h1",{className:"text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-300 to-blue-400",children:"Shopping List"})}),v.jsx(tE,{showBoughtItems:n,setShowBoughtItems:s,allTags:i,selectedFilterTags:r,toggleFilterTag:o}),v.jsx(nE,{onAddItem:l}),v.jsx(eE,{items:t,onItemClick:k,onDeleteItem:a,onToggleBought:u})]}),v.jsx(ex,{isOpen:d,setIsOpen:g,item:c,itemDetails:f,setItemDetails:m,onUpdateItem:ve,newTagInput:h,setNewTagInput:_,isEditingTag:p,setIsEditingTag:C,editTagValue:y,setEditTagValue:T,tagSuggestions:E,onAddNewTag:N,onSelectExistingTag:R,onRemoveTag:z,onEditTag:O,onUpdateTag:pe,onKeyDown:b,onImageUpload:B,isUploading:re,uploadError:ze})]})},Ny=()=>v.jsxs("div",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0",children:v.jsx("img",{src:"https://images.unsplash.com/photo-1533029030467-904d7bbd602b?q=80&w=2938&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Hero background",className:"w-full h-full object-cover opacity-80"})}),v.jsxs("div",{className:"relative z-10 text-center px-4",children:[v.jsx("h1",{className:"hero-text text-6xl md:text-7xl font-bold mb-8 tracking-tight max-w-4xl mx-auto py-2",children:"Derek Wong"}),v.jsx("p",{className:"text-xl text-gray-200 max-w-2xl mx-auto leading-relaxed",children:"Keep Going"}),v.jsxs("div",{className:"mt-12 flex flex-wrap justify-center gap-4",children:[v.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScNT8j00PmJn32MWjYO6AL-d0JCjvPQRhNQds9q9MqLrl-d3g/viewform?usp=sf_link",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"💰"}),v.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSfQXJuBOakxD4jZPOlROeHDBE2Qi8kvwT_mbplfjHhjjJDeoA/viewform?usp=sf_link",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"🏠"}),v.jsx("a",{href:"https://forms.gle/DHfPv65i4kG7dbBLA",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"🏆"}),v.jsx("a",{href:"https://www.notion.so/Restaurant-bookmark-17a4deb1905180f2b9ddc00407448a56",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"🍔"}),v.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSfG-jKMwJlpDUK47QGIyIaJxgJc74Avx_c6ACp2UKyd51tryQ/viewform?usp=pp_url&entry.549116440=Air&entry.1737958482=Yes&entry.1900711821=PM&entry.1154055986=Clinical+Owl+Limited&entry.52176025=Clinical+Owl+Limited&entry.2094240235=Hong+Kong&entry.1160294418=Tsuen+Wan+District&entry.1167055322=Tsuen+Wan+District&entry.561125814=Tsuen+Wan&entry.232368741=0&entry.1796256672=Block+A,+4/F.,+Kong+Nam+Industrial+Building,+603-609+Castle+Peak+Road,+Tsuen+Wan,+N.T.,+Hong+Kong&entry.1817835035='%2B852-91782314&entry.922400616=PP&entry.904525454=7.5&entry.1923126886=22.5&entry.1551925167=20.5&entry.1400980927=1&entry.1377870369=General&entry.1772655465=Flashcards&entry.2101260712=Flashcards&entry.1921056487=1",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"NSS (1)"}),v.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScWT0xnmqvzDd8foj4PtJy5NtYpXpzPWorPYIaJk4Wwj51dAQ/viewform?usp=pp_url&entry.260216209=COWL&entry.921267906=NL.KD&entry.1669552982=XXXXXXXX&entry.1768611087=FC002&entry.1863982148=1&entry.1074048422=PCS&entry.811386961=1&entry.1263891585=PCS&entry.584638905=HK",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"NSS (2)"}),v.jsx("a",{href:"http://www.notion.so/clinical-owl/Products-462ec30476a24f9ab3276078cbca66e9?pvs=4",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-full border border-white/20 hover:bg-white/10 transition-all duration-300",children:"🦉 Products"})]})]})]}),Iy=({project:e})=>v.jsx("a",{href:e.link,target:e.external?"_blank":void 0,rel:e.external?"noopener noreferrer":void 0,className:"group relative overflow-hidden",children:v.jsxs("div",{className:"project-card bg-white/5 border border-white/10 rounded-xl p-6 hover:bg-white/10 transition-all duration-500 transform",children:[v.jsx("div",{className:"text-4xl mb-4 ",children:e.icon}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),v.jsx("p",{className:"text-gray-400 text-sm",children:e.description}),v.jsxs("div",{className:"mt-4 inline-flex items-center text-xs font-medium text-white",children:["Learn More",v.jsx("svg",{className:"ml-2 w-3 h-3 transform group-hover:translate-x-2 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})}),h2=[{title:"Shopping",description:"To Buy List",icon:"🛒",link:"/mypage/shopping"},{title:"Place Calculator",description:"Easily calculate PLACE",icon:"🔢",link:"/mypage/place"},{title:"Trading Journal",description:"Track your trades",icon:"📈",link:"https://trading.derekwong.net",external:!0},{title:"Scorelab",description:"Democratize basketball statistic",icon:"🏀 ",link:"https://www.scorelab.tech",external:!0},{title:"Clinical Owl",description:"Make Medical Easier",icon:"📝",link:"https://www.clinicalowl.io",external:!0}];function p2(){return v.jsxs(v.Fragment,{children:[v.jsx(Ny,{}),v.jsxs("div",{className:"py-20 px-2",children:[v.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"My Tools"}),v.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h2.map((e,t)=>v.jsx(Iy,{project:e},t))})]}),v.jsxs("footer",{className:"border-t border-white/10 py-12 text-center text-gray-400",children:[v.jsxs("div",{className:"flex justify-center space-x-8 mb-8",children:[v.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:v.jsx(n_,{size:24})}),v.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:v.jsx(r_,{size:24})}),v.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:v.jsx(i_,{size:24})})]}),v.jsx("p",{children:"© 2024 Derek Wong. All rights reserved."})]})]})}function m2(){return v.jsx("div",{className:"min-h-screen bg-black text-white",children:v.jsxs(Zg,{children:[v.jsx(gn,{path:"/",element:v.jsx(p2,{})}),v.jsx(gn,{path:"/place",element:v.jsx(o_,{})}),v.jsx(gn,{path:"/shopping",element:v.jsx(Ty,{})})]})})}const g2=[{title:"Shopping",description:"To Buy List",icon:"🛒",link:"/shopping"},{title:"Place Calculator",description:"Easily calculate PLACE",icon:"🔢",link:"/place"},{title:"Trading Journal",description:"Track your trades",icon:"📈",link:"https://warm-trifle-dcda76.netlify.app",external:!0},{title:"Scorelab",description:"Democratize basketball statistic",icon:"🏀 ",link:"https://www.scorelab.tech",external:!0},{title:"Clinical Owl",description:"Make Medical Easier",icon:"📝",link:"https://www.clinicalowl.io",external:!0}];function _2(){return v.jsxs(v.Fragment,{children:[v.jsx(Ny,{}),v.jsxs("div",{className:"py-20 px-2",children:[v.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"My Tools"}),v.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g2.map((e,t)=>v.jsx(Iy,{project:e},t))})]}),v.jsxs("footer",{className:"border-t border-white/10 py-12 text-center text-gray-400",children:[v.jsxs("div",{className:"flex justify-center space-x-8 mb-8",children:[v.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:v.jsx(n_,{size:24})}),v.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:v.jsx(r_,{size:24})}),v.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:v.jsx(i_,{size:24})})]}),v.jsx("p",{children:"© 2024 Derek Wong. All rights reserved."})]})]})}function v2(){return v.jsx(W1,{children:v.jsx("div",{className:"min-h-screen bg-black text-white",children:v.jsxs(Zg,{children:[v.jsx(gn,{path:"/",element:v.jsx(_2,{})}),v.jsx(gn,{path:"/place",element:v.jsx(o_,{})}),v.jsx(gn,{path:"/shopping",element:v.jsx(Ty,{})}),v.jsx(gn,{path:"/mypage/*",element:v.jsx(m2,{})})]})})})}Ha.createRoot(document.getElementById("root")).render(v.jsx(M.StrictMode,{children:v.jsx(v2,{})}));
